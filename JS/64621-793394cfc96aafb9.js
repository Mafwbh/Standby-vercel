
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="8d29274b-2221-516a-8200-6e9df843d784")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64621],{97895:function(){},699248:function(e,t,n){"use strict";function r(e){throw Error("Exhaustiveness check failed")}n.d(t,{_:function(){return r}})},242429:function(e,t,n){"use strict";n.d(t,{Ld:function(){return l},tZ:function(){return u},Cb:function(){return d}});var r=n(33100),i=n(727833),a=n(556163);let l=async e=>{let{teamId:t,nextTier:n,source:l}=e,s=await (0,r.Io)(`/stripe/invoices/web-analytics${(0,i.c)({teamId:t})}`,{method:"PUT",body:{tier:n},throwOnHTTPError:!0});return"pro"===n?a.analytics.track(a.AnalyticsEvent.ANALYTICS_DOWNGRADE_SUCCESS,{teamId:t}):a.analytics.track(a.AnalyticsEvent.ANALYTICS_UPGRADE_SUCCESS,{teamId:t,source:l}),s};var s=n(625678),o=n(108072);async function d(e){let{teamId:t,retry:n=!1,source:r}=e,i=Date.now();do try{await l({nextTier:"plus",teamId:t,source:r});return}catch(e){if(e instanceof Error&&"You cannot upgrade or downgrade Web Analytics during a trial"===e.message)await new Promise(e=>{setTimeout(e,3e3)});else throw e}while(n&&Date.now()<i+3e4)}async function u(e){let{projectId:t,team:n,withPlus:a,retryOnTrialError:l=!0,source:u="enable_modal"}=e,c=null==n?void 0:n.id;if(t)try{var m;a&&c&&await d({teamId:c,retry:l,source:u}),await (0,r.Io)(`/api/v1/web/insights/toggle${(0,i.c)({projectId:t,teamId:c})}`,{method:"POST",body:{value:!0},throwOnHTTPError:!0}),o.co.track(o.s6.ANALYTICS_ENABLED,{teamId:c,projectId:t,plan:(null==n?void 0:null===(m=n.billing)||void 0===m?void 0:m.plan)||"hobby"})}catch(e){throw(0,s.x)(e)&&o.co.track(o.s6.ERROR,{message:e.message,name:e.name,teamId:c}),e}}},785366:function(e,t,n){"use strict";n.d(t,{Z:function(){return j},_:function(){return E}});var r=n(203713),i=n(23870),a=n(200018),l=n(917327),s=n(605889),o=n(678380),d=n(854093),u=n(769606),c=n(508080),m=n(735978),p=n(499979),f=n(784499),h=n(819430),v=n(385789),g=n(571349),b=n(665240),x=n(476514);let y={au_abn:{name:"Australian Business Number (AU ABN)",placeholder:"12345678912"},au_arn:{name:"Australian Taxation Office Reference Number",placeholder:"123456789123"},br_cnpj:{name:"Brazil CNPJ number",placeholder:"01.234.456/5432-10"},br_cpf:{name:"Brazil CPF number",placeholder:"123.456.789-87"},bg_uic:{name:"Bulgaria Unified Identification Code",placeholder:"123456789"},ca_bn:{name:"Canada BN",placeholder:"123456789"},ca_gst_hst:{name:"Canada GST/HST number",placeholder:"123456789RT0002"},ca_pst_bc:{name:"Canadian PST number (British Columbia)",placeholder:"PST-1234-5678"},ca_pst_mb:{name:"Canadian PST number (Manitoba)",placeholder:"123456-7"},ca_pst_sk:{name:"Canadian PST number (Saskatchewan)",placeholder:"1234567"},ca_qst:{name:"Canadian QST number (Qu\xe9bec)",placeholder:"1234567890TQ1234"},cl_tin:{name:"Chilean TIN",placeholder:"12.345.678-K"},eg_tin:{name:"Egyptian Tax Identification Number",placeholder:"123456789"},eu_vat:{name:"EU VAT number",placeholder:"DE000000000"},eu_oss_vat:{name:"European One Stop Shop VAT number for non-Union scheme",placeholder:"EU123456789"},ge_vat:{name:"Georgian VAT",placeholder:"123456789"},hk_br:{name:"Hong Kong BR number",placeholder:"12345678"},hu_tin:{name:"Hungary tax number (ad\xf3sz\xe1m)",placeholder:"12345678-1-23"},is_vat:{name:"Icelandic VAT",placeholder:"123456"},id_npwp:{name:"Indonesian NPWP number",placeholder:"12.345.678.9-012.345"},in_gst:{name:"Indian GST number",placeholder:"12ABCDE3456FGZH"},il_vat:{name:"Israel VAT",placeholder:"000012345"},jp_cn:{name:"Japanese Corporate Number (*Hōjin Bangō*)",placeholder:"1234567891234"},jp_rn:{name:"Japanese Registered Foreign Businesses' Registration Number (*Tōroku Kokugai Jigyōsha no Tōroku Bangō*)",placeholder:"12345"},jp_trn:{name:"Japanese Tax Registration Number (*Tōroku Bangō*)",placeholder:"T1234567891234"},ke_pin:{name:"Kenya Revenue Authority Personal Identification Number",placeholder:"P000111111A"},li_uid:{name:"Liechtensteinian UID number",placeholder:"CHE123456789"},my_frp:{name:"Malaysian FRP number",placeholder:"12345678"},my_itn:{name:"Malaysian ITN",placeholder:"C 1234567890"},my_sst:{name:"Malaysian SST number",placeholder:"A12-3456-78912345"},mx_rfc:{name:"Mexican RFC number",placeholder:"ABC010203AB9"},nz_gst:{name:"New Zealand GST number",placeholder:"123456789"},no_vat:{name:"Norwegian VAT number",placeholder:"123456789MVA"},ph_tin:{name:"Philippines Tax Identification Number",placeholder:"123456789012"},ru_inn:{name:"Russian INN",placeholder:"1234567891"},ru_kpp:{name:"Russian KPP",placeholder:"123456789"},sa_vat:{name:"Saudi Arabia VAT",placeholder:"123456789012345"},sg_gst:{name:"Singaporean GST",placeholder:"M12345678X"},sg_uen:{name:"Singaporean UEN",placeholder:"123456789F"},si_tin:{name:"Slovenia tax number (davčna številka)",placeholder:"12345678"},za_vat:{name:"South African VAT number",placeholder:"4123456789"},kr_brn:{name:"South Korean BRN",placeholder:"123-45-67890"},es_cif:{name:"Spanish NIF number",placeholder:"A12345678"},ch_vat:{name:"Switzerland VAT number",placeholder:"CHE-123.456.789 MWST"},tw_vat:{name:"Taiwanese VAT",placeholder:"12345678"},th_vat:{name:"Thai VAT",placeholder:"1234567891234"},tr_tin:{name:"Turkish Tax Identification Number",placeholder:"0123456789"},ua_vat:{name:"Ukrainian VAT",placeholder:"123456789"},ae_trn:{name:"United Arab Emirates TRN",placeholder:"123456789012345"},gb_vat:{name:"United Kingdom VAT number",placeholder:"GB123456789"},us_ein:{name:"United States EIN",placeholder:"12-3456789"}};function j(){let e=(0,f.Z)(),{isLoading:t}=(0,h.ZP)();return!e||e.isLoading||!e.user||t?(0,r.jsx)(x.Z,{}):(0,r.jsx)(_,{})}function _(){var e;let t=(0,f.Z)(),{can:n}=(0,h.ZP)(),{user:o,team:u}=t,x=u||o,j=(null==x?void 0:null===(e=x.billing)||void 0===e?void 0:e.tax)||null,[_,w]=(0,i.useState)(null),[S,T]=(0,i.useState)(!1),[I,k]=(0,i.useState)((null==j?void 0:j.id)||""),[C,N]=(0,i.useState)((null==j?void 0:j.type)||"eu_vat"),O=(0,d.useToasts)(),P=(0,i.useCallback)(async e=>{e.preventDefault();try{var n;w(null),T(!0);let e=(null===(n=y[C])||void 0===n?void 0:n.original)||C,r=I?{id:I,type:e}:null,i=new URLSearchParams(u?{teamId:u.id}:{}),a=await (0,m.Z)(`${p.en}?${i}`,{method:"PATCH",body:JSON.stringify({tax:r})});if(a.error)throw Error(a.error.message||"Unexpected error. Please try again later.");t.mutate(),O.success("Your tax ID has been updated.")}catch(e){w((0,a.errorToString)(e))}finally{T(!1)}},[u,C,I,t,O]),A=n(h.aU.Update,h._z.BillingTaxId),M=n(h.aU.Read,h._z.BillingTaxId);return(0,r.jsx)("div",{children:(0,r.jsx)("form",{onSubmit:(0,v._)(P),children:(0,r.jsxs)(c.pg,{disabled:!A,children:[(0,r.jsxs)(c.VY,{children:[(0,r.jsx)(c.Dx,{id:g.p.billing.taxId,children:g.p.billing.taxId}),(0,r.jsx)(c.QE,{children:"If you would like your invoice to render a specific tax ID, enter it here."}),M?(0,r.jsx)(E,{disabled:S||!A,onSetTaxIdType:N,onSetTaxValue:k,taxIdType:C,taxIdValue:I}):(0,r.jsxs)(l.K,{direction:"row",gap:2,children:[(0,r.jsx)(b.Z,{width:196,withChevronDown:!0}),(0,r.jsx)(b.Z,{width:196})]})]}),(0,r.jsxs)(c.$_,{disabled:!1,highlight:!A,children:[(0,r.jsx)(c.$_.Status,{children:_&&_?(0,r.jsx)(c.y,{children:_}):A?"Countries that do not use Tax IDs are not listed.":"You need additional information to manage your tax ID information on your invoice."}),A?(0,r.jsx)(c.$_.Actions,{children:(0,r.jsx)(s.Button,{loading:S,size:"small",width:S?100:80,children:S?"Saving":"Save"})}):null]})]})})})}function E(e){let{disabled:t,taxIdValue:n,taxIdType:a,onSetTaxIdType:s,onSetTaxValue:d}=e,c=(0,i.useMemo)(()=>Object.values(y).reduce((e,t)=>t.placeholder.length>e.placeholder.length?t:e,y.eu_vat).placeholder.length,[]);return(0,r.jsxs)(l.K,{align:{sm:"center"},direction:{sm:"row"},gap:3,children:[(0,r.jsx)(o.Select,{"aria-label":"Tax ID Type",disabled:t,name:"tax-id-type",onChange:e=>{s(e.target.value)},value:a,children:Object.entries(y).map(e=>{let[t,n]=e;return(0,r.jsx)("option",{value:t,children:n.name},t)})}),(0,r.jsx)(u.I,{"aria-label":"Tax ID",disabled:t,maxLength:254,name:"tax-id-value",onChange:e=>{d(e.target.value)},placeholder:y[a].placeholder,value:n,width:`${c+16}ch`})]})}},476514:function(e,t,n){"use strict";var r=n(203713),i=n(23870),a=n(283193),l=n(508080);t.Z=i.memo(e=>{let{height:t=79,footerHeight:n=32,extraHeight:i,noFooter:s,className:o}=e,d=~~(t/56);return(0,r.jsxs)(l.pg,{className:o,children:[(0,r.jsxs)(l.VY,{children:[(0,r.jsx)(a.O,{boxHeight:40,width:120}),Array(d).fill(0).map((e,t)=>(0,r.jsx)(a.O,{boxHeight:56,width:250},t)),(0,r.jsx)("div",{style:{height:i??Math.max(0,t-56*d-8*d)}})]}),!s&&(0,r.jsx)(l.$_,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{height:4}}),(0,r.jsx)(a.O,{boxHeight:n-8,width:200}),(0,r.jsx)("div",{style:{height:4}})]})})]})})},665240:function(e,t,n){"use strict";n.d(t,{C:function(){return o},Z:function(){return d}});var r=n(203713),i=n(463468),a=n.n(i),l=n(471961),s=n(783919);let o=e=>{let{width:t=100,style:n}=e;return(0,r.jsx)("div",{style:n,className:a().dynamic([["dcd26f3440e1e0b7",[t]]])+" bar",children:(0,r.jsx)(a(),{id:"dcd26f3440e1e0b7",dynamic:[t],children:`.bar.__jsx-style-dynamic-selector{max-width:${t}px;width:100%;height:16px;background-color:var(--accents-2);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}`})})};function d(e){let{width:t=256,withChevronDown:n=!1}=e;return(0,r.jsxs)("div",{className:a().dynamic([["ee977eb2f0f0c870",[t]]])+" wrapper",children:[(0,r.jsxs)(s.default,{row:!0,style:{justifyContent:"space-between"},children:[(0,r.jsx)(o,{width:n?.5*t:.64*t}),n?(0,r.jsx)(l._,{size:16}):null]}),(0,r.jsx)(a(),{id:"ee977eb2f0f0c870",dynamic:[t],children:`.wrapper.__jsx-style-dynamic-selector{max-width:${t}px;width:100%;height:40px;padding:7px var(--geist-gap-half);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);color:var(--themed-fg);background:var(--themed-bg);border:1px solid var(--themed-border,var(--accents-2))}`})]})}},56566:function(e,t,n){"use strict";n.d(t,{m:function(){return g},Y:function(){return v}});var r=n(203713),i=n(23870),a=n(566029),l=n(921071);let s=i.createContext({listId:"",inputId:"",inputValue:"",selectedIndex:0,inputRef:{current:null},filterList:null,listRef:{current:null},list:{current:[]},map:{current:{}},setInputValue:()=>void 0,setSelectedIndex:()=>void 0,force:()=>void 0}),o=()=>i.useContext(s),d=(0,l.hS)();var u=n(912720),c=n(657733),m=n(917327),p=n(732909),f=n.n(p),h=n(29871);function v(){let{selected:e=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=i.useState(e),[r,a]=i.useState(""),s=i.useRef(null),o=i.useRef(null),{ref:d,...u}=(0,l.Ak)(),c=function(e,t){let n=Object.values(e.current);return n.length?""===t?n:(0,h.Lu)(n,t,{keys:[e=>e.value]}):null}(u.map,r);return{inputValue:r,setInputValue:function(e){"string"==typeof e?a(e):a(e.target.value),n(0)},selectedIndex:t,setSelectedIndex:n,filterList:c,listRef:d,contentRef:s,inputRef:o,...u}}function g(e){let{children:t,inputValue:n,setInputValue:i,selectedIndex:l,setSelectedIndex:o,contentRef:d,inputRef:u,...c}=e,m=(0,a.M)(),p=(0,a.M)();return(0,r.jsx)(s.Provider,{value:{listId:m,inputId:p,inputValue:n,setInputValue:i,selectedIndex:l,setSelectedIndex:o,inputRef:u,filterList:[],listRef:{current:null},list:{current:[]},map:{current:{}},force:()=>void 0,...c},children:t})}g.Item=function(e){var t;let{children:n,callback:a,hideOnFilter:s,isStatic:u=!1,value:c,...m}=e,[p,f]=(0,i.useState)(""),h=!!m.isDocs;(0,i.useEffect)(()=>{let e=_.current;e&&f((e.textContent??"").trim())},[n]);let{selectedIndex:v,setSelectedIndex:g,filterList:b,list:x,map:y}=o(),{index:j,ref:_,id:E}=(0,l.Yf)(d,{value:s?null:c||p,callback:a,...m}),w=!!y.current[E],S=(null===(t=x.current[v])||void 0===t?void 0:t._internalId)===E,T=Array.isArray(b)&&w?b.findIndex(e=>{let{_internalId:t}=e;return t===E}):void 0;return((0,i.useEffect)(()=>{if(S&&_.current){let e=_.current,t=e.parentElement;if((null==t?void 0:t.hasAttribute("data-command-group"))&&t.firstChild===e){let n=e.closest("[data-command-list-wrapper]");t.parentElement&&(null==n?void 0:n.scrollTop)&&n.scrollTop>t.parentElement.offsetTop&&(n.scrollTop=t.parentElement.offsetTop)}e.scrollIntoView({block:"nearest"})}},[S]),h||-1!==T||u)?(0,r.jsx)("li",{...m,"aria-selected":S||void 0,"data-command-item":"","data-order":T,onClick:e=>{null==a||a(e)},onPointerMove:()=>{g(j)},ref:_,role:"option",children:n}):null},g.Group=function(e){let{children:t,heading:n,customHeading:l,className:s}=e,o=(0,a.M)(),d=(0,i.useRef)(null),[c,m]=(0,i.useState)(!0);return(0,u.Z)(()=>{d.current&&m(0!==d.current.children.length)}),(0,r.jsxs)("li",{role:"presentation",style:c?void 0:{display:"none"},children:[l?(0,r.jsx)("div",{id:o,children:l}):(0,r.jsx)("div",{className:s,"data-command-group-heading":"",id:o,children:n}),(0,r.jsx)("ul",{"aria-labelledby":o,"data-command-group":"",ref:d,role:"group",children:t})]})},g.Input=function(e){let{onKeyDown:t,disabled:n,...i}=e,{listId:a,inputId:l,inputValue:s,setInputValue:d,inputRef:u}=o(),p=function(){let{setSelectedIndex:e,selectedIndex:t,list:n}=o();function r(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Math.max(t-r,0);n.current[i]?e(i):e(0)}function i(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Math.min(t+r,n.current.length-1);n.current[i]?e(i):e(n.current.length||0)}return a=>{switch(a.key){case"Home":a.preventDefault(),e(0);break;case"End":a.preventDefault(),e(n.current.length||0);break;case"ArrowDown":a.preventDefault(),a.shiftKey?i(5):i();break;case"ArrowUp":a.preventDefault(),a.shiftKey?r(5):r();break;case"Enter":var l;a.preventDefault(),(null===(l=n.current[t])||void 0===l?void 0:l.callback)(a)}}}(),h=!!i.showClear;return(0,r.jsxs)(m.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)("input",{onChange:d,onKeyDown:e=>{p(e),null==t||t(e)},ref:u,value:s,...i,"aria-autocomplete":"list","aria-expanded":!0,"aria-haspopup":"listbox","aria-owns":a,autoComplete:"off",autoFocus:i.autoFocus??!0,"data-command-input":"",disabled:n,id:l,role:"combobox",spellCheck:!1,type:"text"}),!!h&&(0,r.jsx)("button",{className:""===s?f().hidebutton:f().button,onClick:()=>{var e;d(""),null===(e=u.current)||void 0===e||e.focus()},type:"button",children:(0,r.jsx)("span",{children:(0,r.jsx)(c.a,{size:20})})})]})},g.List=function(e){let{children:t,maxHeight:n=300,emptyMessage:a,disableDynamicHeight:l,...s}=e,c=(0,i.useRef)(null),{listId:m,listRef:p,map:h,list:v,force:g,inputValue:b}=o();(0,u.Z)(()=>{if(!p.current)return;let e=new Map,t=Array.from(p.current.querySelectorAll("[data-descendant], [data-command-separator]"));s.applySort&&t.sort((e,t)=>Number(e.getAttribute("data-order"))-Number(t.getAttribute("data-order"))),t.forEach(t=>{if(t.parentElement){var n;t.parentElement.appendChild(t);let r=t.closest("[data-command-list] > *");!r||r===t||r===p.current||e.has(r)||(null===(n=p.current)||void 0===n||n.appendChild(r),e.set(r,!0))}})},[b]),(0,u.Z)(()=>{if(!p.current||!c.current||l)return;let e=Math.min(p.current.offsetHeight+1,n);c.current.style.height=`${1===e?0:e}px`});let x=(0,i.useMemo)(()=>({list:v,map:h,force:g}),[v,h,g]);return(0,r.jsx)("div",{className:f().listWrapper,"data-command-list-wrapper":"",ref:c,children:(0,r.jsxs)("ul",{id:m,ref:p,role:"listbox",...s,"data-command-list":"",children:[0===v.current.length&&b.length>0&&(0,r.jsx)("div",{"data-command-empty":"",children:a}),(0,r.jsx)(d.Provider,{value:x,children:t})]})})},g.Separator=function(e){let{className:t}=e,{inputValue:n}=o(),a=(0,i.useRef)(null);return((0,u.Z)(()=>{let e=a.current;if(!e)return;let t=e.nextElementSibling;t&&t.hasAttribute("data-order")&&e.setAttribute("data-order",t.getAttribute("data-order"))}),n)?null:(0,r.jsx)("li",{className:t,"data-command-separator":"",ref:a,role:"separator"})}},750617:function(e,t,n){"use strict";n.d(t,{P:function(){return o},c:function(){return d}});var r=n(203713),i=n(23870),a=n(173392),l=n(573555),s=n.n(l);function o(e){let{title:t,children:n,className:l,noMaxHeight:o,...d}=e;return i.Children.count(n)?(0,r.jsxs)("details",{className:(0,a.W)(l,s().item,{[s()["no-max-height"]]:o}),...d,children:[(0,r.jsx)("summary",{className:s().summary,children:(0,r.jsx)("div",{children:t})}),(0,r.jsx)("div",{className:s().content,children:n})]}):(0,r.jsx)("div",{className:s().childless,children:t})}function d(e){let{children:t,className:n,...i}=e;return(0,r.jsx)("div",{className:(0,a.W)(n,s().subitem),...i,children:t})}},33012:function(e,t,n){"use strict";n.d(t,{K:function(){return L},FaviconOrFramework:function(){return M}});var r=n(203713),i=n(463468),a=n.n(i),l=n(173392),s=n(23870),o=n(200018),d=n(760643),u=n(283193),c=n(875629),m=n(917327),p=n(330826),f=n(470286),h=n(31899),v=n(951940),g=n(964171),b=n(953749),x=n(750617),y=n(246731),j=n(793726),_=n(224066),E=n(513601),w=n(905206),S=n(8533),T=n(613750),I=n(892838),k=n.n(I),C=n(582289),N=n.n(C),O=n(33100),P=n(499979);async function A(e){let{project:t,isReady:n,team:r,name:i,newProjectId:a}=e;n&&await (0,O.Io)(`${(0,P.z1)("v9")}/${t.id}/domains/${i}/move${r?`?teamId=${r.id}`:""}`,{throwOnHTTPError:!0,method:"POST",body:JSON.stringify({projectId:a})})}function M(e){let{project:t,hideSkeleton:n=!1,size:i=32,style:a}=e,s=(0,S.VW)(t),{data:o}=(0,T.Z)(s),d=(0,S.mk)(t);return(d||s&&o)&&n?(0,r.jsx)(f.Avatar,{className:(0,l.W)({[N().favicon]:!(null==o?void 0:o.isSquare),[k().frameworkIcon]:!!(!o&&d)}),size:i,src:(null==o?void 0:o.src)||(null==d?void 0:d.logo),style:a,title:t?t.name:void 0}):(0,r.jsx)(u.O,{height:i,rounded:!0,style:{flexShrink:0},width:i})}function L(e){let{active:t,dispatch:n,domain:i,projectIdOrNameInUse:l,revalidateDomains:c}=e,f=(0,s.useRef)(!1),[x,T]=(0,s.useState)(!1),I=(0,S.ic)(),{data:k}=(0,w.PY)(I),{team:C,isReady:O}=(0,_.t7)(),{data:P}=(0,w.PY)(i&&l?l:null),{data:L}=(0,E.g4)(P?{projectId:P.id,name:i}:null),F=L?L.redirect??L.name:null,B=t&&!!F&&!!k&&!!P,[U,{domains:z,isLoadingMore:K,loadMore:V,isReachingEnd:Z,initialDataLoaded:q}]=(0,E.Oe)(L&&P?P.id:null,F?{redirect:F,limit:20}:{}),W=(0,d.t)(),H=`/${W.query.teamSlug}/${null==P?void 0:P.name}/settings/domains`,G=`/${W.query.teamSlug}/${null==k?void 0:k.name}/settings/domains`,Y=(0,s.useCallback)(()=>{n({type:"DOMAIN_IN_USE_MODAL_CLOSE"}),T(!1)},[n]),J=async()=>{if(k&&i&&l&&L&&P&&F){T(!0);try{await A({project:P,isReady:O,name:F,team:C,newProjectId:k.id}),await c(),f.current=!0}catch(e){n({type:"DOMAIN_ADD_FAIL",error:e.component||(0,o.errorToString)(e)})}n({type:"DOMAIN_IN_USE_MODAL_CLOSE"}),T(!1)}};return(0,r.jsxs)(h.u.Modal,{active:B,onAnimationDone:()=>{f.current&&(n({type:"DOMAIN_ADD_SUCCESS"}),f.current=!1)},onClickOutside:Y,children:[(0,r.jsx)(h.u.Body,{children:(0,r.jsxs)(m.K,{direction:"column",gap:8,children:[(0,r.jsxs)("header",{className:"jsx-aedf4df6a7382869",children:[(0,r.jsx)(h.u.Title,{children:"Move Domain"}),(0,r.jsxs)(p.x,{children:["This domain is already associated with another project."," ",F&&F===i?(0,r.jsx)(r.Fragment,{children:"Please confirm you'd like to move the following domain and its redirects:"}):(0,r.jsx)(r.Fragment,{children:"Please confirm you'd like to transfer the following domain and the domain it redirects to:"})]})]}),(0,r.jsxs)(m.K,{direction:"column",gap:8,children:[F?(0,r.jsx)(v.Note,{className:N().noteCenterText,fill:!0,label:!1,size:"small",type:"lite",variant:"contrast",children:(0,r.jsx)(p.x,{align:"center",children:(0,r.jsx)(b.r,{external:!0,href:`https://${F}`,tab:!0,type:"highlight",children:F})})}):(0,r.jsx)(u.O,{height:32,width:"100%"}),(0,r.jsxs)(m.K,{direction:"row",justify:"space-evenly",children:[(0,r.jsxs)(m.K,{align:"center",direction:"column",flex:"0 0 36%",gap:2,children:[(0,r.jsx)(b.r,{href:H,target:"_blank",children:(0,r.jsx)(M,{hideSkeleton:!!(k&&P),project:P})}),(0,r.jsx)(p.x,{align:"center",className:"geist-hide-on-mobile",style:{maxWidth:"100px"},truncate:3,weight:500,wrap:!0,children:P&&k?(0,r.jsx)(b.r,{href:H,target:"_blank",title:P.name,variant:"primary",children:P.name}):(0,r.jsx)(u.O,{height:20,width:100})})]}),(0,r.jsx)(m.K,{align:"center",direction:"column",flex:"0 0 20%",children:(0,r.jsx)($,{})}),(0,r.jsxs)(m.K,{align:"center",direction:"column",flex:"0 0 36%",gap:2,children:[(0,r.jsx)(b.r,{href:G,target:"_blank",children:(0,r.jsx)(M,{hideSkeleton:!!(k&&P),project:k})}),(0,r.jsx)(p.x,{align:"center",className:"geist-hide-on-mobile",style:{maxWidth:"100px"},truncate:3,weight:500,wrap:!0,children:P&&k?(0,r.jsx)(b.r,{href:G,target:"_blank",title:k.name,variant:"primary",children:k.name}):(0,r.jsx)(u.O,{height:20,width:100})})]})]})]}),(0,r.jsxs)(h.u.Outset,{children:[(0,r.jsx)(D,{count:z.length+1,loading:!q,title:(0,r.jsxs)("span",{className:"jsx-aedf4df6a7382869",children:[z.length+1," ",0===z.length?"domain":"domains"," will be moved."]}),children:(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869",children:[(0,r.jsx)(R,{children:(0,r.jsx)(b.r,{external:!0,href:`https://${F}`,style:{flexGrow:"1"},tab:!0,children:F})},F),z.map(e=>(0,r.jsx)(R,{children:(0,r.jsx)(b.r,{external:!0,href:`https://${e.name}`,style:{flexGrow:"1"},tab:!0,children:e.name})},e.name)),!Z&&(0,r.jsxs)("div",{className:"jsx-aedf4df6a7382869 "+(N().inset||""),children:[(0,r.jsx)(y.Z,{loading:K,onClick:V}),(0,r.jsx)(j.L,{})]})]})}),(0,r.jsx)(j.L,{y:-1})]})]})}),(0,r.jsxs)(h.u.Actions,{children:[(0,r.jsx)(h.u.Action,{onClick:Y,type:"secondary",children:"Cancel"}),(0,r.jsx)(h.u.Action,{loading:x,onClick:J,children:x?(0,r.jsx)(g.x,{children:"Moving"}):`Move ${z.length+1}${Z?"":"+"} ${z.length+1>1?"domains":"domain"}`})]}),(0,r.jsx)(a(),{id:"aedf4df6a7382869",children:"header.jsx-aedf4df6a7382869{max-width:440px;margin:0 auto}header.jsx-aedf4df6a7382869>h2{margin:0;text-align:center}header.jsx-aedf4df6a7382869>p{color:var(--accents-5);margin:10px auto 0}.added.jsx-aedf4df6a7382869{color:#999;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}"})]})}function D(e){let{title:t,children:n,loading:i,count:a,open:l}=e;return i?(0,r.jsx)("div",{className:N().loadingItem,children:(0,r.jsx)(c.$,{size:14})}):0===a?(0,r.jsx)(x.P,{title:t}):(0,r.jsx)(x.P,{open:l,title:t,children:(0,r.jsx)("div",{className:N().content,children:n})})}function R(e){let{children:t}=e;return(0,r.jsx)(x.c,{className:N().subitem,children:t})}function $(){return(0,r.jsxs)("svg",{fill:"var(--accents-5)",height:"32",viewBox:"0 -6 66 32",width:"66",children:[(0,r.jsx)("path",{d:"M43 10c0 5.523-4.477 10-10 10s-10-4.477-10-10S27.477 0 33 0s10 4.477 10 10zM32.53 6.47a.75.75 0 10-1.06 1.06L33.94 10l-2.47 2.47a.75.75 0 101.06 1.06l3-3a.75.75 0 000-1.06l-3-3z"}),(0,r.jsx)("path",{d:"M.5 9.125v1h2.455v-1H.5zM4.864 9.125v1h3.909v-1h-3.91zM10.682 9.125v1h3.909v-1h-3.91zM16.5 9.125v1h3.91v-1H16.5zM45.59 9.125v1h3.91v-1h-3.91zM51.41 9.125v1h3.908v-1H51.41zM57.227 9.125v1h3.91v-1h-3.91zM63.045 9.125v1H65.5v-1h-2.455z"})]})}},148945:function(e,t,n){"use strict";n.d(t,{Xy:function(){return c},m8:function(){return m},tH:function(){return u},vE:function(){return p}});var r=n(203713),i=n(289118),a=n(836016),l=n(75116),s=n(966067),o=n(479545),d=n.n(o);function u(e){let{user:t,team:n}=e;return{name:(null==n?void 0:n.name)||(null==t?void 0:t.name)||(null==n?void 0:n.slug)||(null==t?void 0:t.username),slug:(null==n?void 0:n.slug)||(null==t?void 0:t.username),avatar:(null==n?void 0:n.avatar)||(null==t?void 0:t.avatar)}}function c(e){let{externalPublicDeployment:t,teamSlug:n,team:r,username:i}=e;return t?`${(0,l.P)(n)||""}`:r?void 0:i}function m(e){let{children:t,...n}=e;return(0,r.jsx)(i.C,{...n,className:d().lgltzb,"data-testid":(0,s.C)("scope-switcher","scope-badge"),size:"sm",children:t})}function p(e){var t;let{team:n,user:i,...l}=e,s=n||i,o=null==s?void 0:null===(t=s.billing)||void 0===t?void 0:t.plan;if(!o)return null;let d=(0,a.Z)(o),u=(0,a._j)(o);return(0,r.jsx)(m,{...l,variant:d,children:u})}},673017:function(e,t){"use strict";let n=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqip\xebri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (\xd6sterreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (Belgi\xeb)","be","32"],["Belize","bz","501"],["Benin (B\xe9nin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (R\xe9publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2],["Cocos (Keeling) Islands","cc","61",1],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["C\xf4te d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Cura\xe7ao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česk\xe1 republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (Rep\xfablica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (F\xf8royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane fran\xe7aise)","gf","594"],["French Polynesia (Polyn\xe9sie fran\xe7aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guin\xe9e)","gn","224"],["Guinea-Bissau (Guin\xe9 Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarorsz\xe1g)","hu","36"],["Iceland (\xcdsland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44",3],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1],["Mexico (M\xe9xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Mo\xe7ambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibi\xeb)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Cal\xe9donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panam\xe1)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Per\xfa)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["R\xe9union (La R\xe9union)","re","262",0],["Romania (Rom\xe2nia)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barth\xe9lemy (Saint-Barth\xe9lemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie fran\xe7aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe (S\xe3o Tom\xe9 e Pr\xedncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (S\xe9n\xe9gal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (Espa\xf1a)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (T\xfcrkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Citt\xe0 del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["\xc5land Islands","ax","358",1]],r=[];function i(e){r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return e.map(e=>({name:e[0],iso2:e[1],dialCode:e[2],priority:e[3]||0,areaCodes:e[4]||null}))}(e||n)}t.Z={initialize:i,getCountries:function(){return 0===r.length&&i(),r}}},447453:function(e,t,n){"use strict";n.d(t,{Q:function(){return o}});var r=n(203713),i=n(180498),a=n(494090),l=n(173750),s=n(353476);let o=e=>{var t;if((null===(t=e.billing)||void 0===t?void 0:t.plan)==="pro"){if("trialing"===e.billing.status&&e.billing.trial){let{end:t}=e.billing.trial,n=(0,l.F)(e.billing);if(t-n>(0,i.Z)("3d"))return(0,r.jsx)(s.m8,{variant:"trial",children:"Pro Trial"});let o=(0,a.DF)(t-n);return o=o.some(e=>"integer"===e.type)?[...o.slice(1),{type:"literal",value:" left"}]:[{type:"literal",value:"ends "},...o],(0,r.jsx)(s.m8,{variant:"trial",children:o.map(e=>e.value)})}if("overdue"===e.billing.status)return(0,r.jsx)(s.m8,{variant:"red-subtle",children:"Overdue"});if("expired"===e.billing.status)return(0,r.jsx)(s.m8,{size:"sm",variant:"gray-subtle",children:"Suspended"})}}},401534:function(e,t,n){"use strict";n.d(t,{Q:function(){return x}});var r=n(203713),i=n(23870),a=n(917327),l=n(556163),s=n(173392),o=n(970335),d=n(662898),u=n(330826),c=n(966067),m=n(819204),p=n.n(m);function f(e){let{selected:t,setSelected:n,focused:l,setFocused:m,id:f,header:h,description:v,variant:g,className:b}=e,x=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(l){var e;null===(e=x.current)||void 0===e||e.focus()}},[l]);let y=(0,i.useMemo)(()=>"string"==typeof v||"number"==typeof v?(0,r.jsx)(u.x,{color:"gray-900",children:v}):v,[v]);return(0,r.jsx)("li",{"aria-label":h,"aria-selected":t,className:(0,s.W)(p().option,b,{[p().selected]:t,[p().monochrome]:"monochrome"===g}),"data-testid":(0,c.C)("signup-v2",`${h}-select-option`),id:f,onClick:n,onFocus:m,onKeyDown:void 0,ref:x,role:"option",tabIndex:0,value:h,children:(0,r.jsxs)("div",{className:p().text,children:[(0,r.jsxs)(a.K,{direction:"column",gap:1,children:[(0,r.jsx)(u.x,{as:"label",htmlFor:"number",weight:500,children:h}),y]}),(0,r.jsx)("span",{children:t?(0,r.jsx)(o.I,{align:"middle",color:"monochrome"===g?"var(--geist-foreground)":"var(--ds-blue-900)",fill:t,size:"1.2rem"}):(0,r.jsx)(d.C,{align:"middle",color:"var(--accents-2)",size:"1.2rem"})})]})})}let h=/^[a-z0-9 ]$/i;var v=n(442534),g=n.n(v);function b(e,t){l.analytics.track(l.AnalyticsEvent.SELECTOR_OPTION_SELECT,{current:e,prev:t})}function x(e){let{ariaLabel:t,selected:n,onSelect:l,onClickSelect:s=l,options:o,direction:d="column",selectorOptionClassname:u}=e,c=e=>{b(e,n),l(e)},m=e=>{b(e,n),s(e)},[p,v]=(0,i.useState)(null),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,[n,r]=(0,i.useState)(e),a=(0,i.useRef)(null);return[n,(0,i.useCallback)(e=>{r(e),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{r("")},t)},[t])]}(e,t),a=()=>{r("")};return{value:n,push:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t.filter(e=>h.test(e)).join("").toLowerCase();r(e=>e+i)},pop:e=>{if(!(e<=0)){if(e>=n.length)return a();r(t=>t.slice(0,-e))}},clear:a}}("",500),y=()=>{v(e=>0===o.length?null:null===e||e===o.length-1?0:e+1)},j=()=>{v(e=>0===o.length?null:null===e||0===e?o.length-1:e-1)};return(0,i.useEffect)(()=>{if(""!==x.value){let e=o.findIndex(e=>e.header.toLowerCase().startsWith(x.value));-1!==e&&v(e)}},[x.value,o]),(0,r.jsx)("ul",{"aria-label":t,"aria-multiselectable":"false","aria-orientation":"column"===d?"vertical":"horizontal","aria-required":"true",className:g().selector,onKeyDown:e=>{var t,r;switch(e.key){case"ArrowDown":if("row"===d)return;e.preventDefault(),y();break;case"ArrowUp":if("row"===d)return;e.preventDefault(),j();break;case"ArrowRight":if("column"===d)return;e.preventDefault(),y();break;case"ArrowLeft":if("column"===d)return;e.preventDefault(),j();break;case"Enter":case" ":e.preventDefault(),null!==p&&(null===(t=o[p])||void 0===t?void 0:t.id)!==n?c((null===(r=o[p])||void 0===r?void 0:r.id)??null):c(null);break;case"Escape":e.preventDefault(),c(null);break;default:if((e.metaKey||e.ctrlKey)&&/\d/.test(e.key)||!h.test(e.key))return;e.preventDefault(),e.stopPropagation(),x.push(e.key)}},role:"listbox",children:(0,r.jsx)(a.K,{direction:d,gap:3,children:o.map((e,t)=>(0,r.jsx)(f,{className:u,description:e.description,focused:p===t,header:e.header,id:e.id,selected:n===e.id,setFocused:()=>v(t),setSelected:()=>{m(e.id===n?null:e.id)}},e.id))})})}},179309:function(e,t,n){"use strict";n.d(t,{B9:function(){return v},CO:function(){return f},Cb:function(){return y},EJ:function(){return b},Hx:function(){return m},Je:function(){return c},NK:function(){return d},R9:function(){return a},TH:function(){return l},Ub:function(){return s},Z:function(){return o},eD:function(){return u},ef:function(){return p},f6:function(){return h},h5:function(){return i},rx:function(){return g},tY:function(){return r},w$:function(){return x}});let r="kv",i="postgres",a="@vercel/postgres",l="@vercel/postgres-kysely",s="blob",o={postgres:"Postgres",redis:"KV","edge-config":"Edge Config",blob:"Blob",integration:"Store"},d={postgres:"Postgres",redis:"KV","edge-config":"Edge Config",blob:"Blob",mysql:"MySQL",vector:"Vector",all:"All Stores"},u={postgres:"Postgres Database",redis:"KV Database","edge-config":"Edge Config Store",blob:"Blob Store",integration:"Store"},c={postgres:"Serverless SQL",redis:"Durable Redis","edge-config":"Ultra-low latency reads",blob:"Fast object storage",integration:"Third-party storage"},m={postgres:"database",redis:"database","edge-config":"store",blob:"store",integration:"store"},p={redis:"KV",postgres:"POSTGRES",blob:"BLOB",integration:"STORE"},f={redis:"_URL",postgres:"_URL",blob:"_READ_WRITE_TOKEN",integration:"_URL"},h={postgres:"-postgres",redis:"-kv","edge-config":"-store",blob:"-blob",integration:"-store"},v={redis:{next:"templates/next.js/kv-redis-starter",svelte:"templates/svelte/kv-redis-sveltekit"},postgres:{next:"templates/next.js/postgres-starter",svelte:"templates/svelte/postgres-sveltekit"},blob:{next:"templates/next.js/blob-starter",svelte:"templates/svelte/blob-sveltekit"}},g={createDatabase:"/docs/storage",redis:{index:"/docs/storage/vercel-kv",package:"/docs/storage/vercel-kv/kv-reference",updateRegions:"/docs/storage/vercel-kv/limits#vercel-kv-region-list",soc2:"/docs/storage/vercel-kv/limits#security",limitReached:"/docs/storage/vercel-kv/usage-and-pricing#billing-information",redisCompatibility:"/docs/storage/vercel-kv/redis-compatibility"},postgres:{index:"/docs/storage/vercel-postgres",package:"/docs/storage/vercel-postgres/using-vercel-postgres-sdk",soc2:"/docs/storage/vercel-postgres/limits#security",limitReached:"/docs/storage/vercel-postgres/usage-and-pricing#billing-information"},blob:{index:"/docs/storage/vercel-blob",package:"/docs/storage/vercel-blob/using-blob-sdk",delete:"/docs/storage/vercel-blob/using-blob-sdk#delete-a-blob",limitReached:"/docs/storage/vercel-blob#limits"},integration:{limitReached:"/docs"},"edge-config":{limitReached:"/docs/storage/edge-config/edge-config-limits#limits"}},b={postgres:{product:"Vercel Postgres",title:"Neon Terms of Service",link:"https://neon.tech/terms-of-service"},redis:{product:"Vercel KV",title:"Upstash Terms of Service",link:"https://upstash.com/static/trust/terms.pdf"},"edge-config":{product:"",title:"",link:""},blob:{product:"Vercel Blob",title:"",link:""},integration:{product:"",title:"",link:""}},x={suspended:(e,t)=>"pro"===t||"enterprise"===t?{intro:`This ${m[e]} has been suspended.`,text:`Update your payment method within 30 days to avoid permanent deletion of your ${m[e]}.`,short:"Suspended",actionLabel:"Update Payment"}:{intro:`This ${m[e]} has been suspended.`,text:`Upgrade to Pro within 30 days to avoid permanent deletion of your ${m[e]} and its data.`,short:"Suspended",actionLabel:"Upgrade to Pro"},"limits-exceeded-suspended":(e,t)=>({intro:`You have reached your usage limits for this ${m[e]} using the ${"pro-trial"===t?"Pro-Trial":"Hobby"} plan.`,text:"pro-trial"===t?"Upgrade to Pro to end your trial and increase the limits.":"Upgrade to Pro to increase the limits.",short:"Limits reached",actionLabel:"Upgrade to Pro"}),initializing:e=>({intro:`Your ${m[e]} is being initialized.`,short:"Initializing"}),error:e=>({intro:`We could not connect to your ${m[e]}.`,short:"Connection error"})},y={create:"Create Database",connect:"Connect Database"}},196388:function(e,t,n){"use strict";n.d(t,{CreateTeamModal:function(){return es},iL:function(){return er},qP:function(){return ei}});var r=n(203713),i=n(23870),a=n(993467),l=n.n(a),s=n(539936),o=n(31899),d=n(854093),u=n(200018),c=n(966067),m=n(556163),p=n(914803),f=n(33100),h=n(499979),v=n(264552),g=n(454626);n(444806),n(718557),n(39239);var b=n(784499);let x=e=>`new_team_survey_${e}`;var y=n(590770),j=n(927767),_=n(927564),E=n(779854),w=n(901983),S=n(369907);function T(){let{user:e}=(0,E.a)(),t=function(){let{value:e}=(0,w.p$)(),{value:t}=(0,S.p$)();return(0,i.useMemo)(()=>e||t,[e,t])}();return e&&null!==t?t?{ready:!0,canCreateTrial:!0}:{ready:!0,canCreateTrial:e.hasTrialAvailable??!0}:{ready:!1}}var I=n(133804),k=n(887315),C=n(962429),N=n(800056),O=n(433571),P=n(917327),A=n(330826),M=n(563033),L=n(401534),D=n(446349),R=n(320910),$=n(953749);function F(e){let{disallowTrial:t,selectedPlan:n="paid",validSelectorOptions:r=["trial","paid"]}=e;if(r.includes("free"))return"free"===n?{name:"user-with-no-hobby-teams-and-trials-selected-hobby",showSelector:!0,disallowTrial:!0,selectedPlan:"free",validSelectorOptions:["free","paid"]}:{name:"user-with-no-hobby-teams-and-trials-selected-pro",showSelector:!0,disallowTrial:!0,selectedPlan:"paid",validSelectorOptions:["free","paid"]};let i=r.includes("trial");return t?i?{name:"we-selected-pro",showSelector:!1,disallowTrial:!0,selectedPlan:"paid",validSelectorOptions:["paid"]}:{name:"user-had-to-go-pro",showSelector:!1,disallowTrial:!0,selectedPlan:"paid",validSelectorOptions:["paid"]}:"paid"===n?i?{name:"user-selected-pro",showSelector:!0,disallowTrial:!1,selectedPlan:"paid",validSelectorOptions:["trial","paid"]}:{name:"user-had-to-go-pro",showSelector:!1,disallowTrial:!0,selectedPlan:"paid",validSelectorOptions:["paid"]}:i?{name:"user-selected-trial",showSelector:!0,disallowTrial:!1,selectedPlan:"trial",validSelectorOptions:["trial","paid"]}:{name:"user-had-to-go-pro",showSelector:!1,disallowTrial:!1,selectedPlan:"paid",validSelectorOptions:["paid"]}}let B=(0,i.createContext)(null),U=()=>(0,i.useContext)(B);function z(e){let{children:t,cancelButton:n,continueButton:a,skipButton:l}=e,[s,d]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1),{goto:{next:p},backOrCancel:f,title:h,subtitle:v,defaultCancelText:g,defaultContinueText:b,close:x}=U(),y=async()=>{d(!0),(null==n?void 0:n.onClick)?await n.onClick():await f(x),d(!1)},j=async()=>{m(!0),(null==l?void 0:l.onClick)&&await l.onClick(),m(!1)},_=async e=>{d(!0),(null==a?void 0:a.onClick)?await a.onClick(e):p(),d(!1)};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),_(new FormData(e.currentTarget))},children:[(0,r.jsxs)(o.u.Body,{children:[(0,r.jsx)(o.u.Header,{children:(0,r.jsx)(o.u.Title,{children:h})}),v?(0,r.jsx)(A.x,{color:"gray-800",size:14,children:v}):null,(0,r.jsx)(r.Fragment,{children:t})]}),(0,r.jsxs)(o.u.Actions,{children:[(0,r.jsx)(o.u.Action,{disabled:null==n?void 0:n.disabled,onClick:()=>void y(),type:"secondary",children:(null==n?void 0:n.text)??g}),(0,r.jsxs)(P.K,{direction:"row",children:[l?(0,r.jsx)(o.u.Action,{buttonType:"button","data-testid":(0,c.C)("create-team-modal","skip-button"),disabled:l.disabled,loading:u,onClick:j,type:"secondary",children:l.text??"Add Later"}):null,(0,r.jsx)(o.u.Action,{buttonType:"submit","data-testid":(0,c.C)("create-team-modal","save-button"),disabled:null==a?void 0:a.disabled,loading:s,children:(null==a?void 0:a.text)??b})]})]})]})}let K={free:{id:"free",header:"Free",description:"Start for free"},trial:{id:"trial",header:"Pro Trial",description:"Free for two weeks"},paid:{id:"paid",header:"Pro",description:"Get started now"}};function V(e){let{clicks:t,timeBetweenClicks:n=200}=e,[r,a]=(0,i.useState)(0),l=(0,i.useRef)(void 0),[s,o]=(0,i.useState)(!1);return{flipped:s,click:()=>{if(clearTimeout(l.current),!s&&r+1>=t){o(!0);return}a(e=>e+1),l.current=setTimeout(()=>a(0),n)}}}function Z(e){let{trialAllowance:t,setTrialAllowance:n,teamName:a,backText:l,setTeamName:s,submissionError:o,createTeam:d,onBack:u}=e,{flipped:m,click:p}=V({clicks:20}),f=(0,i.useRef)(!1),{flipped:h,click:g}=V({clicks:20}),b=(0,i.useRef)(!1),{disableStep:x,enableStep:y,nextOrSubmit:j}=U(),{showSelector:_,validSelectorOptions:E,selectedPlan:w}=t,S=(0,i.useMemo)(()=>E.map(e=>({...K[e]})),[E]),T=(0,D.xO)(),[I,k]=(0,i.useState)(void 0),[C,N]=(0,i.useState)(w),{isReady:O,parameter:B}=(0,v.P0)("gro_1685_cc_gate_trial","gated"),Z=(0,i.useCallback)(()=>{if(0===a.length)return"Team name is required"},[a]),q=(0,i.useCallback)(()=>{let e=Z();e?k(e):k(void 0)},[Z]),W=(0,i.useCallback)(async()=>{let e=Z();e?k(e):(k(void 0),await j(d))},[d,j,Z]),H=(0,i.useCallback)(e=>{let{priorSelection:t,newSelection:n}=e;"free"!==t&&"free"===n?(x("team-members"),x("pricing")):"free"===t&&"free"!==n&&(y("team-members"),y("pricing")),O&&!B&&("trial"!==t&&"trial"===n?x("pricing"):"trial"===t&&"paid"===n&&y("pricing"))},[O,x,y,B]);return(0,i.useEffect)(()=>{O&&!B&&"trial"===w&&x("pricing")},[O,B]),(0,i.useEffect)(()=>{"free"===w&&(x("team-members"),x("pricing"))},[]),(0,i.useEffect)(()=>{if(!f.current&&m){f.current=!0;let e=F({...t,selectedPlan:"free",validSelectorOptions:["free","paid"]});H({priorSelection:w,newSelection:e.selectedPlan}),n(e),N("free")}},[x,H,w,n,t,m]),(0,i.useEffect)(()=>{if(!b.current&&h){b.current=!0;let e=F({...t,selectedPlan:"free",validSelectorOptions:["paid"]});H({priorSelection:w,newSelection:e.selectedPlan}),n(e)}},[x,H,w,n,t,h,m]),(0,r.jsx)(z,{cancelButton:{text:l??"Cancel",onClick:u},continueButton:{onClick:W},children:(0,r.jsxs)(P.K,{gap:6,children:[(0,r.jsx)(R.I,{autoFocus:!0,"data-testid":(0,c.C)("create-team-modal","team-name"),error:I,id:"create-team-modal-team-name",label:"Team Name",maxLength:48,onBlur:q,onChange:e=>s(e.currentTarget.value),onClick:m?g:p,onFocus:e=>e.currentTarget.select(),value:a,width:"100%"}),_?(0,r.jsx)(L.Q,{ariaLabel:"Select plan type",direction:"row",onSelect:e=>{null!==e&&(N(e),H({priorSelection:w,newSelection:F({...t,selectedPlan:e}).selectedPlan}),n(F({...t,selectedPlan:e})))},options:S,selected:C}):null,"free"!==w?(0,r.jsx)(D.ZP,{...T,summary:"trial"===w?(0,r.jsx)(A.x,{weight:500,children:"Continuing will start a 14-day Pro plan trial."}):(0,r.jsx)(A.x,{weight:500,children:"Continuing will start a monthly Pro plan subscription."}),children:(0,r.jsx)(D.aB,{children:(0,r.jsxs)(P.K,{gap:2,children:[(0,r.jsx)(A.x,{children:"Creating a new team will not affect your Personal Account (Hobby) or any of its projects."}),(0,r.jsx)("div",{children:(0,r.jsx)($.r,{external:!0,href:"/docs/accounts/plans/pro/trials",tab:!0,variant:"highlight",children:(0,r.jsx)(A.x,{color:"inherit",weight:500,children:"Learn More"})})})]})})}):null,o?(0,r.jsx)(M.j,{children:o}):null]})})}var q=n(477103);function W(e){let{teamMembers:t,setTeamMembers:n,createTeam:a}=e,{nextOrSubmit:l}=U(),[s,o]=(0,i.useState)(void 0),d=(0,i.useCallback)(async()=>{if(t.some(e=>e.error)){o("One or more of your team members has an invalid email."),(0,O.k)({type:"create",error:Error("One or more of your team members has an invalid email."),attributes:{invalidTeamMemberEmails:t.filter(e=>e.error).map(e=>e.email).join(",")}});return}o(void 0),await l(a)},[a,l,t]);return(0,r.jsx)(z,{continueButton:{onClick:d,text:t.some(e=>""!==e.email)?"Continue":"Skip"},children:(0,r.jsxs)(P.K,{gap:4,children:[(0,r.jsx)(A.x,{align:"left",color:"gray-900",lineHeight:20,size:14,children:"Want to collaborate with team members on projects?"}),(0,r.jsx)(q.n,{defaultRole:"MEMBER",enabledRoles:[{label:"Member",role:"MEMBER"},{label:"Owner",role:"OWNER"}],setTeamMembers:e=>{let t=!1;for(let n of e)if(void 0!==n.error){o(n.error),t=!0;break}t||o(void 0),n(e)},teamMembers:t}),s?(0,r.jsx)(M.j,{children:s}):null]})})}var H=n(149522),G=n(376344),Y=n(837612),J=n(937185),X=n(846014);let Q=(0,H._K)(function(e){let{userCurrency:t,teamMembers:n,setGrandTotal:a,setPaymentMethodId:l,createTeam:s,trialAllowance:o,gated:d}=e,{enableStep:c,disableStep:m,nextOrSubmit:p}=U(),[f,h]=(0,i.useState)(null),{stripe:v,submit:g,disabled:b,...x}=(0,H.e2)(),{mutate:y}=(0,j.g)({enabled:!0}),[_,E]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(x.error){let e=(0,u.normalizeError)(x.error).message;(0,O.k)({type:"create",error:Error(`Billing form error: ${e}`)})}},[x.error]);let w=(0,i.useCallback)(async e=>{f&&h(null),E(!0);try{await (0,G.g4)(async()=>{let t;let n=(0,X.k)(e);if(n instanceof Error)throw n;let r=await g({assignCardToEntity:!1})??void 0;if(!r){c("pricing");return}l(r),await y().catch(e=>{let t=(0,u.normalizeError)(e).message;(0,O.k)({type:"create",error:Error(`Failed to revalidate Stripe sources: ${t}`)})});let i=e.get("tax-id-type"),a=e.get("tax-id-value");null!==i&&null!==a&&(t={type:i.toString(),value:a.toString()}),m("pricing"),await p(()=>s({paymentMethodId:r,address:n,taxId:t}))},{name:"create-team"})}catch(t){let e=(0,u.normalizeError)(t).message;h(e),(0,O.k)({type:"create",error:Error(`Pricing step error: ${e}`)})}finally{E(!1)}},[f,g,l,y,m,p,c,s]);return(0,r.jsx)(z,{continueButton:{onClick:w,disabled:b},skipButton:d&&"trial"===o.selectedPlan?{onClick:()=>p(s)}:void 0,children:(0,r.jsx)(Y.U,{currency:t,newTeamMembers:n,setGrandTotal:e=>a(e),trial:!!(d&&"trial"===o.selectedPlan),children:(0,r.jsxs)(P.K,{gap:5,children:[v?(0,r.jsx)(H.U1,{breakLine:!0,...x}):(0,r.jsx)(H.a1,{}),(0,r.jsx)(J.E,{disabled:_}),f?(0,r.jsx)(M.j,{children:f}):null]})})})});var ee=n(421346),et=n(876119),en=n.n(et);let er=(0,ee.ZP)(e=>({isOpen:!1,open:t=>{m.analytics.addScope("create-team-modal"),m.analytics.track(m.AnalyticsEvent.OPEN_CREATE_TEAM_MODAL,{source:t.source,modalVersion:"v3"}),el.setState(t),e({isOpen:!0})},close:()=>{m.analytics.removeScope("create-team-modal"),e({isOpen:!1})}})),ei=()=>er(e=>e.open),ea={source:"unknown",disallowTrial:!1,skipTransferModal:!1,title:"Create Team",onTeamCreate:en(),onCreateError:en(),disabledSteps:[],subtitle:void 0,onBack:void 0,backText:void 0},el=(0,ee.ZP)(e=>({...ea,reset:()=>{e(ea)}}));function es(){return er(e=>e.isOpen)?(0,r.jsx)(eo,{}):null}function eo(){var e;let t=(0,_.E)(),n=(0,i.useRef)(!1),{isReady:a,parameter:E,triggerExperimentViewed:w}=(0,v.P0)("gro_1685_cc_gate_trial","gated"),{source:S,disallowTrial:P,skipTransferModal:A,title:M,onTeamCreate:L,onCreateError:D,disabledSteps:R,subtitle:$,onBack:U,backText:z,reset:K}=el(),V=er(e=>e.close),q=(0,s.useRouter)(),{user:H,isLoading:G,mutate:Y}=(0,b.Z)(),{mutate:J}=(0,y.x)({enabled:!0}),{mutate:X}=(0,j.g)({enabled:!0}),{mutate:ee}=(0,I.X)(),et=(0,i.useCallback)(async()=>{await Promise.all([Y(),J(),X(),ee()]).catch(e=>{let t=(0,u.normalizeError)(e).message;(0,O.k)({type:"create",error:Error(t),attributes:{userId:(null==H?void 0:H.uid)??""}})})},[Y,J,X,ee,null==H?void 0:H.uid]),en=(0,N.h)({steps:["team-name","team-members","pricing"],workflowName:"create-team-modal",immutableDisabledSteps:new Set(R)});(0,i.useEffect)(()=>{a&&!n.current&&(n.current=!0,w())},[a,w]);let ei=(0,i.useRef)(performance.now()),{ready:ea,canCreateHobbyTeam:es}=function(){let{user:e,teams:t}=(0,b.Z)(),{ready:n,canCreateTrial:r}=T();return e&&t&&n?"northstar"!==e.version?{ready:!0,canCreateHobbyTeam:!1}:{ready:!0,canCreateHobbyTeam:!t.some(e=>{var t;return(null===(t=e.billing)||void 0===t?void 0:t.plan)==="hobby"})&&!r}:{ready:!1}}(),{canCreateTrial:eo}=T(),ed=(0,i.useMemo)(()=>es?["free","paid"]:eo?["trial","paid"]:["paid"],[es,eo]),[eu,ec]=(0,i.useState)(F({disallowTrial:P,selectedPlan:ed[0],validSelectorOptions:ed})),[em,ep]=(0,i.useState)((null==H?void 0:H.name)?`${H.name}'s Team`:"My Team"),[ef,eh]=(0,i.useState)(null),[ev,eg]=(0,i.useState)([]),[eb,ex]=(0,i.useState)(0),[ey,ej]=(0,i.useState)(void 0),e_=(0,i.useCallback)(()=>{m.analytics.track(m.AnalyticsEvent.CLOSE_CREATE_TEAM_MODAL,{source:S,modalVersion:"v3",timeInModalMs:performance.now()-ei.current,teamMembers:ev.filter(e=>e.email).length,creditCardAdded:a&&E?!!ef:null}),V(),K()},[a,V,E,ef,K,S,ev]),eE=(0,i.useCallback)(async function(){var e,n,r;let{address:i,paymentMethodId:s,taxId:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=s??ef,v=!!c;if(!em){ej("Team name is required."),en.goto.step("team-name"),(0,O.k)({type:"create",error:Error("Missing team name"),attributes:{userId:(null==H?void 0:H.uid)??""}});return}let b=l()(em),y=(0,C.J)(),j=await (0,p.C)({name:em,slug:b,source:"create-team-modal",plan:"free"===eu.selectedPlan?"hobby":"pro",...v?{paymentMethodId:c}:{},bypassTrial:"paid"===eu.selectedPlan,fixSlugConflict:!0,attribution:y});if("error"in j){ej(j.error.message),en.goto.step("team-name"),D(),(0,O.k)({type:"create",error:Error(j.error.message),attributes:{userId:(null==H?void 0:H.uid)??"",paymentMethodId:c??void 0}});return}let _=await (0,f.Io)(`${h.c1}/${j.id}`);m.analytics.track(m.AnalyticsEvent.CREATE_TEAM_MODAL_CREATED_TEAM,{source:S,modalVersion:"v3",newTeamOwnerId:(null==H?void 0:H.uid)??"",newTeamId:_.id,newTeamCreatedAt:_.created,newTeamPlan:null===(e=_.billing)||void 0===e?void 0:e.plan,newTeamIsOnTrial:(null===(n=_.billing)||void 0===n?void 0:n.status)==="trialing",userBypassedTrial:"user-selected-pro"===eu.name,weBypassedTrial:"we-selected-pro"===eu.name,timeInModalMs:performance.now()-ei.current,cartTotal:eb,teamMembers:ev.filter(e=>e.email).length,creditCardAdded:a&&E?v:null}),await et();let w=i?(0,k.T)(_.id,i,o).then(et).catch(e=>{let t=(0,u.normalizeError)(e).message;throw(0,O.k)({type:"create",error:Error(`Error saving billing address: ${t}`),attributes:{teamId:_.id}}),Error("Failed to save billing address.")}):null;if(Promise.all([...ev.filter(e=>e.email).map(e=>(0,f.Io)(`${h.CZ}/${_.id}/members`,{method:"POST",body:JSON.stringify({email:e.email,role:e.role}),throwOnHTTPError:!0})),w]).catch(e=>{if(e instanceof Error&&"Failed to save billing address."===e.message)d.toasts.message({text:"There was a problem saving your billing address. Please visit billing settings to update it.",action:"Go to Settings",onAction:()=>{null==q||q.replace(`/${_.slug}/~/settings/billing#billing-address`)},cancelAction:"Dismiss",preserve:!0});else{d.toasts.message({text:"Failed to invite one or more team members. Please visit team settings to check on them.",action:"Go to Settings",onAction:()=>{null==q||q.push(`/${_.slug}/~/settings/members`)},cancelAction:"Dismiss",preserve:!0});let t=(0,u.normalizeError)(e).message;(0,O.k)({type:"create",error:Error(`Error inviting team member(s): ${t}`),attributes:{teamId:_.id}})}}),(null===(r=_.billing)||void 0===r?void 0:r.plan)!=="hobby"){let e=x(_.id);(0,g.d8)(e,"1","1d")}V(),L(_),A||t({team:_,skipScopeUpdate:!0,showSkipButton:!0,source:S}),K()},[ef,em,eu.selectedPlan,eu.name,S,null==H?void 0:H.uid,eb,ev,a,E,et,V,A,L,D,t,K,en.goto,q]),ew=(0,i.useMemo)(()=>({...en,title:M,subtitle:$,defaultCancelText:en.isFirstEnabledStep?"Cancel":"Back",defaultContinueText:en.isLastEnabledStep?"Create Team":"Continue",close:e_}),[e_,en,$,M]);return(0,r.jsx)(B.Provider,{value:ew,children:ea&&!G?(0,r.jsxs)(o.u.Modal,{active:!0,"data-testid":(0,c.C)("team","create-team-modal"),onClickOutside:e_,width:480,children:["team-name"===en.step?(0,r.jsx)(Z,{backText:z,createTeam:eE,onBack:U,setTeamName:ep,setTrialAllowance:ec,submissionError:ey,teamName:em,trialAllowance:eu}):null,"team-members"===en.step?(0,r.jsx)(W,{createTeam:eE,setTeamMembers:eg,teamMembers:ev}):null,"pricing"===en.step?(0,r.jsx)(Q,{createTeam:eE,gated:E,setGrandTotal:ex,setPaymentMethodId:eh,teamMembers:ev,trialAllowance:eu,userCurrency:(null==H?void 0:null===(e=H.billing)||void 0===e?void 0:e.currency)??"USD"}):null]}):null})}},477103:function(e,t,n){"use strict";n.d(t,{n:function(){return v}});var r=n(203713),i=n(546118),a=n(794784),l=n(23870),s=n(52981),o=n.n(s),d=n(917327),u=n(605889),c=n(678380),m=n(89821),p=n(320910),f=n(671658),h=n.n(f);function v(e){let{teamMembers:t,setTeamMembers:n,defaultRole:s,enabledRoles:f}=e,v=e=>{let t=e.email.trim();if(""!==t&&!o()(t))return"Email is invalid"};return(0,l.useEffect)(()=>{0===t.length&&n([{email:"",role:s}])},[]),(0,r.jsxs)(d.K,{gap:4,children:[(0,r.jsx)(d.K,{className:h()["member-list"],gap:4,children:t.map((e,a)=>(0,r.jsxs)("div",{className:h().input,children:[(0,r.jsx)("div",{children:(0,r.jsx)(p.I,{"aria-label":"Team member email",maxLength:320,onBlur:()=>{n((0,m.ZP)(t,t=>{t[a].error=v(e)}))},onChange:e=>{n((0,m.ZP)(t,t=>{t[a].email=e.target.value}))},placeholder:"tom.holdplacen@gmail.com",type:e.error?"error":"default",typeName:"email",value:e.email})}),(0,r.jsx)(c.Select,{onChange:e=>{e.preventDefault(),n((0,m.ZP)(t,t=>{t[a].role=e.target.value}))},value:e.role,children:f.map(e=>(0,r.jsx)("option",{value:e.role,children:e.label},e.role))}),(0,r.jsx)(u.Button,{"aria-label":"Remove team member",onClick:()=>{n([...t.slice(0,a),...t.slice(a+1)])},svgOnly:!0,type:"secondary",typeName:"button",children:(0,r.jsx)(i.S,{})})]},a))}),(0,r.jsx)(u.Button,{className:h()["add-member"],onClick:()=>{n([...t,{email:"",role:s}])},prefix:(0,r.jsx)(a.F,{}),type:"secondary",typeName:"button",children:"Add Member"})]})}},937185:function(e,t,n){"use strict";n.d(t,{E:function(){return I}});var r=n(203713),i=n(23870),a=n(917327),l=n(769606),s=n(730434),o=n(678380),d=n(966067),u=n(179060),c=n(673017),m=n(31395),p=n(785366),f=n(200018),h=n(990758),v=n(695381),g=n.n(v),b=n(499979),x=n(33100),y=n(727833);async function j(e){let{query:t,country:n,limit:r}=e;return(0,x.Io)(`${b.Yb}${(0,y.c)({query:t,limit:r,country:n})}`,{method:"GET",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0})}var _=n(94084),E=n(433571),w=n(248550),S=n.n(w);function T(e){let{disabled:t,revealAddressDetails:n,setRevealAddressDetails:o,onAddressDetailsChange:d,address1:c,setAddress:m,countryCode:p}=e,v=(0,_.useIsMobile)(),[b,x]=(0,i.useState)([]),[y,w]=(0,i.useState)(!1),T=(0,i.useMemo)(()=>g()(async e=>{try{if(e.length<=3)return;let{addresses:t}=await j({query:e,country:p});x(t)}catch(t){let e=(0,f.normalizeError)(t);(0,E.k)({type:"upgrade",error:Error(`Failed to get address suggestions: ${e.message}`)}),x([])}finally{w(!1)}},250),[p]),I=e=>{e.preventDefault();let t=e.target.value;d(e),w(!0),T(t)},k=()=>{n||o(!0)};return(0,i.useEffect)(()=>{v&&o(!0)},[v]),(0,r.jsx)(a.K,{gap:2,children:(0,r.jsx)(s._,{value:"Billing Address",children:v?(0,r.jsx)(l.I,{"aria-label":"Address 1",autoComplete:"billing address-line1",className:S().detectAutofill,name:"address1",onAnimationStart:k,onChange:I,required:!0}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{name:"address1",required:!0,type:"hidden",value:c}),(0,r.jsxs)(h.y,{disabled:t,filter:(e,t)=>e,name:"address1",onChange:e=>{if("manual"===e)o(!0);else if(e){let t=b[Number(e)];if("US"===p)m({address1:t.addressLabel,address2:"",city:t.city,state:t.stateCode,zip:t.postalCode});else{let e=u.data[p.toUpperCase()].sub,n=`${p}-${t.stateCode}`;m({address1:t.addressLabel,address2:"",city:t.city,state:n in e?n:"",zip:t.postalCode})}n||o(!0)}},onClear:()=>{x([]),m({address1:"",address2:"",city:"",state:"",zip:""})},placeholder:"Find your address...",value:c,children:[(0,r.jsx)(h.y.Input,{autoComplete:"billing address-line1",className:S().detectAutofill,"data-form-type":"other",loading:y,name:"address1",onAnimationStart:k,onChange:I,required:!0}),(0,r.jsx)(h.y.List,{collisionPadding:{bottom:120},hideOnEmpty:n,hideWhenDetached:!0,children:(0,r.jsxs)(r.Fragment,{children:[b.map((e,t)=>(0,r.jsx)(h.y.Option,{value:t.toString(),children:e.formattedAddress},e.formattedAddress)),n?null:(0,r.jsx)(h.y.Option,{displayLast:!0,value:"manual",children:"Enter address manually"},"manual")]})})]})]})})})}function I(e){let{disabled:t=!1}=e,n=(0,i.useMemo)(()=>c.Z.getCountries(),[]),[f,h]=(0,i.useState)("us"),[v,g]=(0,i.useState)({address1:"",address2:"",city:"",state:"",zip:""}),[b,x]=(0,i.useState)("eu_vat"),[y,j]=(0,i.useState)(""),_=(0,i.useRef)(null),[E,w]=(0,i.useState)(!1),S=e=>{let{name:t,value:n}=e.target;g({...v,[t]:n})},I=(0,i.useMemo)(()=>{if("us"===f||null===f)return m.u;let e=u.data[f.toUpperCase()].sub;return Object.keys(e).map(t=>{let n=e[t];return[t,n.name]})},[f]);return(0,r.jsxs)(a.K,{gap:5,children:[(0,r.jsx)(a.K,{gap:2,children:(0,r.jsx)(s._,{value:"Country",children:(0,r.jsx)(o.Select,{autoComplete:"country",disabled:t,name:"country",onChange:e=>{h(e.target.value)},placeholder:"Select a country...",value:f??void 0,children:n.map(e=>(0,r.jsx)("option",{value:e.iso2,children:e.name},e.iso2))})})}),(0,r.jsx)(T,{address1:v.address1,countryCode:(null==f?void 0:f.toUpperCase())||"US",disabled:t,onAddressDetailsChange:S,revealAddressDetails:E,setAddress:g,setRevealAddressDetails:w}),(0,r.jsxs)(a.K,{"aria-hidden":!E,className:E?void 0:"geist-visually-hidden","data-testid":(0,d.C)("billing-address-form","address-details"),gap:5,children:[(0,r.jsx)(a.K,{children:(0,r.jsx)(s._,{style:{flex:1},value:"Address 2",children:(0,r.jsx)(l.I,{"aria-label":"Address 2",autoComplete:"billing address-line2",disabled:t,name:"address2",onChange:S,ref:_,tabIndex:E?void 0:-1,value:v.address2})})}),(0,r.jsxs)(a.K,{direction:"row",gap:5,children:[(0,r.jsx)(s._,{style:{flex:1},value:"City",children:(0,r.jsx)(l.I,{"aria-label":"City",autoComplete:"billing address-level2",disabled:t,name:"city",onChange:S,required:E,tabIndex:E?void 0:-1,value:v.city})}),(0,r.jsx)(s._,{style:{maxWidth:"164px"},value:"us"===f?"State":"State/Province/Region",children:(0,r.jsx)(o.Select,{"aria-label":"us"===f?"State":"State/Province/Region",autoComplete:"billing address-level1",disabled:t,name:"state",onChange:e=>{let t=e.target.value;g({...v,state:t})},required:E,tabIndex:E?void 0:-1,value:v.state,children:I.map(e=>{let[t,n]=e;return(0,r.jsx)("option",{value:t,children:n},t)})})}),(0,r.jsx)(s._,{value:"us"===f?"Zip Code":"ZIP / Postal Code",children:(0,r.jsx)(l.I,{"aria-label":"us"===f?"Zip Code":"ZIP / Postal Code",autoComplete:"billing postal-code",disabled:t,name:"zip",onChange:S,required:E,tabIndex:E?void 0:-1,value:v.zip,width:108})})]})]}),"us"!==f&&(0,r.jsx)(s._,{style:{flex:1},value:"Tax ID",children:(0,r.jsx)(p._,{disabled:t,onSetTaxIdType:x,onSetTaxValue:j,taxIdType:b,taxIdValue:y})})]})}},846014:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(497816),i=n(22582);let a=r.z.string().refine(e=>"null"!==e&&2===e.length,{message:"Country is required"}),l=r.z.object({zipCode:r.z.string({invalid_type_error:"Missing value",required_error:"Missing value"}),line1:r.z.string().refine(e=>"null"!==e&&e,{message:"Missing value"}),line2:r.z.string().optional(),state:r.z.string({invalid_type_error:"Missing value",required_error:"Missing value"}),city:r.z.string({invalid_type_error:"Missing value",required_error:"Missing value"})}).required();function s(e){try{let t=a.parse(e.get("country"));return{...l.parse({zipCode:e.get("zip"),line1:e.get("address1"),line2:e.get("address2"),state:e.get("state"),city:e.get("city")}),country:t}}catch(e){return e instanceof r.z.ZodError?(0,i.CC)(e,{issueSeparator:". ",prefixSeparator:": ",prefix:"Error"}):e}}},368942:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});let r=Object.freeze({pro:{title:"Pro",price:2e3,subLineItems:[]},teamSeats:{title:"Additional Team Seats",price:2e3,subLineItems:[]},concurrentBuilds:{title:"Concurrent Builds",price:5e3,subLineItems:[{title:"1 Free Concurrent Build",price:0,unit:"month"}]},bandwidth:{title:"Bandwidth – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB",subLineItems:[]},serverlessFunctionExecution:{title:"Serverless Function Execution – Overage Fee",price:4e3,batch:100,threshold:1e3,unit:"GB-Hours",subLineItems:[]},artifacts:{title:"Vercel Remote Caching",price:50,batch:1,threshold:10,unit:"GB",subLineItems:[]},edgeMiddlewareInvocations:{title:"Edge Middleware Invocations",price:65,batch:1e6,threshold:1e6,unit:"invocations",subLineItems:[]},edgeFunctionExecutionUnits:{title:"Edge Function Execution Units",price:200,batch:1e6,threshold:1e6,unit:"execution units",subLineItems:[]},sourceImages:{title:"Source Images",price:500,batch:1e3,threshold:5e3,subLineItems:[]},speedInsights:{title:"Speed Insights",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Events",subtitle:"Billed after 10k events",price:65,batch:1e4,threshold:1e4,unit:"10k"}]},passwordProtection:{title:"Advanced Deployment Protection",price:15e3,subLineItems:[{title:"Password Protection",price:0},{title:"Protection Bypass for Automation",price:0},{title:"Private Production Deployments",price:0}]},previewDeploymentSuffix:{title:"Preview Deployment Suffix",price:1e4,subLineItems:[]},webAnalytics:{title:"Web Analytics with 25k Events",price:0,threshold:25e3,limit:5e5,subLineItems:[{title:"On-Demand Events",subtitle:"Billed after 25k Events",price:1400,threshold:25e3,batch:1e5,unit:"100k"}]},webAnalyticsPlus:{title:"Web Analytics Plus",price:5e3,threshold:5e5,limit:2e7,batch:5e5,unit:"month",subLineItems:[{title:"On-Demand Events",price:2e3,threshold:5e5,batch:5e5,unit:"500k"}]},monitoring:{title:"Monitoring with 250k Data Points",price:1e3,unit:"month",subLineItems:[{title:"On-Demand Data Points",subtitle:"Billed after 250k data points",price:900,threshold:25e4,batch:1e6,unit:"million"}]},storage:{title:"5 KV Databases",price:0,subLineItems:[]}})},837612:function(e,t,n){"use strict";n.d(t,{U:function(){return es}});var r=n(203713),i=n(23870),a=n(917327),l=n(330826),s=n(31899),o=n(585839),d=n(790119),u=n(401534),c=n(477130),m=n(368942),p=n(72042),f=n(219920),h=n(462485),v=n(562535),g=n.n(v);function b(e){let{align:t="right",children:n}=e;return(0,r.jsx)(l.x,{as:"span",color:"gray-900",size:12,style:{textAlign:t,textTransform:"uppercase"},weight:600,children:n})}function x(e){let{align:t,className:n,children:i}=e;return(0,r.jsx)(l.x,{as:"span",className:n,color:"gray-1000",size:14,style:{textAlign:t,textOverflow:"ellipsis",overflow:"hidden"},title:"string"==typeof i?i:void 0,weight:400,wrap:!1,children:i})}function y(e){let{align:t="right",tooltipText:n,children:i}=e;return n?(0,r.jsxs)(a.K,{className:g()["body-row"],direction:"row",gap:1,children:[(0,r.jsx)(x,{align:t,children:i}),(0,r.jsx)(f.Tooltip,{text:n,children:(0,r.jsx)(p.k,{className:g().tooltip})})]}):(0,r.jsx)(x,{align:t,className:g()["body-row"],children:i})}function j(e){let{items:t,currency:n,grandTotal:s}=e;return!function(e){if(e.some(e=>!Number.isInteger(e.count)||!Number.isInteger(e.price))&&"production"!==h.$A)throw Error(`All items must have integer counts and unit prices. Violation: ${JSON.stringify(e)}`)}(t),(0,r.jsxs)(a.K,{className:g().container,gap:6,children:[(0,r.jsxs)("div",{className:g().table,children:[(0,r.jsx)(b,{align:"left",children:"Item"}),(0,r.jsx)(b,{children:"Count"}),(0,r.jsx)(b,{children:"Unit Price"}),(0,r.jsx)(b,{children:"Total"}),t.map(e=>{let{slug:t,title:a,count:l,freeCount:s=0,price:d,tooltipText:u}=e;return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(y,{align:"left",tooltipText:u,children:a}),(0,r.jsx)(y,{children:l}),(0,r.jsx)(y,{children:(0,o.x)(d,n)}),(0,r.jsx)(y,{children:(0,o.x)(d*(l-s),n)})]},t)})]}),(0,r.jsxs)(a.K,{align:"center",direction:"row",justify:"space-between",children:[(0,r.jsx)(l.x,{size:14,weight:500,children:"Monthly Base Cost"}),(0,r.jsx)(l.x,{size:24,weight:500,children:s})]})]})}var _=n(700741);let E=[{slug:"analytics",freeCount:0,tooltipText:"See how real users experience your site after each deploy."},{slug:"concurrentBuilds",freeCount:1,tooltipText:"Build multiple deployments with Vercel simultaneously."},{slug:"passwordProtection",freeCount:0,tooltipText:"Fine-grained control over who can access your deployments."},{slug:"previewDeploymentSuffix",freeCount:0,tooltipText:"Customize the appearance of preview URLs."},{slug:"webAnalytics",freeCount:0,tooltipText:"Granular insights into your site traffic and events."},{slug:"monitoring",freeCount:0,tooltipText:"Visualize errors, debug bandwidth issues, and monitor usage and web traffic for the past 30 days."}],w=new Set(["VIEWER","BILLING"]);var S=n(938383),T=n.n(S),I=n(470286),k=n(283193),C=n(349841),N=n(704648),O=n(173392),P=n(556163),A=n(136082),M=n(605889),L=n(168174),D=n(410892),R=n(917633),$=n(71755),F=n(564170),B=n(737248),U=n(866666),z=n(56566),K=n(50552),V=n(819430),Z=n(393468);function q(e){let{children:t}=e,n=(0,i.useRef)(null);return(0,i.useLayoutEffect)(()=>{if(n.current)try{let e=Z.v(n.current,{preventScroll:!0}).activate();return()=>{e.deactivate()}}catch(e){}},[]),(0,r.jsx)("div",{ref:n,tabIndex:-1,children:t})}var W=n(88426),H=n(196388),G=n(9e3),Y=n(517884),J=n.n(Y);function X(e){return(0,r.jsx)(a.K,{align:"center",direction:"row",children:(0,r.jsx)(Q,{...e})})}function Q(e){let{teamData:t,teams:n,setTeamData:s}=e,o=(0,K.dD)(),d=(0,U.useParams)(),u=(0,H.qP)(),c=(0,G.m)(e=>e.close),[m,p]=(0,i.useState)(!1),f=()=>p(!1),h=(null==n?void 0:n.findIndex(e=>e.id===(null==t?void 0:t.id)))||0,v=(0,z.Y)({selected:h}),{setInputValue:g,inputValue:b}=v,x=e=>{var t,n,r;return(null===(n=e.permissions)||void 0===n?void 0:null===(t=n.paymentMethod)||void 0===t?void 0:t.includes(V.aU.Update))&&(null===(r=e.permissions.team)||void 0===r?void 0:r.includes(V.aU.Update))&&(0,W.t)(e)},y=(0,i.useMemo)(()=>(null==n?void 0:n.filter(e=>x(e)))||[],[n]);if((0,i.useEffect)(()=>{!(null==d?void 0:d.teamSlug)&&s&&y.length>0&&s(y[0])},[null==d?void 0:d.teamSlug,s,y]),!t&&!n&&!s)return(0,r.jsxs)(a.K,{align:"center",direction:"row",gap:1,children:[(0,r.jsx)(I.Avatar,{placeholder:!0,size:20}),(0,r.jsx)(k.O,{height:20,width:120})]});let j=(0,r.jsx)("div",{className:J().command,children:(0,r.jsxs)(z.m,{"aria-label":"Team List",...v,children:[(0,r.jsxs)(a.K,{align:"center",className:J().input,direction:"row",children:[(0,r.jsx)(F.MagnifyingGlass,{color:"var(--ds-gray-900)",size:16}),(0,r.jsx)(z.m.Input,{itemID:"upgrade-team-search",placeholder:"Search..."}),(0,r.jsx)(D.Kbd,{className:J().kbd,children:"Esc"})]}),(0,r.jsxs)(z.m.List,{emptyMessage:(0,r.jsxs)(a.K,{align:"center",gap:4,justify:"center",children:[(0,r.jsxs)(l.x,{align:"center",weight:500,children:['No results for "',b,'"']}),(0,r.jsx)(M.Button,{onClick:()=>{g("")},type:"secondary",width:"100%",children:"Clear Search"})]}),maxHeight:160,children:[(0,r.jsx)(z.m.Group,{heading:"",children:y.length>0?y.map(e=>(0,r.jsx)(z.m.Item,{callback:()=>{null==s||s(e),f()},"data-current":(null==t?void 0:t.id)===e.id,children:(0,r.jsxs)(a.K,{align:"center",direction:"row",flex:1,justify:"space-between",children:[(0,r.jsxs)(a.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(I.Avatar,{hash:e.avatar,size:20,teamId:e.id,title:e.name}),(0,r.jsx)(l.x,{className:"geist-ellipsis",weight:300,children:e.name||e.slug})]}),(null==t?void 0:t.id)===e.id?(0,r.jsx)($.Check,{color:"var(--ds-gray-900)",size:16}):null]})},e.id)):null}),(0,r.jsx)(z.m.Item,{callback:()=>{f(),c(),u({source:"upgrade-team-modal-team-selector"})},hideOnFilter:!0,children:(0,r.jsxs)(a.K,{align:"center",direction:"row",gap:2,children:[(0,r.jsx)(B.PlusCircle,{color:"var(--ds-blue-900)",size:20}),(0,r.jsx)("span",{children:"Create Team"})]})})]})]})});return(0,r.jsxs)(A.fC,{onOpenChange:e=>{e||g(""),p(e),e&&setTimeout(()=>{let e=document.querySelector("[itemId=upgrade-team-search]");null!==e&&e instanceof HTMLInputElement&&e.focus()},200)},open:m,children:[(0,r.jsxs)(A.ee,{style:{display:"flex",alignItems:"center",maxWidth:"90%",gap:"var(--geist-space)"},children:[(0,r.jsxs)(a.K,{align:"center",direction:"row",gap:2,children:[t?(0,r.jsx)(I.Avatar,{hash:t.avatar,size:20,teamId:t.id,title:t.name}):(0,r.jsx)(I.Avatar,{placeholder:!0,size:20}),(0,r.jsx)(l.x,{className:"geist-ellipsis",weight:500,children:(null==t?void 0:t.name)||(null==t?void 0:t.slug)||"Your Team"})]}),(0,r.jsx)(A.xz,{asChild:!0,onClick:()=>p(!m),children:(0,r.jsx)(M.Button,{"aria-label":"Select team to upgrade",size:"small",style:{padding:"var(--geist-space)",height:"100%"},svgOnly:!0,type:"tertiary",typeName:"button",children:(0,r.jsx)(R.ChevronUpDown,{color:"var(--ds-gray-900)"})})})]}),o?(0,r.jsx)(L.d,{height:"expand",onDismiss:f,show:m,children:j}):(0,r.jsx)(A.h_,{children:(0,r.jsx)(q,{children:(0,r.jsx)(A.VY,{align:"start",alignOffset:-16,className:J().content,onOpenAutoFocus:e=>e.preventDefault(),sideOffset:6,children:j})})})]})}var ee=n(732058),et=n.n(ee);function en(e){let{title:t,subtitle:n,price:i,unit:s,currency:d="usd"}=e;return(0,r.jsxs)(a.K,{align:"center",className:et().sublineWrapper,direction:"row",justify:"space-between",children:[(0,r.jsxs)(a.K,{children:[(0,r.jsx)(l.x,{color:"gray-900",weight:500,children:t}),(0,r.jsx)(l.x,{color:"gray-900",children:n})]}),(0,r.jsx)(l.x,{as:"span",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,o.x)(i??0,d)," ","month"===s?" / month":`per ${s}`]}):"Included"})]})}function er(e){let{title:t,subtitle:n,price:i,unit:s,currency:d="usd",isUrgent:u=!1}=e;return(0,r.jsxs)(a.K,{align:"center",className:(0,O.W)(et().lineItemWrapper,et().lineItem,{[et().urgent]:u}),direction:"row",justify:"space-between",children:[(0,r.jsxs)(a.K,{children:[(0,r.jsx)(l.x,{color:"gray-900",weight:500,children:t}),(0,r.jsx)(l.x,{color:"gray-900",children:n})]}),(0,r.jsx)(l.x,{as:"span",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,o.x)(i??0,d)," ","month"===s?" / month":`per ${s}`]}):"Included"})]})}let ei=(e,t)=>{t?P.analytics.track(P.AnalyticsEvent.UPGRADE_TEAM_MODAL_COLLAPSE_LINE_ITEM,{lineItem:e}):P.analytics.track(P.AnalyticsEvent.UPGRADE_TEAM_MODAL_EXPAND_LINE_ITEM,{lineItem:e})};function ea(e){let{children:t}=e;return(0,r.jsx)(C.default,{alignChevronLeft:!0,className:et().details,onToggle:e=>ei("Details",e),title:"Details",children:t})}function el(e){let{addOnToBeEnabled:t,grandTotal:n,items:s=[],currency:d,isUrgent:u=!1,forceExpanded:c=!1,team:m,teams:p,setTeam:f}=e,h=(0,i.useMemo)(()=>u&&!c?ea:a.K,[u,c]);return(0,r.jsxs)(a.K,{gap:4,children:[(0,r.jsxs)(h,{children:[(0,r.jsxs)(a.K,{align:"center",className:(0,O.W)(et().upgradeTeam,{[et().urgent]:u}),direction:"row",gap:2,children:[(0,r.jsx)(l.x,{weight:500,children:"Upgrade"}),u||t?(0,r.jsx)(a.K,{align:"center",direction:"row",gap:1,children:m?(0,r.jsxs)(r.Fragment,{children:[m.id?(0,r.jsx)(I.Avatar,{hash:m.avatar,size:20,teamId:m.id}):(0,r.jsx)(I.Avatar,{placeholder:!0,size:20}),(0,r.jsx)(l.x,{weight:500,children:m.name})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Avatar,{placeholder:!0,size:20}),(0,r.jsx)(k.O,{height:20,width:120})]})}):(0,r.jsx)(X,{setTeamData:f,teamData:m,teams:p})]}),(0,r.jsx)(N.default,{children:s.map(e=>(0,r.jsx)(r.Fragment,{children:Array.isArray(e.subLineItems)&&e.subLineItems.length>0?(0,r.jsx)(C.default,{className:(0,O.W)(et().lineItemWrapper,{[et().urgent]:u}),onToggle:t=>ei(e.title,t),title:e.title,titleSuffix:e.price?`${(0,o.x)(e.price*(e.count-(e.freeCount??0)),d)} / month`:"Included",children:e.subLineItems.map(e=>(0,i.createElement)(en,{...e,currency:d,key:e.title}))},e.title):(0,r.jsx)(er,{...e,currency:d,isUrgent:u,title:e.title})}))})]}),(0,r.jsxs)(a.K,{direction:"row",justify:"space-between",children:[(0,r.jsx)(l.x,{weight:500,children:"Total"}),(0,r.jsxs)(l.x,{weight:500,children:[n," / month"]})]})]})}function es(e){let{team:t,teams:n,setTeam:c,newTeamMembers:p,existingTeamMembers:f,paidAddOns:h,invoiceItems:v,currency:g,trialEnd:b,setGrandTotal:x,trial:y=!1,upgrade:S,children:I,addOnToBeEnabled:k}=e,C=(0,i.useMemo)(()=>(function(e){let{isUpgrade:t,existingTeamMembers:n,newTeamMembers:r,invoiceItems:i,paidAddOns:a,addOnToBeEnabled:l}=e,s=r.filter(e=>e.email.length>0);return t?function(e){let{newTeamMembers:t,paidAddOns:n,existingTeamMembers:r=[],addOnToBeEnabled:i}=e,a=[...r,...t],l=a.length,s=a.filter(e=>w.has(e.role)).length,o=a.map(e=>({title:e.email,price:w.has(e.role)?0:2e3,unit:"month"})),d=[{title:l>1?`${l} members`:"1 member",count:l,freeCount:s,price:m.U.teamSeats.price,subLineItems:o}];return n||i?d.concat((0,_.p)({alreadyEnabledAddOns:n,addOnToBeEnabled:i})):d}({newTeamMembers:s,existingTeamMembers:n,paidAddOns:a,addOnToBeEnabled:l}):function(e){let{teamSeats:t,invoiceItems:n}=e,r=m.U.pro,i=m.U.teamSeats,a=[{slug:"pro",title:r.title,count:1,freeCount:0,price:r.price,tooltipText:"Your team seat."}];if(t>0&&a.push({slug:"teamSeats",title:i.title,count:t,freeCount:0,price:i.price,tooltipText:"Your team members' seats."}),!n)return a;for(let e of E){var l;let t=n[e.slug],r=m.U["analytics"===(l=e.slug)?"speedInsights":l];t&&t.quantity>e.freeCount&&a.push({slug:e.slug,title:r.title,count:t.quantity,freeCount:e.freeCount,price:r.price,tooltipText:e.tooltipText})}return a}({teamSeats:s.length,invoiceItems:i})})({isUpgrade:!!S,newTeamMembers:p,invoiceItems:v,existingTeamMembers:f,paidAddOns:h,addOnToBeEnabled:k}),[S,p,v,f,h,k]),N=(0,i.useMemo)(()=>C.reduce((e,t)=>{let{count:n,freeCount:r=0,price:i=0}=t;return e+(n-r)*i},0),[C]),O=(0,o.x)(N,g);(0,i.useEffect)(()=>{null==x||x(N)},[O,N,x]);let P=(0,i.useMemo)(()=>[{id:"now",header:"Upgrade immediately",description:(0,r.jsx)(l.x,{as:"span",color:(null==S?void 0:S.selectedOption)==="now"?"blue-900":"gray-1000",children:(0,r.jsx)(eo,{amount:O,when:"immediately"})})},{id:"later",header:"Upgrade at end of trial"}],[O,null==S?void 0:S.selectedOption]),A=(0,i.useMemo)(()=>S?S.forceImmediateUpgrade?(0,r.jsx)(ed,{amount:O,currency:g,paidAddOns:h}):b?(0,r.jsx)(u.Q,{ariaLabel:"When would you like to upgrade?",onSelect:e=>{null!==e&&S.setSelectedOption(e)},options:P,selected:S.selectedOption,selectorOptionClassname:T().selectorOption}):(0,r.jsx)(ed,{amount:O,currency:g,paidAddOns:h}):y?(0,r.jsx)(r.Fragment,{children:"Add a payment method to automatically upgrade to Pro at the end of your trial period."}):(0,r.jsx)(eo,{amount:O,when:b?`on ${(0,d.p6)(b,{dateStyle:"long"})}`:"immediately"}),[P,g,O,h,y,b,S]);return(0,r.jsxs)(a.K,{gap:6,children:[(0,r.jsx)(l.x,{align:"left",color:"gray-900",lineHeight:20,size:14,children:A}),(0,r.jsx)(s.u.Inset,{last:!S&&y,children:I}),S?(0,r.jsx)(el,{addOnToBeEnabled:k,currency:g,forceExpanded:S.forceExpandedReceipt,grandTotal:O,isUrgent:S.forceImmediateUpgrade,items:C,setTeam:c,team:t,teams:n}):null,y||S?null:(0,r.jsx)(j,{currency:g,grandTotal:O,items:C})]})}function eo(e){let{amount:t,when:n}=e,i=`Upon clicking Confirm, an amount of ${t} will be added to your invoice and your credit card will be charged ${n}.`;return(0,r.jsx)(r.Fragment,{children:(0,c.t)(i)})}function ed(e){let{amount:t,currency:n,paidAddOns:i}=e,a=(0,o.x)(m.U.teamSeats.price,n),s=i&&Object.keys(i).length>0;return(0,r.jsxs)(r.Fragment,{children:["Pro teams cost"," ",(0,r.jsxs)(l.x,{as:"span",weight:600,children:[a," /month per member"]}),". After upgrading",s?" and enabling Pro add-ons":"",", an amount of"," ",(0,r.jsx)(l.x,{as:"span",weight:600,children:t})," ","will be added to this month’s invoice and your credit card will be charged immediately."]})}},88426:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});let r=new Set(["trialing","expired","canceled"]);function i(e){var t,n,i;let{skipIntendsToGoProCheck:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(null===(t=e.billing)||void 0===t?void 0:t.plan)==="pro"&&"trialing"===e.billing.status&&null===e.billing.cancelation;return(a||!l)&&((null===(n=e.billing)||void 0===n?void 0:n.plan)==="hobby"||r.has(null===(i=e.billing)||void 0===i?void 0:i.status))}},800056:function(e,t,n){"use strict";n.d(t,{h:function(){return d}});var r=n(23870),i=n(89821),a=n(556163),l=n(699248);function s(e){let{steps:t,workflowName:n,immutableDisabledSteps:r=new Set,mutableDisabledSteps:i=new Set}=e;if(void 0===t.at(0))throw Error("Tried to initialize useSteps with no steps");let a=t.filter(e=>!r.has(e)&&!i.has(e)),l=a.at(0);if(void 0===l)throw Error("Tried to initialize useSteps with no enabled steps");let s=a.at(-1);return{step:l,allSteps:t,enabledSteps:a,immutableDisabledSteps:r,mutableDisabledSteps:i,isFirstEnabledStep:!0,isLastEnabledStep:l===s,workflowName:n}}function o(e,t,n,r){let i="next"===r?1:-1,a=n.indexOf(e),l=n[a+i];if(void 0===l)throw Error(`Tried to go to the ${r} step, but it doesn't exist. If this was thrown during hook initialization, it's likely because all steps are disabled.`);return t.includes(l)?l:o(l,t,n,r)}function d(e){var t,n;let[d,u]=(0,r.useReducer)((0,i.ZP)((e,t)=>{switch(t.type){case"first-step":{let t=o(e.allSteps[0],e.enabledSteps,e.allSteps,"next");a.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"first"}),e.step=t;break}case"last-step":{let t=o(e.allSteps.at(-1)??e.allSteps[0],e.enabledSteps,e.allSteps,"previous");a.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"last"}),e.step=t;break}case"next-step":{let t=o(e.step,e.enabledSteps,e.allSteps,"next");a.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"next"}),e.step=t;break}case"previous-step":{let t=o(e.step,e.enabledSteps,e.allSteps,"previous");a.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t,switchType:"previous"}),e.step=t;break}case"set-step":a.analytics.track(a.AnalyticsEvent.STEPPED_WORKFLOW_CHANGE_STEP,{workflowName:e.workflowName,fromStep:e.step,toStep:t.step,switchType:"direct"}),e.step=t.step;break;case"set-immutable-disabled-steps":e.immutableDisabledSteps=t.disabledSteps;break;case"enable-step":e.mutableDisabledSteps.delete(t.step);break;case"disable-step":e.mutableDisabledSteps.add(t.step);break;default:(0,l._)(t)}e.enabledSteps=e.allSteps.filter(t=>!e.immutableDisabledSteps.has(t)&&!e.mutableDisabledSteps.has(t)),e.isFirstEnabledStep=e.enabledSteps[0]===e.step,e.isLastEnabledStep=e.enabledSteps.at(-1)===e.step}),e,s),{isFirstEnabledStep:c,isLastEnabledStep:m}=d,p=(0,r.useCallback)((t=()=>u({type:"previous-step"}),async e=>{c?await e():t()}),[c]),f=(0,r.useCallback)((n=()=>u({type:"next-step"}),async e=>{m?await e():n()}),[m]);return{...d,backOrCancel:p,nextOrSubmit:f,goto:{first:()=>u({type:"first-step"}),last:()=>u({type:"last-step"}),next:()=>u({type:"next-step"}),previous:()=>u({type:"previous-step"}),step:e=>u({type:"set-step",step:e})},disableStep:e=>u({type:"disable-step",step:e}),enableStep:e=>u({type:"enable-step",step:e})}}},433571:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(376344);function i(e){let{type:t,error:n,attributes:i}=e;(0,r.Tb)(n,{attributes:{section:t,owner:"lifecycle",...i}})}},9e3:function(e,t,n){"use strict";n.d(t,{UpgradeTeamModal:function(){return eB},c:function(){return ek},m:function(){return eI}});var r=n(203713),i=n(23870),a=n(330826),l=n(31899),s=n(854093),o=n(539936),d=n(200018),u=n(656823),c=n(966067),m=n(556163),p=n(955092),f=n(33100),h=n(499979),v=n(727833);async function g(e){let{teamId:t}=e;try{return await (0,f.Io)(`${h.CZ}/${t}/members/reactivate${(0,v.c)({teamId:t})}`,{method:"GET"})}catch(e){console.error(e)}}async function b(e){let{teamId:t,userIds:n}=e;return(0,f.Io)(`${h.CZ}/${t}/members/reactivate${(0,v.c)({teamId:t})}`,{method:"POST",body:JSON.stringify({userIds:n}),throwOnHTTPError:!0})}var x=n(256732),y=n(108072);async function j(e){let{source:t,teamId:n}=e,r=await (0,f.Io)(`${h.nx}${(0,v.c)({teamId:n})}`,{method:"PUT",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0});return y.co.track(y.s6.RESUME_PRO_TRIAL,{source:t,teamId:n}),r}var _=n(887315),E=n(784499),w=n(590770),S=n(927767);async function T(e){let{source:t,teamId:n}=e,r=await (0,f.Io)(`${h.U_}${(0,v.c)({teamId:n})}`,{method:"PUT",headers:{"Content-Type":"application/json"},throwOnHTTPError:!0});return y.co.track(y.s6.INTENT_TO_GO_PRO,{billingStatus:"trialing",source:t}),y.co.track(y.s6.UPGRADE_PRO_TRIAL,{teamId:n,source:t}),r}var I=n(133804),k=n(477130),C=n(905206),N=n(88426),O=n(800056),P=n(433571),A=n(917327),M=n(563033),L=n(260057),D=n(173392),R=n(546118),$=n(794784),F=n(605889),B=n(470286),U=n(957371),z=n(585839),K=n(718691),V=n.n(K);function Z(e){let{membersFromBeforeDowngrade:t,toggleMember:n,currency:a}=e,l={value:2e3,frequency:"month"},s=(0,i.useCallback)(e=>{if(e)return e.toLowerCase().replace(/^\w/,e=>e.toUpperCase())},[]);return(0,r.jsx)(A.K,{gap:4,children:(0,r.jsx)(A.K,{children:t.map(e=>{let t=e.selected;return(0,r.jsxs)(U.Entity,{actions:(0,r.jsx)(q,{active:t,onClick:()=>n(e.id)}),"aria-selected":t,className:(0,D.W)(V().entity,{[V().inactive]:!t}),thumbnail:(0,r.jsx)(U.EntityThumbnail,{size:32,children:(0,r.jsx)(B.Avatar,{size:32,username:e.username})}),children:[(0,r.jsx)(U.EntityField,{description:e.email,isFirstItem:!0,title:e.username}),(0,r.jsx)(U.EntityField,{description:t?`${(0,z.x)(l.value,a)} per ${l.frequency}`:void 0,right:!0,title:t?s(e.role):void 0})]},e.id)})})})}function q(e){let{active:t,onClick:n}=e;return(0,r.jsx)(F.Button,{"aria-label":t?"Remove member":"Add member",className:V().button,onClick:n,svgOnly:!0,title:t?"Remove member":"Add member",typeName:"button",variant:"unstyled",children:t?(0,r.jsx)(R.S,{align:"middle"}):(0,r.jsx)($.F,{align:"middle"})})}var W=n(477103),H=n(297334),G=n.n(H),Y=n(591991),J=n(156582),X=n(990758),Q=n(541194),ee=n(493884),et=n(447453),en=n(353476);function er(e){var t,n;let{user:i,team:a,fallbackToPlan:l=!1}=e,s=a||i;if(!s||!((null==a?void 0:a.id)||(null==i?void 0:i.uid)))return null;if((0,ee.fz)(s))return(0,r.jsx)(Q.H,{color:"var(--accents-5)",size:16,style:{marginLeft:"auto"},weight:"bold"});if((null===(t=s.billing)||void 0===t?void 0:t.plan)&&!["pro","hobby","enterprise"].includes(s.billing.plan))return(0,r.jsx)(en.m8,{variant:"red-subtle",children:"Legacy"});let o=(0,et.Q)(s);return void 0!==o?o:(null===(n=s.billing)||void 0===n?void 0:n.status)==="overdue"?(0,r.jsx)(en.m8,{variant:"red-subtle",children:"Overdue"}):s.softBlock?(0,r.jsx)(en.m8,{variant:"red-subtle",children:"Paused"}):l?(0,r.jsx)(en.vE,{team:a,user:i}):null}var ei=n(819430),ea=n(613244),el=n.n(ea);function es(e){let{teams:t,teamData:n,setTeamData:a,onChangeOpen:l,error:s}=e,o=(0,i.useMemo)(()=>{let e=new Map;for(let r of t){var n;let t=null===(n=r.billing)||void 0===n?void 0:n.plan;if(!t)continue;let i=e.get(t);if(!i){e.set(t,[r]);continue}i.push(r)}return e},[t]),d=(0,i.useMemo)(()=>[...new Set(["hobby","pro","enterprise",...o.keys()])],[o]),u=e=>{var t,n,r;return(null===(n=e.permissions)||void 0===n?void 0:null===(t=n.paymentMethod)||void 0===t?void 0:t.includes(ei.aU.Update))&&(null===(r=e.permissions.team)||void 0===r?void 0:r.includes(ei.aU.Update))&&(0,N.t)(e)};return(0,r.jsxs)(X.y,{"aria-label":"Select an eligible team",clearable:!1,errored:!!s,onChange:e=>a(t.find(t=>t.id===e)??void 0),onChangeOpen:l,placeholder:"Select an eligible team",prefixIcon:(null==n?void 0:n.id)?(0,r.jsx)(B.Avatar,{size:24,teamId:n.id}):null,value:null==n?void 0:n.name,children:[(0,r.jsx)(X.y.Input,{}),(0,r.jsx)(X.y.List,{avoidCollisions:!1,children:(0,r.jsx)(r.Fragment,{children:d.map(e=>{let t=o.get(e);return t?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(X.y.Option,{disabled:!0,hoverable:!1,selectable:!1,value:e,children:[G()(e)," ",(0,J._)("Team",t.length)]}),t.map(e=>(0,r.jsxs)(X.y.Option,{className:(0,D.W)({[el().selected]:e.id===(null==n?void 0:n.id)}),disabled:!u(e),hoverable:u(e),prefix:(0,r.jsx)(B.Avatar,{size:24,teamId:e.id}),suffix:e.id===(null==n?void 0:n.id)?(0,r.jsx)(Y.J,{size:20,style:{marginLeft:"auto"}}):null,value:e.id,children:[(0,r.jsx)("span",{className:el()["team-name"],children:e.name}),(0,r.jsx)(er,{fallbackToPlan:!0,team:e})]},e.id))]},e):null})})})]})}let eo=(0,i.createContext)(null),ed=()=>(0,i.useContext)(eo);function eu(e){let{children:t,cancelButton:n,continueButton:a}=e,[s,o]=(0,i.useState)(!1),{goto:{next:d},backOrCancel:u,title:m,defaultCancelText:p,defaultContinueText:f,close:h}=ed(),v=async()=>{o(!0),(null==n?void 0:n.onClick)?await n.onClick():await u(h),o(!1)},g=async e=>{o(!0),(null==a?void 0:a.onClick)?await a.onClick(e):d(),o(!1)};return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g(new FormData(e.currentTarget))},children:[(0,r.jsx)(l.u.Body,{children:(0,r.jsxs)(A.K,{gap:6,children:[(0,r.jsx)(l.u.Title,{children:m}),(0,r.jsx)(r.Fragment,{children:t})]})}),(0,r.jsxs)(l.u.Actions,{children:[(0,r.jsx)(l.u.Action,{"data-testid":(0,c.C)("upgrade-team-modal","cancel-button"),disabled:null==n?void 0:n.disabled,onClick:()=>void v(),type:"secondary",children:(null==n?void 0:n.text)??p}),(0,r.jsx)(l.u.Action,{buttonType:"submit","data-testid":(0,c.C)("upgrade-team-modal","save-button"),disabled:null==a?void 0:a.disabled,loading:s,children:(null==a?void 0:a.text)??f})]})]})}let ec=async e=>{let t=await g({teamId:e});return!t||"error"in t?[]:Object.keys(t).map(e=>({id:e,role:t[e].role,email:t[e].email,username:t[e].username,selected:!0}))};function em(e){let{text:t}=e;return(0,r.jsxs)(a.x,{color:"gray-900",children:[(0,r.jsx)(a.x,{as:"span",color:"gray-1000",weight:600,children:t})," ","(Optional)"]})}function ep(e){var t;let{enabledRoles:n,preventCloseRef:a,teams:s,shouldShowTeamSelect:o,team:d,setTeam:u,newTeamMembers:c,setNewTeamMembers:m,teamMembersFromBeforeDowngrade:p,setTeamMembersFromBeforeDowngrade:f,submissionError:h,setSubmissionError:v}=e,{goto:{next:g}}=ed(),b=(0,L.Z)(d),[x,y]=(0,i.useState)(void 0),j=(0,i.useMemo)(()=>n.find(e=>"VIEWER"===e.role)?"VIEWER":n.find(e=>"DEVELOPER"===e.role)?"DEVELOPER":"MEMBER",[n]),_=p.length>0;(0,i.useEffect)(()=>{d&&(b!==d||!_)&&ec(d.id).then(e=>{f(e)}).catch(console.error)},[_,f,d]);let E=(0,i.useCallback)(e=>{f(p.map(t=>t.id===e?{...t,selected:!t.selected}:t))},[f,p]),w=(0,i.useCallback)(()=>{if(void 0===d){v("team-not-selected");return}if(c.some(e=>e.error)){y("There was a problem with one or more of your team members.");return}y(void 0),v(void 0),g()},[c,g,v,d]);return(0,r.jsx)(eu,{continueButton:{onClick:w,text:c.some(e=>""!==e.email)||p.some(e=>e.selected)?"Continue":"Skip"},children:(0,r.jsx)(l.u.Inset,{last:!0,children:(0,r.jsxs)(A.K,{gap:6,children:[o?(0,r.jsx)(es,{error:"team-not-selected"===h,onChangeOpen:e=>{a.current=e},setTeamData:u,teamData:d,teams:s}):null,(0,r.jsxs)(A.K,{gap:6,children:[(0,r.jsx)(em,{text:"Add Team Members"}),(0,r.jsx)(W.n,{defaultRole:j,enabledRoles:n,setTeamMembers:e=>{let t=!1;for(let n of e)if(void 0!==n.error){y(n.error),t=!0;break}t||y(void 0),m(e)},teamMembers:c}),_?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(em,{text:"Reactivate Team Members"}),(0,r.jsx)(Z,{currency:(null==d?void 0:null===(t=d.billing)||void 0===t?void 0:t.currency)??"USD",membersFromBeforeDowngrade:p,toggleMember:E})]}):null,x?(0,r.jsx)(M.j,{children:x}):null]})]})})})}var ef=n(657263),eh=n(730434),ev=n(283193),eg=n(149522),eb=n(846014),ex=n(376344),ey=n(837612),ej=n(181674),e_=n(224066),eE=n(937185),ew=n(421346),eS=n(876119),eT=n.n(eS);let eI=(0,ew.ZP)(e=>({isOpen:!1,open:t=>{m.analytics.addScope("upgrade-team-modal"),m.analytics.track(m.AnalyticsEvent.UPGRADE_TEAM_MODAL_OPENED,{source:t.source}),eN.setState({...eC,...t},!0),e({isOpen:!0})},close:()=>{m.analytics.removeScope("upgrade-team-modal"),e({isOpen:!1})}})),ek=()=>eI(e=>e.open),eC={source:"unknown",onTeamUpgrade:eT(),onUpgradeError:eT(),onStartTeamUpgrade:eT(),disabledSteps:["team-members"],skipIntendsToGoProCheck:!1,forceImmediateUpgrade:!1,forceExpandedReceipt:!1,addOn:void 0},eN=(0,ew.ZP)(()=>eC),eO=()=>eN(e=>e.addOn);var eP=n(779854),eA=n(83632),eM=n(462826),eL=n.n(eM);let eD=(0,eg._K)(function(e){var t,n,l,s,o;let{team:u,teams:c,setTeam:m,newTeamMembers:p,existingTeamMembers:v,setSubmissionError:g,setGrandTotal:b,upgradeTeam:x,upgradeTimingOption:y,setUpgradeTimingOption:j,forceImmediateUpgrade:_,forceExpandedReceipt:E}=e,{goto:w}=ed(),T=eO(),[I,k]=(0,i.useState)(),[C,N]=(0,i.useState)(!1),O=function(e){let{data:t,isLoading:n,mutate:r}=(0,S.N)(e),a=!!(null==t?void 0:t.defaultSource),l=(0,i.useMemo)(()=>null==t?void 0:t.sources.find(e=>e.id===t.defaultSource),[null==t?void 0:t.defaultSource,null==t?void 0:t.sources]),{user:s,isLoading:o}=(0,eP.a)(),[d,u]=(0,i.useState)({type:"loading",revalidateSources:r});return(0,i.useEffect)(()=>{var e,t,i;if(n||o){u({type:"loading",revalidateSources:r});return}if(!a){u({type:"no-payment-method",revalidateSources:r});return}if(!l)throw Error("This is clearly impossible, but there both is and isn't a default source.");u({type:"payment-method",paymentMethodId:l.id,cardBrand:(0,eA.q)(null===(e=l.card)||void 0===e?void 0:e.brand)??"Unknown",cardLast4:(0,eA.P)(l)??"XXXX",cardExpiry:`${(null===(t=l.card)||void 0===t?void 0:t.exp_month)??"XX"}/${(null===(i=l.card)||void 0===i?void 0:i.exp_year)??"XX"}`,userEmail:null==s?void 0:s.email,revalidateSources:r})},[l,a,r,n,null==s?void 0:s.email,o]),d}(null==u?void 0:u.id),{stripe:L,submit:D,...R}=(0,eg.e2)(),$=!L||"loading"===O.type,F=(0,i.useRef)(null),B=function(){var e;let{team:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},{data:r,error:a}=function(e){let{team:t,isReady:n}=(0,e_.t7)(),r=new URL(h.jD,"https://vercel.com"),i=e||(null==t?void 0:t.id);return i&&r.searchParams.set("teamId",i),(0,ej.ZP)(n?`${r.pathname}${r.search}`:null,e=>(0,f.Io)(e,{throwOnHTTPError:!0}))}(null==t?void 0:t.id);if((0,i.useEffect)(()=>{a&&(0,P.k)({type:"upgrade",error:Error(`Failed to get speed insights: ${a.message}`),attributes:{teamId:null==t?void 0:t.id}})},[a,null==t?void 0:t.id]),r&&r.projects.length>0&&(n.speedInsights=r.projects),!t)return n;let l=null===(e=t.billing)||void 0===e?void 0:e.invoiceItems;if(!l)return n;if(l.concurrentBuilds&&l.concurrentBuilds.quantity>1&&(n.concurrentBuilds=l.concurrentBuilds.quantity-1),l.previewDeploymentSuffix&&l.previewDeploymentSuffix.quantity>0){let e=t.previewDeploymentSuffix||"vercel.app";n.previewDeploymentSuffix=e}return l.passwordProtection&&l.passwordProtection.quantity>0&&(n.passwordProtection=!0),l.monitoring&&l.monitoring.quantity>0&&(n.monitoring=!0),n}({team:u});(0,i.useEffect)(()=>{if(R.error){let e=(0,d.normalizeError)(R.error).message;(0,P.k)({type:"upgrade",error:Error(`Failed to submit billing information: ${e}`),attributes:{teamId:null==u?void 0:u.id}})}},[R.error,null==u?void 0:u.id]),(0,i.useEffect)(()=>($&&(F.current=setTimeout(()=>{(0,P.k)({type:"upgrade",error:Error("Failed to load payment method info after 5s"),attributes:{teamId:null==u?void 0:u.id}})},5e3)),()=>{F.current&&clearTimeout(F.current)}),[$,null==u?void 0:u.id]);let U=(0,i.useCallback)(async e=>{if(N(!0),!u||"loading"===O.type){g("team-not-selected"),w.step("team-members");return}if("payment-method"===O.type){await x({paymentMethodId:O.paymentMethodId,paidAddOns:B}).catch(e=>{let t=(0,d.normalizeError)(e).message;(0,P.k)({type:"upgrade",error:Error(`Failed to upgrade team with existing payment method: ${t}`),attributes:{paymentMethodId:O.paymentMethodId,teamId:u.id}})});return}try{await (0,ex.g4)(async()=>{let t=(0,eb.k)(e);if(t instanceof Error)throw t;let n=await D({assignCardToEntity:!0,teamId:u.id});n&&(await x({paymentMethodId:n,address:t,paidAddOns:B}),await O.revalidateSources())},{name:"upgrade-team"})}catch(e){(0,P.k)({type:"upgrade",error:e,attributes:{teamId:u.id}}),k((0,d.normalizeError)(e).message)}finally{N(!1)}},[w,B,O,g,D,u,x]);return(0,r.jsx)(eu,{continueButton:{onClick:U,disabled:!u},children:(0,r.jsxs)(ey.U,{addOnToBeEnabled:T,currency:(null==u?void 0:null===(t=u.billing)||void 0===t?void 0:t.currency)??"USD",existingTeamMembers:v,invoiceItems:null==u?void 0:null===(n=u.billing)||void 0===n?void 0:n.invoiceItems,newTeamMembers:p,paidAddOns:B,setGrandTotal:b,setTeam:m,team:u,teams:c,trial:!!(null==u?void 0:null===(l=u.billing)||void 0===l?void 0:l.trial),trialEnd:null==u?void 0:null===(o=u.billing)||void 0===o?void 0:null===(s=o.trial)||void 0===s?void 0:s.end,upgrade:{selectedOption:y,setSelectedOption:j,forceImmediateUpgrade:_,forceExpandedReceipt:E},children:[(0,r.jsxs)("div",{className:eL()["payment-info"],children:[$?(0,r.jsx)(eR,{}):null,"no-payment-method"===O.type?(0,r.jsxs)(A.K,{gap:5,children:[(0,r.jsx)(eg.U1,{breakLine:!0,...R}),(0,r.jsx)(eE.E,{disabled:C})]}):null,"payment-method"===O.type?(0,r.jsxs)(A.K,{align:"center",className:eL()["credit-card-card"],direction:"row",gap:3,children:[(0,r.jsx)(ef.a,{}),(0,r.jsxs)(A.K,{children:[(0,r.jsxs)(a.x,{weight:600,children:[O.cardBrand," ending in"," ",O.cardLast4]}),(0,r.jsxs)(a.x,{color:"gray-900",children:["exp. ",O.cardExpiry]}),O.userEmail?(0,r.jsx)(a.x,{color:"gray-900",children:O.userEmail}):null]})]}):null]}),I?(0,r.jsx)(M.j,{style:{paddingTop:"var(--geist-space-6x)"},children:I}):null]})})});function eR(){return(0,r.jsxs)(A.K,{gap:5,children:[(0,r.jsxs)(A.K,{direction:{sm:"column",md:"row"},gap:5,children:[(0,r.jsx)(A.K,{flex:"1",children:(0,r.jsx)(eh._,{value:"Card Number",children:(0,r.jsx)(ev.O,{height:40,width:"100%"})})}),(0,r.jsxs)(A.K,{direction:"row",gap:5,style:{minWidth:"calc(108px * 2 + var(--stack-gap))"},children:[(0,r.jsx)(A.K,{flex:"1",children:(0,r.jsx)(eh._,{value:"Expires",children:(0,r.jsx)(ev.O,{height:40,width:"100%"})})}),(0,r.jsx)(A.K,{flex:"1",children:(0,r.jsx)(eh._,{value:"CVC",children:(0,r.jsx)(ev.O,{height:40,width:"100%"})})})]})]}),(0,r.jsx)(A.K,{direction:"row",style:{"--small-input-width":"108px"},children:(0,r.jsx)(A.K,{flex:"1",children:(0,r.jsx)(eh._,{value:"Country",children:(0,r.jsx)(ev.O,{height:40,width:"100%"})})})})]})}var e$=n(700741),eF=n(555405);function eB(){let e=eI(e=>e.isOpen),{user:t,team:n,teams:a,isLoading:l,mutate:s}=(0,E.Z)(),[o,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{var e;(null==n?void 0:null===(e=n.billing)||void 0===e?void 0:e.plan)==="hobby"&&ec(n.id).then(d)},[n]);let{mutate:u}=(0,w.x)({enabled:e}),{mutate:c}=(0,S.g)({enabled:e}),{mutate:m}=(0,I.X)({enabled:e}),p=(0,i.useCallback)(async()=>{await Promise.all([s(),u(),c(),m()])},[s,u,c,m]);return e?(0,r.jsx)(eU,{loading:l,mutate:p,team:n,teamMembersFromBeforeDowngrade:o,teams:a??[],user:t}):null}function eU(e){var t,n,g,y;let{user:A,team:M,teams:L,loading:D,mutate:R,teamMembersFromBeforeDowngrade:$}=e,F=(0,o.useRouter)(),{source:B,onStartTeamUpgrade:U,onTeamUpgrade:z,onUpgradeError:K,disabledSteps:V,skipIntendsToGoProCheck:Z,forceImmediateUpgrade:q,forceExpandedReceipt:W}=eN(),H=eO(),G=eI(e=>e.close),Y=(0,O.h)({steps:["team-members","pricing"],workflowName:"upgrade-team-modal",immutableDisabledSteps:new Set([...V])}),J=(0,i.useRef)(performance.now()),X=(0,i.useRef)(!1),{roles:Q}=(0,u.QB)(),[ee,et]=(0,i.useState)(),[en,er]=(0,i.useState)([]),[ei,ea]=(0,i.useState)($),[el,es]=(0,i.useState)(0),[ed,eu]=(0,i.useState)(),ec=(null==H?void 0:H.type)==="speedInsights"?H.additionalConfigurations.projectName:void 0,{data:em}=(0,C.PY)(ec),{data:ef}=(0,x.eM)(ee),eh=(null==ef?void 0:null===(t=ef.emailInviteCodes)||void 0===t?void 0:t.length)??0,[ev,eg]=(0,i.useState)("now"),eb=function(){let{mutate:e}=(0,ej.kY)(),{mutate:t}=(0,E.Z)(),{mutate:n}=(0,w.x)({enabled:!0}),{mutate:r}=(0,S.g)({enabled:!0}),{mutate:a}=(0,I.X)({enabled:!0});return(0,i.useCallback)(async i=>{let{teamId:l,projectId:s}=i;await Promise.all([t(),n(),r(),a(),s?e(`${eF.N}/enabled${(0,v.c)({projectId:s,teamId:l})}`):Promise.resolve()])},[e,t,a,r,n])}(),ex=(0,i.useCallback)(async e=>{var t,n,i,l,o,u,c;let v,{address:g,paidAddOns:x}=e;if(!ee)return;if(U(ee),(null===(t=ee.billing)||void 0===t?void 0:t.status)==="trialing"){if("now"===ev)try{await T({source:B,teamId:ee.id})}catch(t){let{message:e}=(0,d.normalizeError)(t);(0,P.k)({type:"upgrade",error:Error(`Failed to upgrade trial: ${e}`),attributes:{teamId:ee.id}}),v="Failed to upgrade trial. Please try again."}else if(ee.billing.cancelation)try{await j({source:B,teamId:ee.id})}catch(t){let{message:e}=(0,d.normalizeError)(t);(0,P.k)({type:"upgrade",error:Error(`Failed to resume trial: ${e}`),attributes:{teamId:ee.id}}),v="Failed to resume trial. Please try again."}m.analytics.track(m.AnalyticsEvent.INTENT_TO_GO_PRO,{billingStatus:"trialing",source:B})}else try{await (0,p.Z)(ee.id),m.analytics.track(m.AnalyticsEvent.INTENT_TO_GO_PRO,{billingStatus:"canceled or expired trial",source:B})}catch(t){let{message:e}=(0,d.normalizeError)(t);(0,P.k)({type:"upgrade",error:Error(`Failed to reactivate canceled or expired trial: ${e}`),attributes:{teamId:ee.id}}),v=t instanceof Error&&t.message?t.message:"Failed to upgrade team. Please try again."}if(v){s.toasts.error({text:v}),K(ee),G();return}let y=g?(0,_.T)(ee.id,g).then(R).catch(e=>{let{message:t}=(0,d.normalizeError)(e);throw(0,P.k)({type:"upgrade",error:Error(`Failed to save billing address: ${t}`),attributes:{teamId:ee.id}}),Error("Failed to save billing address.")}):null,E=en.filter(e=>e.email),w=ei.filter(e=>e.selected);m.analytics.track(m.AnalyticsEvent.UPGRADE_TEAM_MODAL_TEAM_UPGRADED,{source:B,upgradedTeamId:ee.id,upgradedTeamOwnerId:null==A?void 0:A.uid,cartTotal:el,timeInModalMs:performance.now()-J.current,newTeamMembers:E.length,reactivatedTeamMembers:w.length,existingTeamMembers:eh+((null==M?void 0:null===(l=M.billing)||void 0===l?void 0:null===(i=l.invoiceItems)||void 0===i?void 0:null===(n=i.teamSeats)||void 0===n?void 0:n.quantity)??1)-1,...x?{speedInsights:(null===(o=x.speedInsights)||void 0===o?void 0:o.length)||0,additionalConcurrentBuilds:x.concurrentBuilds??0,previewDeploymentSuffix:!!x.previewDeploymentSuffix,passwordProtection:!!x.passwordProtection,monitoring:!!x.monitoring}:void 0}),(async()=>{var e;let t=0;do await R(),await new Promise(e=>setTimeout(e,2e3)),t++;while((null===(e=ee.billing)||void 0===e?void 0:e.cancelation)&&t<5)})().catch(console.error);let S=w.map(e=>({uid:e.id,role:e.role})),I=async()=>{if(0===S.length)return;let e=await b({teamId:ee.id,userIds:S});if(m.analytics.track(m.AnalyticsEvent.TEAM_MEMBERS_REACTIVATED,{reactivatedCount:S.length,notReactivatedCount:ei.length-S.length}),void 0===e||"error"in e)throw Error("There was a problem reactivating team members.")};if(Promise.all([...E.map(e=>(0,f.Io)(`${h.CZ}/${ee.id}/members`,{method:"POST",body:JSON.stringify({email:e.email,role:e.role}),throwOnHTTPError:!0})),I(),y]).then(()=>{let e=E.length+S.length;if(0===e)return;let t=1===e;s.toasts.success({text:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.x,{as:"span",weight:700,children:[`${e}`," "]}),"team ",t?"member":"members"," ",t?"has":"have"," ","been added to your team."]})})}).catch(e=>{e instanceof Error&&"Failed to save billing address."===e.message?s.toasts.message({text:"There was a problem saving your billing address. Please visit billing settings to update it.",action:"Go to Settings",onAction:()=>{null==F||F.replace(`/${ee.slug}/~/settings/billing#billing-address`)},cancelAction:"Dismiss",preserve:!0}):s.toasts.message({text:"There was a problem with your team members. Please visit team settings to check on them.",action:"Go to Settings",onAction:()=>{null==F||F.replace(`/${ee.slug}/~/settings/members`)},cancelAction:"Dismiss",preserve:!0})}),s.toasts.success({text:"now"===ev?"Your team has been upgraded to Pro.":"Your team will automatically upgrade to Pro at the end of your Trial"}),H&&e$.R[H.type].enableFunction)try{await (null===(u=(c=e$.R[H.type]).enableFunction)||void 0===u?void 0:u.call(c,{team:ee,projectId:null==em?void 0:em.id,..."additionalConfigurations"in H?H.additionalConfigurations:{}})),eb({projectId:null==em?void 0:em.id,teamId:ee.id})}catch(e){s.toasts.error({text:e instanceof Error?e.message:e}),K(ee),G();return}X.current=!1,G(),z(ee),ee.slug!==(null==M?void 0:M.slug)&&(null==F||F.push(`/${ee.slug}`))},[ee,U,R,en,ei,B,null==A?void 0:A.uid,el,eh,null==M?void 0:null===(y=M.billing)||void 0===y?void 0:null===(g=y.invoiceItems)||void 0===g?void 0:null===(n=g.teamSeats)||void 0===n?void 0:n.quantity,null==M?void 0:M.slug,ev,H,G,z,F,K,null==em?void 0:em.id,eb]),ey=(0,i.useCallback)(()=>{X.current||(m.analytics.track(m.AnalyticsEvent.BILLING_UPGRADE_TEAM_CANCELED,{timeInModalMs:performance.now()-J.current}),G())},[G]),e_=!M||!(0,N.t)(M,{skipIntendsToGoProCheck:Z});(0,i.useEffect)(()=>{M&&e_?et(void 0):M&&!e_&&et(M)},[e_,M]);let eE=(0,i.useMemo)(()=>({...Y,title:(0,k.t)(`Upgrade to Pro${H?` and ${e$.R[H.type].modalTitle}`:""}`),defaultCancelText:Y.isFirstEnabledStep?"Cancel":"Back",defaultContinueText:Y.isLastEnabledStep?"Confirm and Upgrade":"Continue",close:ey}),[H,ey,Y]);return(0,r.jsx)(eo.Provider,{value:eE,children:(0,r.jsx)(r.Fragment,{children:D?null:(0,r.jsxs)(l.u.Modal,{active:!0,"data-testid":(0,c.C)("team","upgrade-team-modal"),onClickOutside:ey,width:540,children:["team-members"===Y.step?(0,r.jsx)(ep,{enabledRoles:Q,newTeamMembers:en,preventCloseRef:X,setNewTeamMembers:er,setSubmissionError:eu,setTeam:et,setTeamMembersFromBeforeDowngrade:ea,shouldShowTeamSelect:e_,submissionError:ed,team:ee,teamMembersFromBeforeDowngrade:ei,teams:L}):null,"pricing"===Y.step?(0,r.jsx)(eD,{existingTeamMembers:null==ef?void 0:ef.members,forceExpandedReceipt:W,forceImmediateUpgrade:q,newTeamMembers:en,setGrandTotal:es,setSubmissionError:eu,setTeam:et,setUpgradeTimingOption:eg,team:ee,teams:L,upgradeTeam:ex,upgradeTimingOption:ev}):null]})})})}},555405:function(e,t,n){"use strict";n.d(t,{L:function(){return d},N:function(){return o}});var r=n(289398),i=n.n(r),a=n(33100),l=n(727833),s=n(992163);let o="/api/v1/speed-insights",d=(0,s.j)("speedInsights",{async enableFunction(e){let{projectId:t,team:n}=e;t&&await (0,a.Io)(`${o}/toggle${(0,l.c)({projectId:t,teamId:n.id})}`,{method:"POST",body:{value:!0},throwOnHTTPError:!0})},buildLineItem(e,t){let{alreadyEnabledAddOns:n,addOnToBeEnabled:r}=t;if((null==n?void 0:n.speedInsights)&&n.speedInsights.length>0||(null==r?void 0:r.type)==="speedInsights"){var a;let t=(null==n?void 0:null===(a=n.speedInsights)||void 0===a?void 0:a.map(e=>e.name))??[];(null==r?void 0:r.type)==="speedInsights"&&t.push(r.additionalConfigurations.projectName);let l=t.map(t=>({...i()(e,["modalTitle","subLineItems"]),title:t,price:e.price,unit:e.unit}));return{...e,price:e.price*t.length,subLineItems:l.concat(e.subLineItems??[]),count:t.length}}return null}})},992163:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(368942);function i(e){let{modalTitle:t,enableFunction:n,buildLineItem:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{...{...r.U[e],modalTitle:t??`enable ${r.U[e].title}`},enableFunction:n,buildLineItem(t){let{alreadyEnabledAddOns:n,addOnToBeEnabled:a}=t;return"function"==typeof i?i(r.U[e],{alreadyEnabledAddOns:n,addOnToBeEnabled:a}):{...r.U[e],count:1}}}}},700741:function(e,t,n){"use strict";n.d(t,{R:function(){return g},p:function(){return x}});var r=n(220965),i=n(992163);let a=(0,i.j)("monitoring",{modalTitle:"enable Monitoring",async enableFunction(e){let{team:t}=e;await (0,r.Y)({enable:!0,teamId:t.id})}}),l=(0,i.j)("passwordProtection"),s=(0,i.j)("previewDeploymentSuffix",{buildLineItem(e,t){let{alreadyEnabledAddOns:n}=t;return(null==n?void 0:n.previewDeploymentSuffix)?{...e,count:1,subLineItems:[{title:n.previewDeploymentSuffix,price:e.price,unit:"month"}]}:null}});var o=n(555405),d=n(383446),u=n.n(d),c=n(179309);let m=(0,i.j)("storage",{modalTitle:"get more storage",buildLineItem(e,t){let{addOnToBeEnabled:n}=t;if((null==n?void 0:n.type)!=="storage")return null;let r=c.Z[n.additionalConfigurations.storeType],i=u()(c.Hx[n.additionalConfigurations.storeType]);return{...e,title:`5 ${r} ${i}s`,count:1}}}),p=(0,i.j)("concurrentBuilds",{modalTitle:"enable Additional Concurrent Builds",buildLineItem(e,t){let{alreadyEnabledAddOns:n}=t;if(!(null==n?void 0:n.concurrentBuilds))return null;let r=n.concurrentBuilds;return{...e,title:`${r+1} Concurrent Build${r+1>1?"s":""}`,count:r,subLineItems:[...e.subLineItems??[],{title:`${r} Additional Concurrent Build${r>1?"s":""}`,price:e.price*r,unit:"month"}]}}});var f=n(242429);let h=(0,i.j)("webAnalytics",{modalTitle:"enable Web Analytics",enableFunction:f.tZ}),v=(0,i.j)("webAnalyticsPlus",{modalTitle:"add Web Analytics Plus",enableFunction(e){let{team:t,projectId:n,source:r}=e;return n?(0,f.tZ)({team:t,projectId:n,withPlus:!0}):(0,f.Cb)({teamId:t.id,source:r})}}),g={speedInsights:o.L,concurrentBuilds:p,previewDeploymentSuffix:s,monitoring:a,passwordProtection:l,storage:m,webAnalytics:h,webAnalyticsPlus:v},b=Object.keys(g);function x(e){let{alreadyEnabledAddOns:t,addOnToBeEnabled:n}=e;if(!t&&!n)return[];let r=[];for(let e of b)if(t&&t[e]||(null==n?void 0:n.type)===e){let i=g[e];if("function"==typeof i.buildLineItem){let e=i.buildLineItem({alreadyEnabledAddOns:t,addOnToBeEnabled:n});e&&r.push(e)}else r.push({...i,count:1})}return r}},656823:function(e,t,n){"use strict";n.d(t,{AE:function(){return c},JG:function(){return m},PE:function(){return p},QB:function(){return h},RN:function(){return v},Rx:function(){return b},XF:function(){return u},k4:function(){return f},rF:function(){return o},wN:function(){return d}});var r=n(646418),i=n(23870),a=n(29871),l=n(909062),s=n(256732);let o={CONTRIBUTOR:"Contributor",VIEWER:"Viewer",DEVELOPER:"Developer",BILLING:"Billing",MEMBER:"Member",OWNER:"Owner"};function d(e){var t,n,r,i;return(null===(t=e.uid)||void 0===t?void 0:t.startsWith("ghost_"))?((null===(n=e.github)||void 0===n?void 0:n.login)||(null===(r=e.gitlab)||void 0===r?void 0:r.login)||(null===(i=e.bitbucket)||void 0===i?void 0:i.login)||e.username).replace("[bot]"," (bot)"):e.username}function u(e){return"number"==typeof e.accessRequestedAt&&!e.confirmed}function c(e){return!e.confirmed&&!!e.email}function m(e){return"OWNER"===e?"This user will have full access to the Team.":"This user will have limited access to your Team settings."}function p(){let e={DEVELOPER:{ADMIN:!0},CONTRIBUTOR:{PROJECT_VIEWER:!0,PROJECT_DEVELOPER:!0,ADMIN:!0}};return{validRoleCombinations:e,canHaveProjectRole:t=>void 0!==e[t],isValidRoleCombination:(t,n)=>{var r;return(null===(r=e[t])||void 0===r?void 0:r[n])??!1},getDefaultProjectRole:t=>Object.keys(e[t]??{})[0]}}let f={CONTRIBUTOR:{label:"Contributor",description:"Has access to assigned projects only"},VIEWER:{label:"Viewer",description:"Read-only access to a team"},DEVELOPER:{label:"Developer",description:"Can create non-production deployments"},BILLING:{label:"Billing",description:"Manage billing settings and invoices"},MEMBER:{label:"Member",description:"Create deployments, manage integrations and domains"},OWNER:{label:"Owner",description:"Admin-level access to the entire team"}};function h(){let{isRoleEnabled:e,isReady:t}=(0,l.K)(l.m.VIEWER),{isRoleEnabled:n,isReady:r}=(0,l.K)(l.m.DEVELOPER),{isRoleEnabled:a,isReady:s}=(0,l.K)(l.m.BILLING),{isRoleEnabled:o,isReady:d}=(0,l.K)(l.m.CONTRIBUTOR),u=(0,i.useMemo)(()=>t&&r&&s&&d?Object.entries({CONTRIBUTOR:{enabled:o,...f.CONTRIBUTOR},VIEWER:{enabled:e,...f.VIEWER},DEVELOPER:{enabled:n,...f.DEVELOPER},BILLING:{enabled:a,...f.BILLING},MEMBER:{enabled:!0,...f.MEMBER},OWNER:{enabled:!0,...f.OWNER}}).filter(e=>{let[t,n]=e;return n.enabled}).map(e=>{let[t,n]=e;return{role:t,label:n.label,description:n.description}}):[],[t,r,s,d,e,n,a,o]);return{roles:u,rolesObj:u.reduce((e,t)=>(e[t.role]=t,e),{}),isReady:t&&r&&s}}let v=e=>"uid"in e,g={"date-desc":(e,t)=>e.createdAt&&t.createdAt?(0,r.Z)(new Date(e.createdAt),new Date(t.createdAt)):0,default:()=>0,"name-asc":(e,t)=>"name"in e&&"name"in t?e.name.localeCompare(t.name):"username"in e&&"username"in t?e.username.localeCompare(t.username):e.email&&t.email?e.email.localeCompare(t.email):0,"name-desc":(e,t)=>"name"in e&&"name"in t?t.name.localeCompare(e.name):"username"in e&&"username"in t?t.username.localeCompare(e.username):e.email&&t.email?t.email.localeCompare(e.email):0};function b(e){let t=(0,i.useRef)(),n=(0,i.useRef)(new Set([""])),[r,l]=(0,i.useState)(""),[o,d]=(0,i.useState)("default"),[c,m]=(0,i.useState)("ALL"),{data:p}=(0,s.ZP)({limit:s.ot}),[{data:f,mutate:h},{members:b,...x}]=(0,s.Er)({},{search:(null==p?void 0:p.pagination.hasNext)&&r||void 0,role:"ALL"!==c?c:void 0},!0,!1),y=(0,i.useMemo)(()=>{if("pending"===e){var t;let e=(null==f?void 0:null===(t=f[0])||void 0===t?void 0:t.emailInviteCodes)??[];return"ALL"!==c?e.filter(e=>e.role===c):e}return b},[b,f,e,c]),j=(0,i.useMemo)(()=>(0,a.Lu)([...y],r,{keys:["name","username","email","role"]}),[y,r]),_=(0,i.useMemo)(()=>{let e=g[o];return[...j].sort((t,n)=>{let r=v(t)&&u(t),i=v(n)&&u(n);return r&&!i?-1:!r&&i?1:e(t,n)})},[j,o]),E=(0,i.useCallback)(e=>{t.current&&clearTimeout(t.current);let i=0===e.length,a=e.length>r.length,s=n.current.has(e);i||a&&s?l(e):t.current=setTimeout(()=>{n.current.add(e),l(e)},100)},[r.length]);return{...x,applySort:d,roleFilter:c,setRoleFilter:m,mutate:h,performSearch:E,results:_,search:r,sort:o}}},927564:function(e,t,n){"use strict";n.d(t,{TransferModal:function(){return eO},E:function(){return d}});var r=n(421346),i=n(876119),a=n.n(i),l=n(556163);let s="transfer-modal",o=(0,r.ZP)((e,t)=>({isOpen:!1,open:n=>{l.analytics.addScope(s),l.analytics.track(l.AnalyticsEvent.TRANSFER_MODAL_OPENED,{source:n.source}),t().__openHandler(n),e({isOpen:!0})},close:()=>{l.analytics.removeScope(s),e({isOpen:!1})},__openHandler:a(),__registerOpenHandler:t=>{e({__openHandler:t})}})),d=()=>o(e=>e.open);var u=n(203713),c=n(23870),m=n(866666),p=n(31899),f=n(579550),h=n(784499),v=n(612764),g=n(819430),b=n(196388),x=n(794784),y=n(541194),j=n(917327),_=n(330826),E=n(470286),w=n(990758),S=n(224066),T=n(779854),I=n(148945);let k=(0,c.createContext)({}),C=()=>(0,c.useContext)(k);var N=n(173392),O=n(966067),P=n(30512),A=n.n(P);function M(e){let{title:t,subtitle:n,previousText:r,nextText:i,children:a,inset:l=!1,padding:s=!1,disableSkip:o,disableNext:d,disablePrevious:m,nextLoading:f,previousLoading:h,skipLoading:v,disabled:g,loading:b,next:x,previous:y,skip:E,disableClose:w}=e,{setDisableClose:S}=C();return(0,c.useEffect)(()=>{S(w??!1)},[w,S]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(p.u.Body,{padding:!1,children:[(0,u.jsx)(p.u.Header,{children:(0,u.jsxs)(j.K,{gap:4,style:{padding:24,paddingBottom:0},children:[(0,u.jsx)(_.x,{size:24,weight:600,children:t}),"string"==typeof n?(0,u.jsx)(_.x,{color:"gray-800",size:14,weight:400,children:n}):n]})}),(0,u.jsx)("div",{className:(0,N.W)(A().child,l&&A().inset,s&&A().padding),children:a})]}),(0,u.jsx)(p.u.Actions,{children:(0,u.jsxs)(j.K,{direction:"row",gap:3,justify:"flex-end",style:{width:"100%"},children:[y?(0,u.jsx)(p.u.Action,{disabled:g||m,loading:b||h,onClick:y,type:"secondary",children:r??"Back"}):null,(0,u.jsxs)(j.K,{direction:"row",gap:3,justify:"flex-end",style:{flexGrow:1},children:[E?(0,u.jsx)(p.u.Action,{"data-testid":(0,O.C)("transfer-modal","skip-button"),disabled:g||o,loading:b||v,onClick:E,type:"secondary",children:"Skip"}):null,x?(0,u.jsx)(p.u.Action,{disabled:g||d,loading:b||f,onClick:x,children:i??"Continue"}):null]})]})})]})}var L=n(33012),D=n(692087),R=n.n(D);let $=(0,c.memo)(function(e){let{projectOrAccount:t,padding:n=!1}=e,r=(0,c.useMemo)(()=>{if(!t)return null;if("type"in t){if("user"===t.type){let e=t.userOrTeam;return e.name??e.username}return t.userOrTeam.name}return t.name},[t]);return t?(0,u.jsxs)("div",{className:(0,N.W)(R().pill,n&&R().padding),children:["type"in t?(0,u.jsx)(E.Avatar,{className:R().avatar,hash:t.userOrTeam.avatar,size:16}):(0,u.jsx)(L.FaviconOrFramework,{hideSkeleton:!0,project:t,size:16,style:{alignSelf:"center"}}),(0,u.jsx)(_.x,{size:14,weight:500,children:r})]}):null}),F="create-team";function B(e){let{team:t}=e;return t.limited?(0,u.jsx)(z,{team:t}):(0,u.jsx)(U,{team:t})}function U(e){let{team:t}=e,{can:n}=(0,g.ZP)({teamId:t.id}),r=(0,c.useMemo)(()=>n(g.aU.Create,g._z.ProjectTransferIn),[n]);return(0,u.jsx)(z,{disabled:!r,team:t})}function z(e){let{team:t,disabled:n}=e;return(0,u.jsx)(w.y.Option,{disabled:n||t.limited,label:t.name,prefix:(0,u.jsx)(E.Avatar,{size:24,teamId:t.id}),suffix:t.limited?(0,u.jsx)(y.H,{size:16}):null,value:t.id,children:(0,u.jsxs)(j.K,{align:"center",direction:"row",gap:2,children:[(0,u.jsx)("span",{children:t.name}),(0,u.jsx)(I.vE,{team:t})]})})}var K=n(9845),V=n(854093),Z=n(671198),q=n(320910),W=n(33100),H=n(499979),G=n(8533),Y=n(613750),J=n(205978),X=n.n(J);function Q(e){let{project:t,selected:n,setSelected:r}=e,i=(0,c.useMemo)(()=>n.includes(t.id),[n,t]),a=(0,c.useCallback)(()=>r(e=>e.includes(t.id)?[...e.filter(e=>e!==t.id)]:[...e,t.id]),[r,t]),l=(0,c.useMemo)(()=>{var e,n,r;return(null===(r=t.targets)||void 0===r?void 0:null===(n=r.production)||void 0===n?void 0:null===(e=n.alias)||void 0===e?void 0:e[0])??null},[t]);return(0,u.jsx)("label",{className:X().label,htmlFor:t.id,children:(0,u.jsx)(j.K,{align:"center",className:X().row,direction:"row",gap:4,children:(0,u.jsx)(K.Checkbox,{checked:i,className:X().checkbox,containerClassName:X().checkboxContainer,id:t.id,onChange:a,children:(0,u.jsxs)(j.K,{align:"center",direction:"row",gap:4,style:{width:"100%"},children:[(0,u.jsx)(ee,{project:t}),(0,u.jsxs)(j.K,{gap:1,children:[(0,u.jsx)(_.x,{size:14,weight:600,children:t.name}),l?(0,u.jsx)(_.x,{color:"gray-800",size:14,children:l}):null]})]})})})})}function ee(e){let{project:t}=e,n=(0,G.VW)(t),{data:r}=(0,Y.Z)(n),i=(0,G.mk)(t),a=(0,c.useMemo)(()=>(null==r?void 0:r.src)??(null==i?void 0:i.logo)??null,[r,null==i?void 0:i.logo]);return a?(0,u.jsx)(E.Avatar,{size:32,src:a}):(0,u.jsx)(E.Avatar,{hash:t.id,size:32})}function et(e){let{selected:t,setSelected:n,projects:r}=e,i=(0,c.useMemo)(()=>`${t.length} selected`,[t]),a=(0,c.useMemo)(()=>t.length===r.length&&0!==r.length,[t,r]),l=(0,c.useMemo)(()=>t.length<r.length&&t.length>0,[t,r]),s=(0,c.useCallback)(()=>n(e=>e.length===r.length?[]:r.map(e=>e.id)),[r,n]);return(0,u.jsx)("label",{htmlFor:"select-projects-header",children:(0,u.jsx)("div",{className:X().header,children:(0,u.jsx)(K.Checkbox,{checked:a,className:X().checkbox,id:"select-projects-header",indeterminate:l,onChange:s,children:(0,u.jsx)(_.x,{color:"gray-800",size:14,children:i})})})})}function en(e){let{selected:t,setSelected:n,projects:r,filteredProjects:i}=e;return(0,u.jsxs)(j.K,{className:X().list,gap:1,children:[(0,u.jsx)(et,{projects:r,selected:t,setSelected:n}),(0,u.jsx)("div",{className:X().rowContainer,children:i.map(e=>(0,u.jsx)(Q,{project:e,selected:t,setSelected:n},e.id))})]})}async function er(e){let{projectId:t,destinationAccount:n,sourceAccount:r}=e,i="";"team"===r.type&&(i=`?${new URLSearchParams({teamId:r.id}).toString()}`);let a=await (0,W.Io)(`${(0,H.XS)(t,n.id)}${i}`,{method:"GET",throwOnHTTPError:!0});return{projectId:t,error:a.error,resources:{domains:a.domains,newProjectName:a.newProjectName}}}var ei=n(951940),ea=n(875659),el=n(750617),es=n(226458),eo=n(826964),ed=n(495688),eu=n(649373),ec=n(246731),em=n(953749),ep=n(456315),ef=n(967730),eh=n.n(ef);function ev(e){let{children:t,title:n}=e;return(0,u.jsx)(el.P,{className:eh().subDetails,noMaxHeight:!0,title:n,children:t})}function eg(e){let{value:t,from:n=t,to:r=t}=e;return(0,u.jsx)(el.c,{children:(0,u.jsxs)(j.K,{align:"center",direction:"row",gap:2,justify:"space-between",style:{width:"100%"},children:[(0,u.jsx)(_.x,{truncate:!0,children:n}),(0,u.jsx)(ea.o,{size:14,style:{flexShrink:0}}),(0,u.jsx)(_.x,{truncate:!0,children:r})]})})}function eb(e){let{bold:t,normal:n,prefix:r}=e;return(0,u.jsxs)("span",{className:eh().detailsTitle,children:[r,(0,u.jsxs)("span",{children:[(0,u.jsx)("b",{children:t})," ",n]})]})}function ex(e){let{projectWithTransfer:t}=e,{sourceAccount:n}=C(),r=(null==n?void 0:n.type)==="user"?void 0:null==n?void 0:n.userOrTeam.slug,{data:i}=(0,es.Z)(t.project.id,void 0,r),{data:a}=(0,eo.Z)(t.project.id,void 0,r),{logDrainsGroups:l}=(0,ed.TV)({projectId:t.project.id,enabled:!!t.project}),s=l.selfServed.length>0||l.integrations.length>0,o=!!(null==i?void 0:i.envs.some(e=>e.edgeConfigId)),d=!!(null==i?void 0:i.envs.some(e=>{var t;return(null===(t=e.contentHint)||void 0===t?void 0:t.type)==="postgres-database"})),m=!!(null==i?void 0:i.envs.some(e=>{var t;return(null===(t=e.contentHint)||void 0===t?void 0:t.type)==="redis-url"})),p=!!(null==i?void 0:i.envs.some(e=>{var t;return(null===(t=e.contentHint)||void 0===t?void 0:t.type)==="blob-read-write-token"})),f=a&&a.integrations.length>0,h=(0,c.useMemo)(()=>{let e=[];if(f&&e.push("Integrations won't be transferred. They need to be added again after the transfer is complete."),0!==e.length)return(0,u.jsx)(j.K,{className:eh().warnings,gap:2,padding:4,children:e.map(e=>(0,u.jsx)(ei.Note,{className:eh().note,fill:!0,label:!1,type:"warning",children:e},e))})},[f]),v=(0,c.useMemo)(()=>p||o||m||d,[p,o,m,d]);return(0,u.jsxs)("details",{className:eh().details,children:[(0,u.jsx)("summary",{className:eh().summary,children:(0,u.jsx)($,{padding:!0,projectOrAccount:t.project})}),h,(0,u.jsxs)(j.K,{className:(0,N.W)(eh().inline),children:[(0,u.jsx)(eE,{projectWithTransfer:t}),(0,u.jsx)(ey,{domains:t.transferResources.domains}),(0,u.jsx)(ej,{overWriteTeamSlug:r,project:t.project}),(0,u.jsx)(e_,{project:t.project}),v?(0,u.jsx)(ew,{blob:p,edge:o,kv:m,postgres:d}):null,s?(0,u.jsx)(eS,{integrations:l.integrations,selfServed:l.selfServed}):null,(0,u.jsx)(ev,{title:(0,u.jsx)(eb,{bold:"All Deployments",normal:"will be transferred"})})]})]})}function ey(e){let{domains:t}=e;return t&&0!==t.length?(0,u.jsx)(ev,{title:(0,u.jsx)(eb,{bold:`${t.length} Domains`,normal:"will be copied"}),children:t.map(e=>{let t="string"==typeof e?e:e.name;return(0,u.jsx)(eg,{value:t},t)})}):null}function ej(e){let{project:t,overWriteTeamSlug:n}=e,[,{aliases:r,loadMore:i,isLoadingMore:a,isReachingEnd:l}]=(0,eu.f)({projectId:t.id,limit:10},void 0,n),s=(0,c.useMemo)(()=>r.map(e=>null==e?void 0:e.alias),[r]);return 0===s.length?null:(0,u.jsxs)(ev,{title:(0,u.jsx)(eb,{bold:`${r.length}${10!==r.length||l?"":"+"} Aliases`,normal:"will be copied"}),children:[s.map(e=>(0,u.jsx)(eg,{value:e},e)),10===r.length&&!l&&(0,u.jsx)("div",{className:eh().loadMore,children:(0,u.jsx)(ec.Z,{loading:a,onClick:i})})]})}function e_(e){let{project:t}=e,n=(0,c.useMemo)(()=>(t.env??[]).map(e=>e.key),[t]);return 0===n.length?null:(0,u.jsx)(ev,{title:(0,u.jsx)(eb,{bold:`${n.length} Environment Variables`,normal:"will be moved"}),children:n.map(e=>(0,u.jsx)(eg,{value:e},`${t.id}-${e}`))})}function eE(e){let{projectWithTransfer:t}=e;return t.transferResources.newProjectName===t.project.name?null:(0,u.jsx)(ev,{title:(0,u.jsx)(eb,{bold:"Will be named",normal:t.transferResources.newProjectName})})}function ew(e){let{blob:t,kv:n,postgres:r,edge:i}=e,a=(0,c.useMemo)(()=>{let e=[];t&&e.push("Blob Store"),i&&e.push("Edge Config Store"),n&&e.push("KV Database"),r&&e.push("Postgres Database");let a=function(e,t){let{join:n=" ",last:r}=t??{};if(!Array.isArray(e))throw TypeError("stringConcat expects an array of strings");if(0===e.length)return"";if(1===e.length)return e[0];let i="";for(let t=0;t<e.length;t++){let a=e[t];if(0===a.length)continue;let l="";t<e.length-2?l=n:t===e.length-2&&(l=r??n),i+=a+l}return i}(e,{join:", ",last:", and "}),l=`store${e.length>1?"s":""}`;return(0,u.jsxs)(j.K,{children:[(0,u.jsxs)("p",{children:["Project will keep access to its ",(0,u.jsx)("b",{children:a}),", though the",` ${l} `,"will not be transferred."]}),(0,u.jsxs)("p",{children:["The existing connection can be managed from the ","project's ",(0,u.jsx)("b",{children:"Environment Variable"})," settings, as it will not be visible from the Database."]})]})},[t,i,n,r]);return(0,u.jsx)(ev,{title:(0,u.jsx)(eb,{bold:"Databases",normal:"will stay connected, but will not be moved."}),children:(0,u.jsx)(el.c,{children:a})})}function eS(e){let{integrations:t,selfServed:n}=e,r=t.length+n.length;return(0,u.jsxs)(ev,{title:(0,u.jsx)(eb,{bold:`${r} Log Drains`,normal:(0,u.jsxs)(u.Fragment,{children:["will ",(0,u.jsx)("b",{children:"not"})," be transferred"]})}),children:[t.map(e=>(0,u.jsx)(el.c,{children:e.name},e.id)),n.map(e=>(0,u.jsx)(el.c,{children:e.name},e.id))]})}var eT=n(107908),eI=n.n(eT);function ek(){let{transferResponse:e}=C();return e?(0,u.jsx)("div",{className:eI().rows,children:e.filter(e=>!!e.error).map(e=>(0,u.jsx)(eC,{row:e},e.projectId))}):null}function eC(e){let{row:t}=e,{projects:n}=C(),r=(0,c.useMemo)(()=>{var e;return null===(e=n.find(e=>e.project.id===t.projectId))||void 0===e?void 0:e.project},[n,t.projectId]);return r&&t.error?(0,u.jsxs)("div",{className:eI().row,children:[(0,u.jsx)($,{projectOrAccount:r}),(0,u.jsx)(ei.Note,{fill:!0,type:"error",children:t.error.message})]}):null}let eN={source:function(){let{setStep:e,setSourceAccount:t}=C(),n=(0,S.nb)(),[r,i]=(0,c.useState)(null),a=(0,c.useMemo)(()=>n.find(e=>e.id===r)??null,[n,r]),l=(0,c.useMemo)(()=>(0,u.jsxs)(w.y,{onChange:i,placeholder:"Select a Vercel Account",value:r,children:[(0,u.jsx)(w.y.Input,{}),(0,u.jsx)(w.y.List,{children:n.map(e=>(0,u.jsx)(w.y.Option,{prefix:(0,u.jsx)(E.Avatar,{size:24,teamId:e.id}),value:e.id,children:e.name},e.id))})]}),[n,r,i]),s=(0,c.useCallback)(()=>{a&&(e("destination"),t({id:a.id,type:"team",userOrTeam:a}))},[e,t,a]);return(0,u.jsx)(M,{disableNext:0===n.length||null===r,inset:!0,next:s,padding:!0,previous:()=>e(null),previousText:"Cancel",subtitle:"Select a Vercel account to transfer your project(s) from.",title:"Transfer",children:l})},destination:function(){let{setStep:e,setDestinationAccount:t,destinationAccount:n,sourceAccount:r,openCreateTeamModal:i,close:a,source:s,projects:o}=C(),{user:d,isNorthstar:m}=(0,T.a)(),p=(0,S.nb)(),f=(0,c.useMemo)(()=>p.filter(e=>!r||"uid"in r||e.id!==r.id),[p,r]),[h,v]=(0,c.useState)((null==n?void 0:n.id)??null),g=(0,c.useMemo)(()=>{if(!h)return null;if(h.startsWith("team")){let e=p.find(e=>e.id===h);if(e)return{id:e.id,type:"team",userOrTeam:e}}else if(d)return{id:d.uid,type:"user",userOrTeam:d};return null},[p,h,d]),b=(0,c.useMemo)(()=>h?h===F?(0,u.jsx)(x.F,{color:"var(--geist-success)",size:24}):g?(0,u.jsx)(E.Avatar,{hash:g.userOrTeam.avatar,size:24}):null:null,[h,g]),y=(0,c.useMemo)(()=>h?h===F?"Create Team":g?g.userOrTeam.name??null:null:null,[h,g]),k=(0,c.useMemo)(()=>(0,u.jsxs)(w.y,{disabled:!d,onChange:v,placeholder:"Select a Vercel Account",prefixIcon:b,value:y,children:[(0,u.jsx)(w.y.Input,{}),(0,u.jsx)(w.y.List,{children:(0,u.jsxs)(u.Fragment,{children:[f.map(e=>(0,u.jsx)(B,{team:e},e.id)),d&&(null==r?void 0:r.type)!=="user"&&!m?(0,u.jsx)(w.y.Option,{prefix:(0,u.jsx)(E.Avatar,{size:24,uid:d.uid}),value:d.uid,children:(0,u.jsxs)(j.K,{align:"center",direction:"row",gap:2,children:[(0,u.jsx)("span",{children:d.name}),(0,u.jsx)(I.vE,{user:d})]})}):null,(0,u.jsx)(w.y.Option,{prefix:(0,u.jsx)(x.F,{color:"var(--geist-success)",size:24}),value:F,children:"Create Team"})]})})]}),[d,f,b,y,r,m]),N=(0,c.useCallback)(()=>{if(h===F){l.analytics.track(l.VercelAnalyticsEvent.TRANSFER_MODAL_CREATED_TEAM,{source:s}),i();return}g&&(l.analytics.track(l.VercelAnalyticsEvent.TRANSFER_MODAL_SELECTED_EXISTING_TEAM,{source:s}),e("projects"),t(g))},[h,g,s,e,t,i]);return(0,u.jsx)(M,{disableNext:null===h,inset:!0,next:N,padding:!0,previous:a,previousText:"Cancel",subtitle:(0,u.jsxs)(_.x,{color:"gray-800",children:["Transfer your project",o.length>0?"":"s"," from"," ",(0,u.jsx)($,{projectOrAccount:r})," to another Vercel account."]}),title:"Transfer",children:k})},projects:function(){let{setStep:e,sourceAccount:t,setProjects:n,destinationAccount:r,projects:i,availableProjects:a,showSkipAndCloseButton:l,close:s,hadPreselectedProjects:o}=C(),d=(0,c.useCallback)(()=>{e("destination")},[e]),[p,f]=(0,c.useState)(!1),[h,g]=(0,c.useState)(Array.from(new Set(i.map(e=>e.project.id)))),[b,x]=(0,c.useState)(""),y=(0,V.useToasts)(),E=(0,m.useRouter)(),w=(0,c.useCallback)(()=>{r&&t&&(f(!0),(function(e){let{projectIds:t,sourceAccount:n,destinationAccount:r}=e;return Promise.all(t.map(e=>er({projectId:e,destinationAccount:r,sourceAccount:n})))})({projectIds:h,destinationAccount:r,sourceAccount:t}).then(t=>{let r=[];for(let e of h){var l,s;let n=a.find(t=>t.id===e);if(n||(n=null===(s=i.find(t=>t.project.id===e))||void 0===s?void 0:s.project),!n)continue;let o=null===(l=t.find(t=>t.projectId===e))||void 0===l?void 0:l.resources;o&&r.push({project:n,transferResources:{domains:o.domains??[],newProjectName:o.newProjectName??n.name}})}n(r),e("confirmation")}).catch(e=>{let t="";e instanceof Error&&(t=`: ${e.message}`),y.error(`Failed to fetch project(s) resources${t}`)}).finally(()=>{f(!1)}))},[r,a,h,n,e,t,y,i]),S=(0,c.useMemo)(()=>{let e=b.trim().toLowerCase();return""===e?a:a.filter(t=>t.name.toLowerCase().includes(e))},[a,b]),T=(0,c.useCallback)(e=>{x(e.target.value)},[x]),I=(0,c.useMemo)(()=>(0,u.jsxs)(j.K,{gap:3,children:[(0,u.jsx)(q.I,{"aria-label":"Search projects",onChange:T,placeholder:"Search projects...",prefix:(0,u.jsx)(Z.o,{}),prefixStyling:!1,value:b}),(0,u.jsx)(en,{filteredProjects:S,projects:a,selected:h,setSelected:g})]}),[S,T,a,b,h]),k=(0,c.useCallback)(()=>{s();let e="/new";if((null==r?void 0:r.type)==="team"){let t=r.userOrTeam.slug;e=`${e}/${t}`,(0,v.Z8)(t)}E.push(e)},[s,r,E]),N=(0,c.useMemo)(()=>{if(l)return(0,u.jsxs)(_.x,{color:"gray-1000",children:["Would you like to transfer any projects from"," ",(0,u.jsx)($,{projectOrAccount:t})," to your new team"," ",(0,u.jsx)($,{projectOrAccount:r}),"?"]});let e="Which project(s)";return o&&(e="Which additional project(s)"),(0,u.jsxs)(_.x,{color:"gray-1000",children:[`${e} `," would you like to transfer from"," ",(0,u.jsx)($,{projectOrAccount:t})," to"," ",(0,u.jsx)($,{projectOrAccount:r}),"?"]})},[r,o,l,t]);return(0,u.jsx)(M,{disableNext:0===h.length,inset:!0,next:w,nextLoading:p,padding:!0,previous:l?void 0:d,skip:l?k:void 0,subtitle:N,title:"Transfer",children:I})},confirmation:function(){let{setStep:e,finish:t,sourceAccount:n,setTransferResponse:r,destinationAccount:i,projects:a,source:s}=C(),{addFavorite:o,favorites:d}=(0,ep.A)(),m=(0,V.useToasts)(),[p,f]=(0,c.useState)(!1),h=(0,c.useMemo)(()=>(0,u.jsxs)(j.K,{gap:4,children:[(0,u.jsxs)(_.x,{color:"gray-800",children:["Upon confirmation,"," ",1===a.length?(0,u.jsxs)(u.Fragment,{children:["your project ",(0,u.jsx)($,{projectOrAccount:a[0].project})]}):`${a.length} projects`," ","will be transferred from"," ",(0,u.jsx)($,{projectOrAccount:n})," to"," ",(0,u.jsx)($,{projectOrAccount:i}),"."]}),(0,u.jsxs)(_.x,{color:"gray-800",children:[(0,u.jsx)("b",{children:"Note:"})," Some project functionality cannot be transferred. See"," ",(0,u.jsx)(em.r,{external:!0,href:"/docs/projects/overview#what-is-transferred",type:"highlight",children:"documentation"})," ","for details."]})]}),[i,n,a]),v=(0,c.useMemo)(()=>(0,u.jsx)("div",{className:eh().container,children:a.map(e=>(0,u.jsx)(ex,{projectWithTransfer:e},e.project.id))}),[a]),g=(0,c.useMemo)(()=>(null==i?void 0:i.userOrTeam.billing)?{destinationAccountType:i.type,destinationAccountPlan:i.userOrTeam.billing.plan}:{destinationAccountType:null,destinationAccountPlan:null},[i]),b=(0,c.useCallback)(async()=>{if(!i)throw Error("Can't transfer without a destination account");l.analytics.track(l.VercelAnalyticsEvent.TRANSFER_MODAL_TRANSFER_STARTED,{numberOfProjects:a.length,source:s,...g});let e=new URLSearchParams;n&&"team"===n.type&&e.set("teamId",n.id);let t=e.toString(),u=t?`?${t}`:"",c=await (0,W.Io)(`${(0,H.SN)(i.id)}${u}`,{method:"POST",throwOnHTTPError:!0,body:JSON.stringify({projects:a.map(e=>({projectId:e.project.id,newProjectName:e.transferResources.newProjectName,domains:e.transferResources.domains}))})});if(n){let e=a.map(e=>e.project.id),t=d.filter(e=>"projectId"in e);e.forEach(e=>{if(t.find(t=>t.projectId===e)){let t="";o({projectId:e,scopeId:t="user"===i.type?i.userOrTeam.username:i.userOrTeam.slug,scopeSlug:t,spaceId:""})}})}return r(c),c},[g,i,a,r,s,n,d,o]),x=(0,c.useCallback)(()=>{f(!0),b().then(n=>{let r=n.filter(e=>!!e.error).length;l.analytics.track(l.VercelAnalyticsEvent.TRANSFER_MODAL_TRANSFER_COMPLETED,{successfulTransfers:a.length,failedTransfers:r,source:s,...g}),r>0?(e("error"),l.analytics.track(l.VercelAnalyticsEvent.TRANSFER_MODAL_TRANSFER_ERRORED,{numberOfProjects:r,source:s,...g})):t()}).catch(e=>{let t="Failed to transfer project(s)";e instanceof Error&&(t=`${t}: ${e.message}`),m.error(t)}).finally(()=>{f(!1)})},[g,t,b,a.length,e,s,m]);return(0,u.jsx)(M,{disabled:p,next:x,nextLoading:p,nextText:"Transfer",previous:()=>e("projects"),subtitle:h,title:"Transfer",children:v})},missingPermissions:function(){let{setStep:e,sourceAccount:t}=C();return(0,u.jsx)(M,{next:()=>e(null),nextText:"Close",subtitle:(0,u.jsxs)(_.x,{color:"gray-800",children:["You do not have the required permissions to transfer projects from"," ",(0,u.jsx)($,{projectOrAccount:t}),"."]}),title:"Transfer"})},createTeam:null,error:function(){let{close:e,transferResponse:t}=C(),n=(0,c.useMemo)(()=>(null==t?void 0:t.filter(e=>!!e.error).length)??0,[t]);return(0,u.jsx)(M,{next:()=>e(),nextText:"Close",subtitle:(0,u.jsxs)(_.x,{children:["The following ",(0,u.jsxs)("b",{children:[n," projects"]})," errored and could not be transferred. Please try again later."]}),title:"Transfer",children:(0,u.jsx)(ek,{})})}};function eO(){let{isOpen:e,close:t,__registerOpenHandler:n}=o(),[r,i]=(0,c.useState)("unknown"),[a,s]=(0,c.useState)(null),[d,p]=(0,c.useState)(!1),[b,x]=(0,c.useState)(null),[y,j]=(0,c.useState)(null),[_,E]=(0,c.useState)([]),{team:w,user:S}=(0,h.Z)(),[T,I]=(0,c.useState)(!1),[C,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(null),A=(0,m.useRouter)(),{data:M,isLoading:L}=(0,f.ZP)({teamId:(null==b?void 0:b.type)==="team"?b.id:void 0,fetchEnabled:!!e&&!!b&&!b.userOrTeam.limited,limit:100}),[D,R]=(0,c.useState)(!1),{can:$,isLoading:F}=(0,g.ZP)({teamId:(null==b?void 0:b.type)==="team"?b.id:void 0});(0,c.useEffect)(()=>{T||(w?F||!$(g.aU.Create,g._z.ProjectTransferOut)||x({id:w.id,type:"team",userOrTeam:w}):S&&x({id:S.uid,type:"user",userOrTeam:S}))},[S,T,w,F,$]);let B=(0,c.useCallback)(()=>{s(null),j(null),E([]),I(!1),N(!1),t()},[t]),U=(0,c.useCallback)(e=>{if(B(),e)(0,v.Z8)(e),A.push(`/new/${e}`);else{let t=e;(null==y?void 0:y.type)==="team"?t=y.userOrTeam.slug:(null==y?void 0:y.type)==="user"&&(t=y.userOrTeam.username),t&&(0,v.Z8)(t),A.push(`/${t??""}`)}},[B,A,null==y?void 0:y.type,null==y?void 0:y.userOrTeam]),z=(0,c.useCallback)(()=>{s("createTeam")},[s]),K=(0,c.useMemo)(()=>(null==M?void 0:M.projects)??[],[M]),V=(0,c.useMemo)(()=>null==b?void 0:b.id,[b]),Z=(0,c.useMemo)(()=>{if(b&&"user"!==b.type)return b.id},[b]),q=(0,c.useCallback)(e=>{if(!s)throw Error("The TransferModalContext could not be found in the component tree.");i(e.source),e.preselectedProjects&&(R(!0),E(e.preselectedProjects.map(e=>({project:e,transferResources:{domains:[],newProjectName:e.name}})))),e.skipScopeUpdate&&I(!0),e.showSkipButton&&N(!0),e.project&&E([e.project]),e.team?(j({id:e.team.id,type:"team",userOrTeam:e.team}),0!==K.length||L?s("projects"):U(e.team.slug)):s("destination")},[K.length,L,U]);(0,c.useEffect)(()=>{n(q)},[n,q]),(0,c.useEffect)(()=>{a&&l.analytics.track(l.AnalyticsEvent.TRANSFER_MODAL_STEP,{step:a,source:r})},[r,a]);let W=(0,c.useMemo)(()=>({setStep:s,step:a,disableClose:d,setDisableClose:p,sourceAccount:b,setSourceAccount:x,destinationAccount:y,setDestinationAccount:j,projects:_,setProjects:E,sourceAccountId:V,teamId:Z,openCreateTeamModal:z,close:B,skipScopeUpdate:T,setSkipScopeUpdate:I,showSkipAndCloseButton:C,setShowSkipAndCloseButton:N,transferResponse:O,setTransferResponse:P,finish:U,availableProjects:K,hadPreselectedProjects:D,source:r}),[K,B,y,d,U,D,z,_,C,T,r,b,V,a,Z,O]);return e&&!L?(0,u.jsx)(k.Provider,{value:W,children:(0,u.jsx)(eP,{})}):null}function eP(){let{open:e,close:t}=(0,b.iL)(),{setStep:n,step:r,disableClose:i,setDestinationAccount:a,close:l}=C(),s=(0,c.useMemo)(()=>r?eN[r]:null,[r]),o=(0,c.useCallback)(()=>{i||l()},[i,l]),d=(0,c.useCallback)(()=>{"createTeam"===r&&e({source:"transfer-modal",title:"Transfer",subtitle:"Create a new team to transfer your project(s) to.",backText:"Back",onBack:()=>{n("destination"),t(),a(null)},onTeamCreate:e=>{a({id:e.id,type:"team",userOrTeam:e}),n("projects")}})},[t,e,a,n,r]),m=(0,c.useMemo)(()=>"createTeam"!==r&&null!==r,[r]);return(0,u.jsx)(p.u.Modal,{active:m,drawer:"destination"!==r,onAnimationDone:d,onClickOutside:o,width:450,children:s?(0,u.jsx)(s,{}):null})}},718557:function(e,t,n){"use strict";n.d(t,{b:function(){return em}});var r=n(203713),i=n(23870),a=n(173392),l=n(70077),s=n(274661),o=n(772849),d=n(917327),u=n(330826),c=n(605889),m=n(31899),p=n(854093),f=n(108072),h=n(454626),v=n(314527),g=n(755631),b=n.n(g);function x(e){let{currentStep:t,steps:n,className:l}=e,s=(0,i.useRef)(null),[o,u]=(0,i.useState)({top:0,left:0});return(0,i.useEffect)(()=>{s.current&&u({top:s.current.offsetTop,left:s.current.offsetLeft})},[t]),(0,r.jsxs)(d.K,{className:(0,a.W)(l,b()["step-indicator"]),direction:"row",gap:1,children:[(0,r.jsx)("span",{"aria-hidden":!0,className:(0,a.W)(b().circle,b().current),style:o}),n.map((e,n)=>(0,r.jsx)("span",{"aria-hidden":!0,className:b().circle,ref:n===t?s:void 0},e.key)),(0,r.jsxs)("span",{className:"geist-sr-only",children:["Step ",t+1," of ",n.length]})]})}var y=n(477130);let j=(0,i.createContext)({accountId:void 0,cancel:()=>void 0,dataTestIdContext:[],dispatch:()=>void 0,hasMultipleSteps:!1,invalidFields:[],originalSteps:[],setInvalidFields:()=>void 0,setStatus:()=>void 0,status:"idle",submit:()=>Promise.resolve(),surveyState:null,team:null,updateCookie:()=>void 0,user:null});var _=n(82672),E=n(209894),w=n.n(E);function S(e){let{id:t,onAction:n,surveyName:a,updateCookie:l}=e,s=(0,p.useToasts)(),o=()=>{s.removeToastByKey(t)};(0,i.useEffect)(()=>{f.co.track(f.s6.SURVEY_TOAST_SHOWN,{surveyName:a})},[a]);let m=()=>{f.co.track(f.s6.SURVEY_TOAST_DISMISSED,{surveyName:a}),l(),o()};return(0,r.jsxs)(d.K,{className:w().prompt,gap:4,children:[(0,r.jsxs)(d.K,{direction:"row",children:[(0,r.jsx)(u.x,{as:"h1",size:16,weight:500,children:"Help us improve your Vercel experience"}),(0,r.jsx)(c.Button,{"aria-label":"dismiss",className:w()["close-button"],onClick:m,svgOnly:!0,variant:"unstyled",children:(0,r.jsx)(_.X,{weight:"bold"})})]}),(0,r.jsx)(u.x,{className:w().description,children:"Please help us better understand how we can improve your Vercel experience with this 2 minute survey."}),(0,r.jsxs)(d.K,{direction:"row",gap:2,justify:"end",children:[(0,r.jsx)(c.Button,{onClick:m,size:"small",type:"secondary",children:"No Thanks"}),(0,r.jsx)(c.Button,{onClick:()=>{n(),o()},size:"small",children:"Start"})]})]})}var T=n(610921),I=n.n(T),k=n(699248),C=n(966067);function N(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,C.C)("survey-modal",e,...n)}function O(e){if("checkbox"!==e.as)throw Error(`Expected a checkbox select list, but got a ${e.as} select list instead.`);return e}let P=e=>{let t=[],n={},r=[],i={},{surveyName:a,surveySlug:l,surveySteps:s}=e,o=0;for(let e=0;e<s.length;e++){let a=s[e];for(let l of(r[e]={title:a.title,description:a.description,start:o,end:o+1},a.fields))if("select"===l.type){switch(l.as){case"dropdown":i[l.id]={as:"dropdown",id:l.id,start:o,end:o+1,label:l.label};break;case"combobox":i[l.id]={as:"combobox",id:l.id,start:o,end:o+1,label:l.label,placeholder:l.placeholder??null};break;default:i[l.id]={as:l.as??"checkbox",id:l.id,start:o,end:o+1,label:l.label,selectMultiple:!!l.selectMultiple}}for(let a of l.options){let s=`${e}-${l.id}-${a.id}`,d={fqid:s,stepIndex:e,inputId:a.id,selectListId:l.id,label:a.label,selected:!!a.selected,type:"option",reveals:a.reveals?{fqid:`${s}-${a.reveals.id}`,stepIndex:e,inputId:a.reveals.id,label:a.reveals.label??"",value:a.reveals.value??"",size:a.reveals.size??"short",validationRegex:a.reveals.validationRegex,validationErrorMessage:a.reveals.validationErrorMessage,inputTypeName:a.reveals.inputTypeName,type:"text"}:void 0};t.push(d),n[s]=o,r[e].end=o+1,i[l.id].end=o+1,o++}}else{let i=`${e}-${l.id}`,a={fqid:i,stepIndex:e,inputId:l.id,label:l.label,instructions:l.instructions,value:l.value||"",size:l.size||"short",validationRegex:l.validationRegex,validationErrorMessage:l.validationErrorMessage,inputTypeName:l.inputTypeName,type:"text"};t.push(a),n[i]=o,r[e].end=o+1,o++}}return{surveyName:a,surveySlug:l,fields:t,fieldLookup:n,stepLookup:r,selectListLookup:i,currentStep:0,previousStep:null,lastStep:s.length-1,isFirstStep:!0,isLastStep:s.length-1==0}},A=e=>{let{enableSkip:t=!1}=e;return{...P(e.surveyInfo),focusedItem:null,focusedField:null,focusedNestedField:null,focusedButton:null,backButtonExists:!1,skipButtonExists:t,submitButtonExists:!0,enableSkip:t}},M=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var L=n(880806),D=n.n(L),R=n(970335),$=n(410892),F=n(568891),B=n.n(F),U=n(588660),z=n.n(U),K=n(320910),V=n(301408);function Z(e){let{type:t,optionFqid:n,field:a,className:l,"data-testid":s,showLabel:o,...d}=e,{setInvalidFields:c,invalidFields:m,surveyState:p,dispatch:f}=(0,i.useContext)(j),{fqid:h,inputId:v,inputTypeName:g,label:b,size:x="short",value:_,validationErrorMessage:E,validationRegex:w}=a,{focusedField:S,focusedNestedField:T}=p,k=(0,i.useRef)(null),C=(0,i.useRef)(null),[N,O]=(0,i.useState)(!1);(0,i.useEffect)(()=>{m.includes(h)?N||c(m.filter(e=>e!==h)):N&&c([...m,h])},[N,h,c]),(0,i.useEffect)(()=>{if("top-level"===t?(null==S?void 0:S.fqid)===h:(null==T?void 0:T.fqid)===h){var e;null===(e=k.current??C.current)||void 0===e||e.focus()}},[null==S?void 0:S.fqid,null==T?void 0:T.fqid,h,t]);let P=()=>{"top-level"===t&&(null==S?void 0:S.fqid)!==h?f({type:"SET_FOCUSED_FIELD",fqid:h}):"nested"===t&&(null==T?void 0:T.fqid)!==h&&f({type:"SET_FOCUSED_NESTED_FIELD",optionFqid:n})},A=e=>{"nested"===t?f({type:"UPDATE_NESTED_TEXT_FIELD",optionFqid:n,value:e.target.value}):f({type:"UPDATE_TEXT_FIELD",fqid:h,value:e.target.value}),_?D(e.target.value):O(!1)},M=e=>{let r=e.target;"nested"===t?f({type:"UPDATE_NESTED_TEXT_FIELD",optionFqid:n,value:e.target.value}):f({type:"UPDATE_TEXT_FIELD",fqid:h,value:e.target.value}),N&&D(r.value)},L=E??(g?({email:"Please enter a valid email.",url:"Please enter a valid URL."})[g]:void 0),D=e=>{let t;if(w&&E)t=w;else switch(g){case"email":t=/^\S+@\S+\.\S+$/;break;case"url":O(!z()(e));return}t&&O(!t.test(e))},R=a.instructions?(0,r.jsx)(u.x,{className:I().instructions,size:16,children:(0,y.t)(a.instructions)}):null;return"short"===x?(0,r.jsxs)(r.Fragment,{children:[R,(0,r.jsx)(K.I,{"aria-label":b,autoComplete:"off",className:l,"data-testid":s,id:v,label:o?b:void 0,maxLength:256,onBlur:A,onChange:M,onFocus:P,placeholder:o?void 0:b||"Add your answer...",...d,error:N?L:void 0,ref:k,typeName:g,value:_})]}):(0,r.jsxs)(r.Fragment,{children:[R,(0,r.jsx)(V.g,{"aria-label":b,className:l,"data-testid":s,id:v,label:o?b:void 0,maxLength:4e3,onBlur:A,onChange:M,onFocus:P,placeholder:o?void 0:b||"Add your answer...",rows:3,...d,error:N?L:void 0,ref:C,value:_})]})}function q(e){let{index:t,listId:n,option:o,dataTestIdContext:c=[]}=e,[m,{height:p}]=(0,l.Z)(),f=(0,i.useRef)(null),{surveyState:h,dispatch:v}=(0,i.useContext)(j),{focusedField:g,focusedNestedField:b,selectListLookup:x}=h,{selectMultiple:y}=O(x[o.selectListId]),_=o.selected&&o.reveals,E=!!o.reveals,w=(null==g?void 0:g.fqid)===o.fqid,S="30px";(0,i.useEffect)(()=>{if(w&&null===b){var e;null===(e=f.current)||void 0===e||e.focus()}},[b,w,o.fqid]);let[T,I]=(0,s.useSpring)(()=>({config:{...s.config.default,clamp:!0},height:_?`${p}px`:S}),[_]);return(0,i.useEffect)(()=>{_?I.start({height:`${p}px`,onStart:()=>{v({type:"SET_FOCUSED_NESTED_FIELD",optionFqid:o.fqid})}}):E&&I.start({height:S,onStart:()=>{v({type:"SET_FOCUSED_FIELD",fqid:o.fqid})}})},[E,v,p,_,w,o.fqid,I]),(0,r.jsxs)("li",{"aria-checked":o.selected,"aria-labelledby":o.inputId,"aria-selected":o.selected,className:(0,a.W)(B().option,{[B().selected]:o.selected}),"data-testid":N("form-input",n,"checkbox",o.inputId,...c),id:M[t],onClick:e=>{w||v({type:"SET_FOCUSED_FIELD",fqid:o.fqid});let t=e.target;t.dataset.reveal&&t.focus(),"INPUT"!==t.tagName&&v({type:"TOGGLE_OPTION",fqid:o.fqid})},onFocus:()=>{w||v({type:"SET_FOCUSED_FIELD",fqid:o.fqid})},onKeyDown:void 0,ref:f,role:"option",tabIndex:0,value:o.inputId,children:[y?(0,r.jsx)("input",{"aria-readonly":!0,checked:o.selected,className:B().input,"data-list-id":n,id:o.inputId,readOnly:!0,type:"checkbox",value:o.label||""}):(0,r.jsx)("input",{checked:o.selected,className:B().input,"data-list-id":n,id:o.inputId,readOnly:!0,type:"radio",value:o.label||""}),(0,r.jsx)(s.animated.div,{style:void 0,children:(0,r.jsxs)(d.K,{gap:3,ref:m,children:[(0,r.jsxs)("div",{className:B().heading,children:[(0,r.jsx)($.Kbd,{"aria-hidden":!0,className:B().keyboard,children:M[t]}),(0,r.jsx)(u.x,{weight:500,children:(0,r.jsx)("label",{htmlFor:o.inputId,children:o.label})}),o.selected?(0,r.jsx)("span",{"aria-hidden":!0,className:B()["selected-icon"],children:(0,r.jsx)(R.I,{color:"var(--geist-success)",fill:!0})}):null]}),o.reveals?(0,r.jsx)("div",{className:(0,a.W)({[B().hidden]:!o.selected}),"data-testid":N("form-input-wrapper",n,"checkbox",o.inputId,"revealed-textbox",...c),children:(0,r.jsx)(Z,{"data-testid":N("form-input",n,"checkbox",o.inputId,"revealed-textbox",...c),field:o.reveals,optionFqid:o.fqid,type:"nested"})}):null]})})]},o.inputId)}function W(e){let{id:t,options:n,selectMultiple:a,dataTestIdContext:l=[]}=e,{surveyState:s,dispatch:o}=(0,i.useContext)(j),{focusedField:u,focusedNestedField:c,selectListLookup:m}=s,{label:p}=O(m[n[0].selectListId]),f=(0,i.useCallback)(e=>{var t,r,i,a;let l=n.findIndex(e=>e.fqid===(null==u?void 0:u.fqid)),s=null!==c;switch(e.key){case"ArrowUp":e.preventDefault(),-1===l?o({type:"SET_FOCUSED_FIELD",fqid:n[0].fqid}):o({type:"SET_FOCUSED_FIELD",fqid:(null===(t=n.at(l-1))||void 0===t?void 0:t.fqid)??null});break;case"ArrowDown":e.preventDefault(),-1===l?o({type:"SET_FOCUSED_FIELD",fqid:n[0].fqid}):o({type:"SET_FOCUSED_FIELD",fqid:(null===(r=n.at(l+1))||void 0===r?void 0:r.fqid)??(null===(i=n.at(0))||void 0===i?void 0:i.fqid)??null});break;case" ":if(-1===l||s)return;e.preventDefault(),o({type:"TOGGLE_OPTION",fqid:n[l].fqid});break;default:if(M.includes(e.key)){if(s)return;let t=null===(a=n[M.indexOf(e.key)])||void 0===a?void 0:a.fqid;t&&(o({type:"TOGGLE_OPTION",fqid:t}),o({type:"SET_FOCUSED_FIELD",fqid:t}))}}},[n,c,null==u?void 0:u.fqid,o]);return(0,r.jsx)(d.K,{"aria-label":p,"aria-multiselectable":a,as:"ul",className:D().list,"data-testid":N("form-input",t,...l),gap:2,onKeyDown:f,role:"listbox",children:n.map((e,n)=>(0,r.jsx)(q,{dataTestIdContext:l,index:n,listId:t,option:e},e.inputId))})}var H=n(678380);function G(e){let{id:t,options:n,dataTestIdContext:a=[]}=e,{surveyState:l,dispatch:s}=(0,i.useContext)(j),{selectListLookup:o}=l,u=function(e){if("dropdown"!==e.as)throw Error(`Expected a dropdown select list, but got a ${e.as} select list instead.`);return e}(o[n[0].selectListId]),{label:c}=u,m=(0,i.useMemo)(()=>n.find(e=>e.selected),[n]);return(0,r.jsxs)(d.K,{gap:4,role:"group",children:[(0,r.jsx)(H.Select,{"aria-label":c,"data-testid":N("form-input",t,...a),defaultValue:null==m?void 0:m.inputId,id:u.id,onChange:e=>{let t=c?e.target.selectedIndex-1:e.target.selectedIndex;s({type:"TOGGLE_OPTION",fqid:n[t].fqid}),s({type:"SET_FOCUSED_FIELD",fqid:n[t].fqid})},onFocus:()=>{s({type:"SET_FOCUSED_FIELD",fqid:(null==m?void 0:m.fqid)??n[0].fqid})},placeholder:c,value:null==m?void 0:m.inputId,children:n.map(e=>(0,r.jsx)("option",{"aria-selected":e.selected,selected:e.selected,value:e.inputId,children:e.label},e.inputId))}),(null==m?void 0:m.reveals)?(0,r.jsx)(Z,{"data-testid":N("form-input",u.id,"dropdown",m.inputId,"revealed-textbox",...a),field:m.reveals,optionFqid:m.fqid,type:"nested"}):null]})}var Y=n(990758),J=n(124040);function X(e){let{id:t,options:n,dataTestIdContext:a=[]}=e,{surveyState:l,dispatch:s}=(0,i.useContext)(j),{selectListLookup:o}=l,u=function(e){if("combobox"!==e.as)throw Error(`Expected a combobox select list, but got a ${e.as} select list instead.`);return e}(o[n[0].selectListId]),{label:c,placeholder:m}=u,p=(0,i.useMemo)(()=>n.find(e=>e.selected),[n]);return(0,r.jsxs)(d.K,{gap:2,children:[(0,r.jsxs)(Y.y,{"aria-label":c,"data-testid":N("form-input",t,...a),disableFocusStylingOnContainerDiv:!0,onChange:e=>{if(!e){p&&s({type:"TOGGLE_OPTION",fqid:p.fqid});return}let t=n.findIndex(t=>t.inputId===e),r=n[t];(null==p?void 0:p.fqid)!==r.fqid&&(p&&s({type:"TOGGLE_OPTION",fqid:p.fqid}),r.reveals&&s({type:"SET_FOCUSED_NESTED_FIELD",optionFqid:r.fqid}),s({type:"TOGGLE_OPTION",fqid:n[t].fqid}))},placeholder:m??c,value:null==p?void 0:p.inputId,children:[(0,r.jsx)(J.Z,{value:c}),(0,r.jsx)(Y.y.Input,{}),(0,r.jsx)(Y.y.List,{children:n.map(e=>(0,r.jsx)(Y.y.Option,{"aria-selected":e.selected,value:e.inputId,children:e.label},e.inputId))})]}),(null==p?void 0:p.reveals)?(0,r.jsx)(Z,{"data-testid":N("form-input",u.id,"combobox",p.inputId,"revealed-textbox",...a),field:p.reveals,optionFqid:p.fqid,type:"nested"}):null]})}function Q(e){let{showInputLabels:t,dataTestIdContext:n=[]}=e,{surveyState:a}=(0,i.useContext)(j),{fields:l,selectListLookup:s,stepLookup:o,currentStep:u}=a,{start:c,end:m}=o[u],p=l.slice(c,m),f=[];for(let e=0;e<p.length;e++){let t=p[e];if("text"===t.type&&f.push(t),"option"===t.type){let{start:n,end:r}=s[t.selectListId],i=l.slice(n,r);f.push(i),e=r-c-1}}return(0,r.jsx)(d.K,{gap:6,children:f.map(e=>{if(Array.isArray(e)){let t=s[e[0].selectListId].as,i="checkbox"===t?s[e[0].selectListId].selectMultiple:void 0;return"dropdown"===t?(0,r.jsx)("div",{children:(0,r.jsx)(G,{dataTestIdContext:n,id:e[0].selectListId,options:e})},e[0].selectListId):"combobox"===t?(0,r.jsx)("div",{children:(0,r.jsx)(X,{id:e[0].selectListId,options:e})},e[0].selectListId):(0,r.jsx)("div",{children:(0,r.jsx)(W,{dataTestIdContext:n,id:e[0].selectListId,options:e,selectMultiple:i})},e[0].selectListId)}return(0,r.jsx)("div",{children:(0,r.jsx)(Z,{"data-testid":N("form-input",e.inputId,...n),field:e,showLabel:t,type:"top-level"},e.inputId)},e.inputId)})})}var ee=n(876119),et=n.n(ee),en=n(784499),er=n(556163);let ei=(0,n(89821).ZP)((e,t)=>{var n;switch(t.type){case"RESET_SURVEY_INFO":return{...P(t.surveyInfo),focusedItem:null,focusedField:null,focusedNestedField:null,focusedButton:null,backButtonExists:!1,skipButtonExists:e.enableSkip,submitButtonExists:!0,enableSkip:e.enableSkip};case"TOGGLE_SKIP_ENABLED":e.enableSkip=t.enableSkip;break;case"SET_FOCUSED_BUTTON":e.focusedItem={type:"button",buttonId:t.buttonId};break;case"SET_FOCUSED_FIELD":e.focusedItem=t.fqid?{type:"field",fqid:t.fqid}:null;break;case"SET_FOCUSED_NESTED_FIELD":{let n=e.fields[e.fieldLookup[t.optionFqid]];"option"===n.type&&n.reveals&&(e.focusedItem={type:"nested-field",optionFqid:t.optionFqid,nestedFqid:n.reveals.fqid});break}case"INCREMENT_STEP":e.currentStep<e.lastStep&&(e.previousStep=e.currentStep,e.currentStep++,e.focusedItem={type:"survey"});break;case"DECREMENT_STEP":e.currentStep>0&&(e.previousStep=e.currentStep,e.currentStep--,e.focusedItem={type:"survey"});break;case"SET_STEP":t.to>=0&&t.to<=e.lastStep&&(e.previousStep=e.currentStep,e.currentStep=t.to,e.focusedItem={type:"survey"});break;case"UPDATE_TEXT_FIELD":{let n=e.fields[e.fieldLookup[t.fqid]];"text"===n.type&&(n.value=t.value);break}case"UPDATE_NESTED_TEXT_FIELD":{let n=e.fields[e.fieldLookup[t.optionFqid]];"option"===n.type&&n.reveals&&(n.reveals.value=t.value);break}case"TOGGLE_OPTION":{let n=e.fields[e.fieldLookup[t.fqid]];if("option"===n.type){let t=e.selectListLookup[n.selectListId],{start:r,end:i}=t;if("checkbox"===t.as&&t.selectMultiple)n.selected=!n.selected;else{let t=n.selected;for(let t of e.fields.slice(r,i))"option"===t.type&&t.selectListId===n.selectListId&&(t.selected=!1);n.selected=!t}}break}default:(0,k._)(t)}switch(e.isFirstStep=0===e.currentStep,e.isLastStep=e.currentStep===e.lastStep,e.skipButtonExists=e.isFirstStep&&e.enableSkip,e.backButtonExists=!e.isFirstStep,null===(n=e.focusedItem)||void 0===n?void 0:n.type){case"field":e.focusedField=e.fields[e.fieldLookup[e.focusedItem.fqid]],e.focusedNestedField=null,e.focusedButton=null;break;case"nested-field":{let t=e.fields[e.fieldLookup[e.focusedItem.optionFqid]];"option"===t.type&&t.reveals&&(e.focusedField=t,e.focusedNestedField=t.reveals,e.focusedButton=null);break}case"button":e.focusedField=null,e.focusedNestedField=null,e.focusedButton=e.focusedItem.buttonId;break;case"survey":case void 0:e.focusedField=null,e.focusedNestedField=null,e.focusedButton=null;break;default:(0,k._)(e.focusedItem)}});function ea(e){let{children:t,...n}=e,{dataTestIdContext:a=[],showThankYouToast:l=!0,onDismiss:s=et(),onSubmit:o,overrideTeamId:d,surveyInfo:u,submitOnSkip:c}=n,{surveySteps:m}=u,f=m.length>1,[v,g]=(0,i.useReducer)(ei,A(n)),{surveyName:b,surveySlug:x,isLastStep:y,fields:_}=v,[E,w]=(0,i.useState)("idle"),[S,T]=(0,i.useState)([]),{team:I,teams:C,user:N}=(0,en.Z)(),O=(0,i.useMemo)(()=>(null==C?void 0:C.find(e=>e.id===d))??I,[d,I,C]),P=null==O?void 0:O.id,M=null==N?void 0:N.uid,L=P??M,D=(0,p.useToasts)(),R=(0,h.ej)(x),$=!!M&&(null==R?void 0:R.includes(M)),F=(0,i.useCallback)(()=>{M&&(R?$||(0,h.d8)(x,`${R},${M}`):(0,h.d8)(x,M))},[$,R,x,M]),B=(0,i.useCallback)(()=>{er.analytics.track(er.AnalyticsEvent.SURVEY_EXITED,{surveyName:b}),s()},[s,b]),U=(0,i.useCallback)(async()=>{if(!(y||c))return;w("submitting"),er.analytics.track(er.AnalyticsEvent.SURVEY_SUBMITTED,{surveyName:b});let e=_.some(e=>{switch(e.type){case"option":if(e.selected)return!0;return!1;case"text":if(e.value)return!0;return!1;default:return(0,k._)(e)}});e||er.analytics.track(er.AnalyticsEvent.SURVEY_SUBMITTED_EMPTY,{surveyName:b}),F();try{let t=function(e){let{fields:t,stepLookup:n,selectListLookup:r}=e,i=Object.values(n).map(e=>({title:e.title,description:e.description,fields:[]}));for(let e=0;e<t.length;e++){let n=t[e];switch(n.type){case"text":i[n.stepIndex].fields.push({...n,id:n.inputId});break;case"option":{let a=r[n.selectListId],{start:l,end:s}=a,o=t.slice(l,s).map(e=>{if("text"===e.type)throw Error("Somehow, a text field was added to an option list. This is likely a developer error.");let t={id:e.inputId,label:e.label,selected:e.selected};return e.reveals&&(t.reveals={id:e.reveals.inputId,...e.reveals}),t}),d={type:"select",id:n.selectListId,label:a.label,options:o};"checkbox"===a.as&&(d.selectMultiple=a.selectMultiple),i[n.stepIndex].fields.push(d),e=s-1}break;default:(0,k._)(n)}}return i}(v);await o({surveyName:b,surveySlug:x,user:N??void 0,team:O??void 0,surveySteps:t,hasResponses:e,get fields(){return t.flatMap(e=>e.fields)}})}finally{w("idle"),l&&D.success({text:"Thank you for your feedback."})}},[y,b,_,F,v,o,c,x,N,O,l,D]);return(0,r.jsx)(j.Provider,{value:{accountId:L,cancel:B,dataTestIdContext:a,dispatch:g,hasMultipleSteps:f,invalidFields:S,originalSteps:m,setInvalidFields:T,setStatus:w,status:E,submit:U,surveyState:v,team:O,updateCookie:F,user:N},children:t})}var el=n(881855),es=n.n(el);function eo(e){let{onAction:t,title:n="Help Shape the Future of\xa0Vercel",ctaText:i="Get Started",description:a="Please help us better understand how we can improve your Vercel experience with this 2 minute survey."}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.u.Body,{children:(0,r.jsxs)(d.K,{gap:6,children:[(0,r.jsx)(m.u.Title,{children:n}),(0,r.jsx)(u.x,{align:"left",className:es().text,size:16,children:a})]})}),(0,r.jsx)(m.u.Actions,{children:(0,r.jsx)(m.u.Action,{fullWidth:!0,onClick:t,children:i})})]})}function ed(e){let{isModal:t=!1,externalProps:n}=e,{dispatch:o,submit:c,surveyState:p,team:h,user:g,invalidFields:b}=(0,i.useContext)(j),{className:x,dataTestIdContext:_=[],enableSkip:E=!1,noPadding:w=!1,onSkip:S,onSubmitted:T,showInputLabels:k=!1,stackButtons:C=!1,submitButtonText:O="Submit"}=n,{currentStep:P,focusedField:A,focusedItem:M,isLastStep:L,previousStep:D,stepLookup:R,surveyName:$}=p,{surveySteps:F}=function(e,t){if(t&&1!==e.surveySteps.length)throw Error(`Can only stack buttons for single-step surveys. Your survey has ${e.surveySteps.length} steps.'`);return e}(n.surveyInfo,C),{title:B,description:U}=R[P];(0,i.useEffect)(()=>{o({type:"TOGGLE_SKIP_ENABLED",enableSkip:E})},[o,E]),(0,i.useEffect)(()=>{o({type:"RESET_SURVEY_INFO",surveyInfo:n.surveyInfo})},[o,n.surveyInfo]);let z=null==g?void 0:g.uid,K=null==h?void 0:h.id;(0,i.useEffect)(()=>{(z||K)&&(f.co.track(f.s6.SURVEY_STARTED,{surveyName:$,teamId:K,userId:z}),o({type:"SET_STEP",to:0}))},[o,$,K,z]);let V=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{V.current&&!V.current.contains(e.target)&&o({type:"SET_FOCUSED_FIELD",fqid:null})};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]),(0,i.useEffect)(()=>{var e,t;null===M?null===(e=document.activeElement)||void 0===e||e.blur():"survey"===M.type&&(null===(t=V.current)||void 0===t||t.focus())},[M]);let[Z,q]=(0,i.useState)();(0,i.useEffect)(()=>{let e=new Set;F.forEach(t=>{t.fields.forEach(t=>{if(e.has(t.id)&&q(`Duplicate top-level field id: ${t.id}`),e.add(t.id),"options"in t){let e=new Set;t.options.forEach(t=>{e.has(t.id)&&q(`Duplicate option id: ${t.id}`),e.add(t.id)})}})})},[F]);let W=(0,i.useCallback)(function(e){var t;if(null===(t=V.current)||void 0===t?void 0:t.contains(e.target))switch(e.key){case"Enter":if(!(0,v.x)(e)||b.length>0)return;L?c():(e.preventDefault(),o({type:"INCREMENT_STEP"}));break;case"ArrowRight":(null==A?void 0:A.type)!=="text"&&o({type:"INCREMENT_STEP"});break;case"ArrowLeft":(null==A?void 0:A.type)!=="text"&&o({type:"DECREMENT_STEP"})}},[o,null==A?void 0:A.type,b.length,L,c]);(0,i.useEffect)(()=>(window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)),[W]),(0,i.useEffect)(()=>{null!==D&&f.co.track(f.s6.SURVEY_MODAL_STEP_CHANGED,{startIndex:D,endIndex:P,surveyName:$})},[P,$]);let[H,{height:G}]=(0,l.Z)(),[Y,J]=(0,s.useSpring)(()=>({config:{...s.config.default,clamp:!0},height:void 0}),[P]);return(0,i.useEffect)(()=>{G&&J.start({height:`${G}px`})},[P,J,G]),(0,r.jsxs)(d.K,{"aria-label":$,className:(0,a.W)(I().survey,x,{[I()["no-padding"]]:w,[I().modal]:t}),"data-testid":N("wrapper",..._),gap:8,ref:V,tabIndex:-1,children:[(0,r.jsx)(s.animated.div,{style:t?void 0:Y,children:(0,r.jsxs)("form",{"data-testid":N("form",..._),onSubmit:e=>{e.preventDefault()},title:$,children:[(0,r.jsx)("h1",{className:"geist-sr-only",children:$}),(0,r.jsxs)("fieldset",{children:[(0,r.jsxs)("legend",{className:"geist-sr-only",children:["Step ",P+1]}),(0,r.jsxs)(d.K,{gap:6,ref:H,children:[B||U?(0,r.jsx)(d.K,{gap:2,children:t?(0,r.jsxs)(r.Fragment,{children:[B?(0,r.jsx)(m.u.Title,{children:B}):void 0,U?(0,r.jsx)(m.u.Subtitle,{children:"string"==typeof U?(0,y.t)(U):U}):null]}):(0,r.jsxs)(r.Fragment,{children:[B?(0,r.jsx)(u.x,{as:"h1",className:I().title,children:B}):void 0,U?(0,r.jsx)(u.x,{children:"string"==typeof U?(0,y.t)(U):U}):null]})}):null,(0,r.jsx)(Q,{dataTestIdContext:_,showInputLabels:k})]})]})]})}),null,t?null:(0,r.jsx)(eu,{onSkip:S,onSubmitted:T,stack:C,submitButtonText:O})]})}function eu(e){let{onSkip:t,onSubmitted:n,stack:l,submitButtonText:s}=e,{cancel:m,dataTestIdContext:p,dispatch:f,invalidFields:h,originalSteps:v,status:g,submit:b,surveyState:y,hasMultipleSteps:_}=(0,i.useContext)(j),{backButtonExists:E,currentStep:w,fields:S,focusedButton:T,focusedField:k,isLastStep:C,selectListLookup:O,skipButtonExists:P,stepLookup:A}=y,M=(0,i.useRef)(null),L=(0,i.useRef)(null),D=(0,i.useRef)(null);(0,i.useEffect)(()=>{var e,t,n;switch(T){case"back":null===(e=M.current)||void 0===e||e.focus();break;case"skip":null===(t=L.current)||void 0===t||t.focus();break;case"submit":null===(n=D.current)||void 0===n||n.focus()}},[T]);let R=(null==k?void 0:k.type)==="option"&&"checkbox"===O[k.selectListId].as,$=_&&!R,F=(0,i.useMemo)(()=>v.map((e,t)=>({key:S[A[t].start].fqid})),[S,v,A]);return(0,r.jsxs)(d.K,{align:"center","aria-label":"Survey navigation controls",className:I().footer,direction:"row",gap:4,justify:E?"space-between":"flex-end",role:"group",children:[E?(0,r.jsx)(c.Button,{"aria-label":"Back to previous step",className:(0,a.W)(I()["back-button"]),"data-testid":N("back-button",...p),onClick:()=>f({type:"DECREMENT_STEP"}),onFocus:()=>{"back"!==T&&f({type:"SET_FOCUSED_BUTTON",buttonId:"back"})},ref:M,svgOnly:!0,type:"tertiary",typeName:"button",children:(0,r.jsx)(o.X,{"aria-label":"left-facing arrow",size:24})}):null,(0,r.jsxs)(d.K,{align:"center",className:(0,a.W)(I().info,{[I()["align-left"]]:!_||P&&R}),justify:"center",children:[(0,r.jsx)(u.x,{className:(0,a.W)(I().tip,{[I().hidden]:!R}),color:"gray-900",weight:500,children:"Press a key to select or ↑↓ to navigate"}),(0,r.jsx)(x,{className:(0,a.W)(I()["step-indicator"],{[I().hidden]:!$,[I().single]:!_}),currentStep:w,steps:F})]}),(0,r.jsxs)(d.K,{className:(0,a.W)(I().buttons,{[I().stacked]:l&&!_}),gap:4,children:[P?(0,r.jsx)(c.Button,{className:(0,a.W)(I()["skip-button"]),"data-testid":N("skip-button",...p),onClick:()=>{null==t||t(),m()},onFocus:()=>{"skip"!==T&&f({type:"SET_FOCUSED_BUTTON",buttonId:"skip"})},ref:L,type:"secondary",children:"Skip"}):null,(0,r.jsx)(c.Button,{"aria-label":C?"Submit survey":"Continue to next step",className:(0,a.W)(I()["submit-button"]),"data-testid":N(C?"submit-button":"next-button",...p),disabled:h.length>0,loading:C?"submitting"===g:void 0,onClick:()=>{C?b().then(n):f({type:"INCREMENT_STEP"})},onFocus:()=>{"submit"!==T&&f({type:"SET_FOCUSED_BUTTON",buttonId:"submit"})},ref:D,children:C?s:"Next"})]})]})}function ec(e){let{externalProps:t}=e,{active:n,dataTestIdContext:a=[],enableSkip:l=!1,hideIfAlreadySeen:s,onSkip:o,onSubmitted:d,prompt:u,promptWithToast:c,setActive:f,stackButtons:v=!1,submitButtonText:g="Submit",surveyInfo:b,submitOnSkip:x}=t,{surveySlug:y,surveyName:_}=b,{dispatch:E,user:w,updateCookie:T,cancel:I,submit:k}=(0,i.useContext)(j),[C,O]=(0,i.useState)(u),P=(0,p.useToasts)(),A=(0,h.ej)(y),M=null!=w&&!!w.uid&&(null==A?void 0:A.includes(w.uid)),L=(0,i.useCallback)(()=>{f(!0)},[f]);(0,i.useEffect)(()=>{c&&P.loaded&&!M&&P.message({preserve:!0,text:(0,r.jsx)(S,{id:y,onAction:L,surveyName:_,updateCookie:T}),key:y})},[A,c,_,y,P,M,L,T]);let D=()=>{void 0===o?f(!1):o(),x&&k()},R=()=>{void 0===d?(f(!1),O(u)):d()},$=(0,i.useCallback)(e=>{var t;let n=null==e?void 0:e.target;(!n||(null===(t=n.offsetParent)||void 0===t?void 0:t.id)!=="cconsent-bar")&&l&&(x&&k(),f(!1),I())},[I,l,f,x,k]);return(0,r.jsxs)(m.u.Modal,{active:(!s||!M)&&n,"data-testid":N("modal",...a),drawerHeight:"auto",enableSkip:l,onAnimationDone:()=>{E({type:"SET_STEP",to:0})},onClickOutside:$,width:520,children:[n&&C?(0,r.jsx)(eo,{onAction:()=>O(!1)}):null,n&&!C?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.u.Body,{padding:!1,children:(0,r.jsx)(ed,{externalProps:{onSkip:D,onSubmitted:R,...t},isModal:!0})}),(0,r.jsx)(m.u.Actions,{children:(0,r.jsx)(eu,{onSkip:D,onSubmitted:R,stack:v,submitButtonText:g})})]}):null]})}function em(e){return(0,r.jsx)(ea,{...e,children:(0,r.jsx)(ec,{externalProps:e})})}},887315:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(33100),i=n(499979),a=n(727833);async function l(e,t,n){let l={address:t};return void 0!==n&&(l.taxId=n),(0,r.Io)(`${i.pJ}${(0,a.c)({teamId:e})}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),throwOnHTTPError:!0})}},525302:function(e,t,n){"use strict";function r(e){return e.startsWith("*.")}n.d(t,{Z:function(){return r}})},264552:function(e,t,n){"use strict";n.d(t,{lv:function(){return w},P0:function(){return S}});var r,i,a=n(23870),l=n(454626),s=n(450126),o=n(511196),d=n(657407);async function u(e){let t;if(!e)return{};try{t=(await p(e)).payload}catch(e){if(s.qA)throw e;return{}}let n={};for(let e of o.Lt){let r=t[e],i=o.rB[e];if(void 0!==r){if("passthrough"===i)n[e]=r??void 0;else{let t=i(r);n[t.property??e]=t.value??void 0}}}return n}let c=n(732608).env.JWT_SECRET??"",m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"HS256";return t.startsWith("RS")?{kty:"RSA",n:btoa(e),e:"AQAB",alg:t}:{kty:"oct",k:btoa(e),alg:t}},p=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HS256",r=m(t,n),i=await (0,d.nO)(r);return(0,d._f)(e,i)};var f=n(399935),h=n(219511);async function v(e,t){if(!e)return{marketFit:"unknown"};let n=await g(e,t);if(!n)return{marketFit:"unknown"};try{var r;return{marketFit:(r=(0,f.J_)(n.a),!function(e){try{var t;return(null===(t=e.company)||void 0===t?void 0:t.employeeCount.greaterThan(499))??!1}catch(e){if(s.qA)throw e;return!1}}(r)?!function(e){try{var t;return(null===(t=e.scores)||void 0===t?void 0:t.account.fitGradeLetter.includesAnyOf("A","B","C"))??!1}catch(e){if(s.qA)throw e;return!1}}(r)?"unknown":"product-led":"sales-led")}}catch(e){if(s.qA)throw e;return{marketFit:"unknown"}}}async function g(e,t){let n=s.qA?"vercel-dev":"vercel";try{let r=await fetch(`https://api.getkoala.com/web/projects/${n}/profiles`,{method:"POST",headers:{"content-type":"application/json"},body:`{"id": "${e}", "ip": "${t??""}"}`});if(!r.ok)return null;let i=await r.json();if((0,h.K)(i)&&"profile_id"in i&&"a"in i)return i;return null}catch(e){if(s.qA)throw e;return null}}async function b(e){let{userId:t,ip:n}=e,r=(0,l.ej)("userCache"),i=(0,l.ej)("ko_id"),[a,s]=await Promise.all([u(r),v(i,n)]);return{userID:t,custom:{...a,...s}}}(r=i||(i={})).Unknown="unknown",r.SalesLed="sales-led",r.ProductLed="product-led";var x=n(104582);async function y(e,t){let n="client-KHTMRdBrKTD18tqOg6U7EHBJUJRMBFvs5fh2wEwLMAk",r=(0,x.sq)(!1);if(!r)throw Error(`Failed to trigger exposure for ${e} because no statsig userId could be found.`);if(!n)throw Error(`Failed to trigger exposure for ${e} because the statsig client key is missing.`);let i=await b({userId:r}),a=await fetch("https://events.statsigapi.net/v1/log_custom_exposure",{method:"POST",headers:{"statsig-api-key":n,"Content-Type":"application/json"},body:JSON.stringify({exposures:[{user:i,experimentName:e,group:t}]})});if(!a.ok)throw Error(`Failed to trigger exposure for ${e}. Status: ${a.status} ${a.statusText}`)}var j=n(531058),_=n(659914),E=n(556163);function w(e){let{isReady:t,triggerExperimentViewed:n,experiments:r,refetch:i,isReadyPromise:d,ruleForExperiment:u}=function(){let[e,t]=(0,a.useState)(s.ro),[n,r]=(0,a.useState)((0,s.mZ)()),[i,d]=(0,a.useState)((0,s.m$)()),[u,c]=(0,a.useState)(!1),m=(0,a.useRef)(void 0),p=(0,a.useRef)(new Promise(e=>{e()})),f=(0,a.useCallback)(e=>n[e]??"allocation",[n]),h=(0,a.useCallback)(e=>i[e]??"Control",[i]),v=(0,a.useCallback)(e=>{let t=f(e);return o.K4.includes(t)},[f]),g=(0,a.useCallback)(t=>{if(v(t)){s.qA&&console.log("EXPERIMENTS: Skipping analytics call since you are not currently allocated.");return}s.qA&&console.log("EXPERIMENTS: Reporting EXPERIMENT_VIEWED analytics."),E.analytics.track(E.AnalyticsEvent.EXPERIMENT_VIEWED,{experiment_name:t,variation_name:JSON.stringify(function(e){let t={};for(let[n,r]of Object.entries(e))for(let[e,i]of Object.entries(r)){let r="object"==typeof i;t[`exp_${n}_${e}`]=r?JSON.stringify(i):String(i)}return t}({[t]:e[t]}))}),y(t,h(t))},[e,h,v]),b=(0,a.useCallback)(()=>{c(!1),p.current=new Promise(e=>{m.current=e}),"development"===j.$&&console.warn("NOTE! You're using the client-side experiment hook. This hook could cause layout shift. It is HIGHLY recommended that you use the full experiment engine. If you understand the implications, you can safely ignore this warning.");try{let e=(0,l.ej)(s.NY),n=(0,l.ej)(s.xh),i=e??n,a=(0,l.ej)(s.ru),o=(0,l.ej)(s.ky);if("string"!=typeof i)throw Error("Experiment engine experiments is not a string.");if("string"!=typeof a)throw Error("Experiment engine rules cookie is not a string.");if("string"!=typeof o)throw Error("Experiment engine groups cookie is not a string.");let u=(0,_.go)(i),c=(0,_.ZW)(a),m=(0,_.a)(o);d(m),r(c),t(u)}catch(e){"production"!==j.$&&console.error("Failed to decode client side experiments:",e)}finally{var e;c(!0),null===(e=m.current)||void 0===e||e.call(m)}},[]);return(0,a.useEffect)(()=>{b()},[b]),{experiments:e,isReady:u,rules:n,ruleForExperiment:f,groups:i,groupForExperiment:h,triggerExperimentViewed:g,refetch:b,isReadyPromise:()=>p.current}}(),c=r[e],m=(0,a.useCallback)(()=>{n(e)},[e,n]),p=(0,a.useMemo)(()=>u(e),[e,u]);return{isReadyPromise:d,isReady:t,parameters:c??s.ro[e],refetch:i,triggerExperimentViewed:m,rule:p}}function S(e,t){let{isReady:n,triggerExperimentViewed:r,refetch:i,parameters:a,isReadyPromise:l,rule:s}=w(e);return{isReadyPromise:l,isReady:n,triggerExperimentViewed:r,parameter:a[t],refetch:i,rule:s}}},735978:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(33100);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.headers=t.headers||{},t.headers.Accept=t.headers.Accept||"application/json",function(e){if("object"==typeof e&&null!==e){let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return!1}(t.body)&&(t.body=JSON.stringify(t.body)),t.teamId){let n=encodeURIComponent;e=e.includes("?")?`${e}&teamId=${n(t.teamId)}`:`${e}?teamId=${n(t.teamId)}`}return(0,r.ZP)(e,{...t,wrapErrorsLegacy:!0,throwOnHTTPError:!0})}},585839:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(822573),i=n(905268);let a=(0,r.U)(i.$,{number:"BigNumber",precision:20}),l={long:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:3}),short:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0})};function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Number(a.multiply(a.bignumber(e),r)),s=100;return"string"==typeof e&&(s=1),"auto"===n&&(n=i%s==0?"short":"long"),(0,l[n])(t).format(a.divide(i,s))}},494090:function(e,t,n){"use strict";n.d(t,{DF:function(){return a},L0:function(){return s},LY:function(){return l}});var r=n(180498);let i=new Intl.RelativeTimeFormat("en-US",{numeric:"auto"});function a(e){return i.formatToParts(Math.round(e/(0,r.Z)("1d")),"day")}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";if("number"!=typeof e||Number.isNaN(e))return"–";let n=new Intl.NumberFormat("en-US",{maximumFractionDigits:"short"===t?0:2}).format(e/1e3);return`${n} ms`},s=(e,t)=>{if("number"!=typeof e||Number.isNaN(e))return"–";let n=new Intl.NumberFormat("en-US",{maximumFractionDigits:"short"===t?0:2}).format(e/3600);return`${n} Hrs`}},291632:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},c:function(){return i}});var r=n(525302);function i(e){return[...e||[]].filter(a).sort((e,t)=>l(e.name,t.name))}function a(e){return!e.redirect}function l(e,t){if(e.endsWith(".now.sh")&&!t.endsWith(".now.sh"))return 1;if(!e.endsWith(".now.sh")&&t.endsWith(".now.sh"))return -1;if((0,r.Z)(e)&&!(0,r.Z)(t))return 1;if(!(0,r.Z)(e)&&(0,r.Z)(t))return -1;if(e.endsWith(".vercel.app")&&!t.endsWith(".vercel.app"))return 1;if(!e.endsWith(".vercel.app")&&t.endsWith(".vercel.app"))return -1;let n=e.length-t.length;return 0!==n?n:e.localeCompare(t)}},133804:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(23870),i=n(310109),a=n(981164),l=n(784499);let s=1/0;function o(){var e;let{enabled:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0},{data:n,isLoading:o,mutate:d}=(0,i.Z)(void 0,{isPaused:()=>!t}),u=(null==n?void 0:n.limit)??s,c=(null==n?void 0:n.count)??0,{isTeam:m=!1,account:p}=(0,l.Z)(),f=(0,a.o)(),h=(0,r.useMemo)(()=>{var e;if(!m)return{current:"Hobby",next:"Pro"};switch(null==p?void 0:null===(e=p.billing)||void 0===e?void 0:e.plan){case"hobby":return{current:"Hobby",next:"Pro"};case"pro":if(f)return{current:"Pro Trial",next:"Pro"};return{current:"Pro",next:"Enterprise"};default:return{current:"Enterprise",next:"Enterprise"}}},[null==p?void 0:null===(e=p.billing)||void 0===e?void 0:e.plan,m,f]);return{isLoading:o,count:c,limit:u,remaining:u-c,isReached:!!(!o&&(null==n?void 0:n.reachedLimit)),plan:h,mutate:d}}},8533:function(e,t,n){"use strict";n.d(t,{KR:function(){return u},VW:function(){return p},d:function(){return c},ic:function(){return d},mk:function(){return f},zR:function(){return m}});var r=n(866666),i=n(224066),a=n(779854),l=n(978321),s=n(315633),o=n(513601);let d=()=>{let{project:e}=(0,r.useParams)()||{};return e||""},u=e=>{let{isReady:t,team:n}=(0,i.t7)(),{user:r}=(0,a.a)();if(!e)return null;if(t){if(n)return`/${n.slug}/${e.name}`;if(r)return`/${r.username}/${e.name}`}return null},c=(e,t)=>{var n,r;return(0,l.ZP)(null==e?void 0:null===(r=e.targets)||void 0===r?void 0:null===(n=r.production)||void 0===n?void 0:n.id,t)},m=e=>{let{data:t}=(0,o.B8)(e,{limit:1});return t?0===t.length:void 0},p=e=>{var t;return null==e?void 0:null===(t=e.targets)||void 0===t?void 0:t.production},f=e=>{let{data:t}=(0,s.G)();return e&&(null==t?void 0:t.find(t=>t.slug===(e.framework||null)))||null}},39239:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(727833),i=n(699248),a=n(33100),l=n(499979);let s=async e=>{let{data:t}=e,n=function(e){var t,n,r;let a=new Map;return e.fields.forEach(e=>{switch(e.type){case"text":if(!e.value)return;a.set(e.id,e.value);break;case"select":{let t=[];e.options.forEach(e=>{if(e.selected){if(e.reveals){t.push(`${e.id}: ${e.reveals.value??""}`);return}t.push(e.id)}}),a.set(e.id,t.join("; "));break}default:(0,i._)(e)}}),{name:e.surveyName,person:{email:null===(t=e.user)||void 0===t?void 0:t.email,id:null===(n=e.user)||void 0===n?void 0:n.uid},...(null===(r=e.team)||void 0===r?void 0:r.id)&&{team:{id:e.team.id}},form:Object.fromEntries(a)}}(t);try{var s;return await (0,a.Io)(`${l.QA}${(0,r.c)({teamId:null===(s=n.team)||void 0===s?void 0:s.id})}`,{method:"POST",body:JSON.stringify(n)})}catch(e){console.error(e)}}},571349:function(e,t,n){"use strict";n.d(t,{$:function(){return i},p:function(){return r}});let r={general:{name:"Team Name",slug:"Team URL",avatar:"Team Avatar",previewDeploymentSuffix:"Preview Deployment Suffix",id:"Team ID",comments:"Comments",transfer:"Transfer",leaveTeam:"Leave Team",deleteTeam:"Delete Team"},billing:{plan:"Plan",paymentMethod:"Payment Method",concurrentBuilds:"Concurrent Builds",enhancedBuildMachines:"Enhanced Build Machines",addOns:"Add-Ons",spendManagement:"Spend Management",remoteCaching:"Remote Caching",analyticsSampling:"Speed Insights Sampling",invoiceEmailRecipient:"Invoice Email Recipient",companyName:"Company Name",billingAddress:"Billing Address",invoiceLanguage:"Invoice Language",invoicePurchaseOrder:"Invoice Purchase Order",taxId:"Tax ID",monitoring:"Monitoring"},security:{teamEmailDomain:"Team Email Domain",auditLog:"Audit Log",environmentVariablePolicy:"Environment Variable Policies",samlSingleSignOn:"SAML Single Sign-On",hideIpAddresses:"IP Address Visibility",ipBlocking:"IP Blocking"}},i={general:"General",billing:"Billing",invoices:"Invoices",members:"Members",security:"Security & Privacy",deploymentProtection:"Deployment Protection",notifications:"My Notifications",environmentVariables:"Environment Variables",webhooks:"Webhooks",logDrains:"Log Drains",secureCompute:"Secure Compute",accessGroups:"Access Groups"}},477130:function(e,t,n){"use strict";function r(e){let t=e.lastIndexOf(" ");return -1===t?e:`${e.substring(0,t)}\u00A0${e.substring(t+1)}`}n.d(t,{t:function(){return r}})},31395:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});let r=[["AL","Alabama"],["AK","Alaska"],["AS","American Samoa"],["AZ","Arizona"],["AR","Arkansas"],["CA","California"],["CO","Colorado"],["CT","Connecticut"],["DE","Delaware"],["DC","District Of Columbia"],["FM","Federated States Of Micronesia"],["FL","Florida"],["GA","Georgia"],["GU","Guam"],["HI","Hawaii"],["ID","Idaho"],["IL","Illinois"],["IN","Indiana"],["IA","Iowa"],["KS","Kansas"],["KY","Kentucky"],["LA","Louisiana"],["ME","Maine"],["MH","Marshall Islands"],["MD","Maryland"],["MA","Massachusetts"],["MI","Michigan"],["MN","Minnesota"],["MS","Mississippi"],["MO","Missouri"],["MT","Montana"],["NE","Nebraska"],["NV","Nevada"],["NH","New Hampshire"],["NJ","New Jersey"],["NM","New Mexico"],["NY","New York"],["NC","North Carolina"],["ND","North Dakota"],["MP","Northern Mariana Islands"],["OH","Ohio"],["OK","Oklahoma"],["OR","Oregon"],["PW","Palau"],["PA","Pennsylvania"],["PR","Puerto Rico"],["RI","Rhode Island"],["SC","South Carolina"],["SD","South Dakota"],["TN","Tennessee"],["TX","Texas"],["UT","Utah"],["VT","Vermont"],["VI","Virgin Islands"],["VA","Virginia"],["WA","Washington"],["WV","West Virginia"],["WI","Wisconsin"],["WY","Wyoming"]]},456315:function(e,t,n){"use strict";n.d(t,{A:function(){return u},s:function(){return d}});var r=n(23870),i=n(854093),a=n(499979),l=n(33100),s=n(385789),o=n(784499);function d(e){return!!("projectId"in e&&e.projectId)}function u(){let{user:e,isLoading:t,mutate:n}=(0,o.Z)(),[u,c]=(0,r.useState)([]),m=(0,i.useToasts)();return(0,r.useEffect)(()=>{!t&&e&&c(e.favoriteProjectsAndSpaces||[])},[t,e]),{addFavorite:e=>{(0,s._)(async()=>{let t=new Set,r=[...u,e].reverse().filter(e=>{if("projectId"in e){if(t.has(e.projectId))return!1;t.add(e.projectId)}return!0}).reverse();try{c(r),await (0,l.Io)(a.zh,{method:"PATCH",body:{favoriteProjectsAndSpaces:r},throwOnHTTPError:!0}),await n()}catch{m.error(`Adding the ${d(e)?"project":"space"} to your favorites failed.`),c(u)}})()},favorites:u,removeFavorite:e=>{(0,s._)(async()=>{let t=u.filter(t=>t!==e);try{c(t),await (0,l.Io)(a.zh,{method:"PATCH",body:{favoriteProjectsAndSpaces:t},throwOnHTTPError:!0}),await n()}catch{m.error(`Removing the ${d(e)?"project":"space"} from your favorites failed.`),c(u)}})()}}}},58022:function(e,t,n){"use strict";n.d(t,{n:function(){return a}});var r=n(23870),i=n(94743);function a(e){let[t,n]=(0,r.useState)(e);return(0,r.useEffect)(()=>{n((0,i.j)())},[]),{isLoggedIn:t??!1,isLoggedOut:!1===t,isLoading:void 0===t}}},981164:function(e,t,n){"use strict";n.d(t,{o:function(){return i}});var r=n(224066);function i(){var e;let{team:t}=(0,r.t7)();return(null==t?void 0:null===(e=t.billing)||void 0===e?void 0:e.plan)==="pro"&&"trialing"===t.billing.status&&!!t.billing.trial&&t.billing.trial.end-Date.now()>0}},909062:function(e,t,n){"use strict";n.d(t,{K:function(){return s},m:function(){return i}});var r,i,a=n(224066),l=n(901983);function s(e){var t,n;let{team:r,isReady:i}=(0,a.t7)(),{isReady:s,value:o}=(0,l.Se)();return"MEMBER"===e||"OWNER"===e?{isReady:!0,isRoleEnabled:!0}:"BILLING"===e&&(null==r?void 0:null===(t=r.billing)||void 0===t?void 0:t.plan)==="pro"?{isReady:s&&i,isRoleEnabled:!!o}:{isReady:i,isRoleEnabled:(null==r?void 0:null===(n=r.billing)||void 0===n?void 0:n.plan)==="enterprise"}}(r=i||(i={})).MEMBER="MEMBER",r.OWNER="OWNER",r.VIEWER="VIEWER",r.DEVELOPER="DEVELOPER",r.ADMIN="ADMIN",r.BILLING="BILLING",r.CONTRIBUTOR="CONTRIBUTOR"},260057:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(23870);function i(e){let t=(0,r.useRef)();return(0,r.useEffect)(()=>{t.current=e}),t.current}},83632:function(e,t,n){"use strict";n.d(t,{P:function(){return a},q:function(){return l}});var r=n(962954),i=n.n(r);function a(e){if(e){if("card"in e){var t;return null===(t=e.card)||void 0===t?void 0:t.last4}if("last4"in e)return e.last4}}function l(e){if(e)switch(e){case"amex":return"American Express";case"diners":return"Diners Club";case"jcb":return"JCB";case"mastercard":return"MasterCard";case"unionpay":return"UnionPay";default:return i()(e)}}},962249:function(e,t,n){"use strict";var r=n(23870);t.Z=e=>(t,n,i)=>{let a=(0,r.useRef)(),l=e(t,n,i);(0,r.useEffect)(()=>{void 0!==l.data&&(a.current=l.data)},[l.data]);let s=(0,r.useCallback)(()=>{a.current=void 0},[]);return{...l,data:void 0===l.data?a.current:l.data,isLagging:void 0===l.data&&void 0!==a.current,resetLaggy:s}}},978321:function(e,t,n){"use strict";n.d(t,{Gr:function(){return p},L7:function(){return d},ZP:function(){return c}});var r=n(181674),i=n(33100),a=n(499979),l=n(727833),s=n(58022),o=n(224066);let d=e=>{let t=(null==e?void 0:e.readyState)==="CANCELED",n=(null==e?void 0:e.readyState)==="READY",r=(null==e?void 0:e.readyState)==="ERROR";return t||n||r};async function u(e){return(0,i.Io)(e,{throwOnHTTPError:!0}).then(m)}function c(e,t,n){let{isLoggedOut:i}=(0,s.n)(),{isReady:a,team:d}=(0,o.t7)(),c=p(e);return c&&(c.includes("?url")?(null==n?void 0:n.automaticAliases)&&(c+="&withAutomaticAliases=1"):c+=(0,l.c)({teamId:null==d?void 0:d.id,withAutomaticAliases:(null==n?void 0:n.automaticAliases)?1:null,...(null==n?void 0:n.gitRepo)&&{withGitRepoInfo:"true"}})),(0,r.ZP)(a||i?c:null,u,t)}function m(e){return e&&(e.host=e.url,e.isPrivate=e.public),e}function p(e){if(!e)return"";let t=e;return(t=t.replace(/^https?:\/\//,"")).startsWith("dpl_")?`${(0,a.PP)("v13")}/${t}`:`${(0,a.PP)("v13")}/get${(0,l.c)({url:t})}`}},613750:function(e,t,n){"use strict";var r=n(650403),i=n(727833),a=n(224066),l=n(91337);let s=async e=>new Promise((t,n)=>{let r=document.createElement("canvas"),i=new Image;i.onload=()=>{let{width:e,height:n}=i;r.width=e,r.height=n;let a=r.getContext("2d");null==a||a.drawImage(i,0,0,e,n);let l=(e,t)=>((null==a?void 0:a.getImageData(e,t,1,1).data[3])??0)<255;for(let r=0;r<e;r++)if(l(r,0)||l(r,n-1))return t(!1);for(let r=0;r<n;r++)if(l(0,r)||l(e-1,r))return t(!1);t(!0)},i.onerror=()=>{n(Error("failed to load image"))},i.src=e});t.Z=(e,t,n)=>{let{isReady:o,team:d}=(0,a.t7)(),{deployment:u,isLoading:c}=(0,l.s)(null==t?void 0:t.id),m=o?e&&"READY"===e.readyState?[e.id,"favicon"]:c||!u?null:[u.id,"favicon"]:null;return(0,r.Z)(m,async e=>{let[t]=e;if(!t)return null;let n=await fetch(`/api/favicon${(0,i.c)({deploymentId:t,teamId:null==d?void 0:d.id})}`);if(!n.ok||204===n.status)return null;let r=await n.blob(),a=URL.createObjectURL(r);try{return{src:a,isSquare:await s(a)}}catch{return null}},{...n})}},315633:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var r=n(650403),i=n(33100),a=n(499979);function l(){return(0,r.Z)(a.Aw,e=>(0,i.Io)(e,{throwOnHTTPError:!0}))}},495688:function(e,t,n){"use strict";n.d(t,{N8:function(){return p},TV:function(){return v},U1:function(){return m},mI:function(){return f},tk:function(){return i}});var r,i,a=n(181674),l=n(23870),s=n(499979),o=n(33100),d=n(727833),u=n(224066),c=n(819430);(r=i||(i={})).JSON="json",r.NDJSON="ndjson";let m=["lambda","build","edge","external"],p=["production","preview"],f=[{label:"Static",value:"static",description:"Requests to static assets like HTML and CSS files"},{label:"External",value:"external",description:"External rewrites to a different domain"},{label:"Edge",value:"edge",description:"Output from Edge Functions like Middleware"},{label:"Build",value:"build",description:"Output from the Build Step"},{label:"Lambda",value:"lambda",description:"Output from Vercel Functions like API Routes"}],h=(e,t)=>{let n=new URLSearchParams;return n.set("limit","20"),n.set("includes[]","project"),e&&n.set("teamId",e),t&&n.set("projectId",t),`${s.NX}?${n.toString()}&includes[]=integration`};function v(e){let{isReady:t,team:n}=(0,u.t7)(),{can:r,isLoading:i}=(0,c.ZP)(),m={list:r(c.aU.List,c._z.LogDrains),create:r(c.aU.Create,c._z.LogDrains),remove:r(c.aU.Delete,c._z.LogDrains),isLoading:i},p=(0,d.c)({teamId:null==n?void 0:n.id}),f=(0,a.ZP)(()=>t&&!m.isLoading&&m.list&&(null==e?void 0:e.enabled)?h(null==n?void 0:n.id,e.projectId):null,e=>(0,o.Io)(e,{throwOnHTTPError:!0}),e),v=(0,l.useMemo)(()=>{var e,t;return{selfServed:(null===(e=f.data)||void 0===e?void 0:e.filter(e=>"self-served"===e.createdFrom))??[],integrations:(null===(t=f.data)||void 0===t?void 0:t.filter(e=>"integration"===e.createdFrom))??[]}},[f.data]),g=async e=>{let{id:t}=e,n=await (0,o.Io)(`${s.NX}/${t}${p}`,{method:"DELETE",throwOnHTTPError:!0,returnStatus:!0});return await f.mutate(),n},b=async e=>{let{id:t,status:n}=e,r=await (0,o.Io)(`${s.NX}/update-status${p}`,{method:"POST",body:JSON.stringify({id:t,status:n,disabledAt:"disabled"===n?Date.now():void 0,disabledReason:"disabled"===n?"disabled-by-owner":void 0}),throwOnHTTPError:!0});return await f.mutate(),r},x=async e=>{let{deliveryFormat:t,sources:n,projectIds:r,url:i,headers:a,environments:l,branch:d,secret:u,samplingRate:c}=e,m=await (0,o.Io)(`${s.NX}${p}`,{method:"POST",throwOnHTTPError:!0,body:{deliveryFormat:t,sources:n,projectIds:r,url:i,headers:a,environments:l,branch:d,secret:u,samplingRate:c}});return await f.mutate(),m},y=async e=>{let t;return t="id"in e?{id:e.id}:{deliveryFormat:e.deliveryFormat,sources:e.sources,url:e.url,headers:e.headers,secret:e.secret},(0,o.Io)(`${s.NX}/sample-test${p}`,{method:"POST",body:t,throwOnHTTPError:!0})};return{...f,deleteLogDrain:g,createLogDrain:x,testLogDrain:y,updateLogDrain:b,permissions:m,team:n,logDrainsGroups:v,isLoadingLogDrains:!(null==e?void 0:e.enabled)||!t||m.isLoading||m.list&&!f.error&&!f.data,isTeamReady:t}}},256732:function(e,t,n){"use strict";n.d(t,{Er:function(){return f},ZP:function(){return h},eM:function(){return v},ot:function(){return p}});var r=n(23870),i=n(181674),a=n(181921),l=n(33100),s=n(499979),o=n(727833),d=n(713639),u=n(224066),c=n(819430),m=n(962249);let p=20;function f(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:n,limit:f,role:h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]&&arguments[2],g=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:b,team:x}=(0,u.t7)(),{isLoading:y,can:j}=(0,c.ZP)(),_=!y&&j(c.aU.List,c._z.TeamFellowMembership),E=(0,d.j)(),w=f||p,S=(0,a.ZP)((e,t)=>{var r;if(!b||!x||!_)return null;if(h&&0===e)return`${s.CZ}/${x.id}/members${(0,o.c)({limit:w,search:n,role:h})}`;if(!e)return`${s.CZ}/${x.id}/members${(0,o.c)({limit:w,search:n})}`;let i=(null==t?void 0:null===(r=t.pagination)||void 0===r?void 0:r.hasNext)?null==t?void 0:t.pagination.next:null;return h&&i?`${s.CZ}/${x.id}/members${(0,o.c)({limit:w,until:i,search:n,role:h})}`:i?`${s.CZ}/${x.id}/members${(0,o.c)({limit:w,until:i,search:n})}`:null},e=>(0,l.Io)(e,{throwOnHTTPError:!0}),{...t,use:v?[m.Z]:[]});(0,r.useEffect)(()=>{v&&S.resetLaggy()},[E,v]);let T=(0,r.useMemo)(()=>{var e;return(null===(e=S.data)||void 0===e?void 0:e.map(e=>e.members.slice(0,w)).flat())||[]},[S.data,w]),I=!!S.data,k=I&&0===T.length,C=!!(I&&S.data&&S.size>S.data.length),N=!!(I&&S.data&&!(null===(e=S.data[S.data.length-1])||void 0===e?void 0:e.pagination.hasNext));return g&&(0,i.ZP)(()=>{var e;if(!S.data||N||!b||!x)return null;let t=S.data[S.data.length-1],r=(null==t?void 0:null===(e=t.pagination)||void 0===e?void 0:e.hasNext)?null==t?void 0:t.pagination.next:null;return`${s.CZ}/${x.id}/members${(0,o.c)({limit:w,until:r,search:n})}`},e=>(0,l.Io)(e,{throwOnHTTPError:!0})),[S,{members:T,initialDataLoaded:I,isEmpty:k,loadMore:()=>S.setSize(S.size+1),isLoadingMore:C,isReachingEnd:N,isLagging:S.isLagging}]}function h(){let{limit:e=20,until:t,role:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:a,team:d}=(0,u.t7)(),{isLoading:m,can:p}=(0,c.ZP)(),f=!m&&p(c.aU.List,c._z.TeamFellowMembership);return(0,i.ZP)(()=>a&&d&&f?`${s.CZ}/${d.id}/members${(0,o.c)({until:t,limit:e,role:n})}`:null,e=>(0,l.Io)(e,{throwOnHTTPError:!0}),r)}function v(e){let{limit:t=20,until:n,role:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.ZP)(()=>e?`${s.CZ}/${e.id}/members${(0,o.c)({until:n,limit:t,role:r})}`:null,e=>(0,l.Io)(e,{throwOnHTTPError:!0}),a)}},649373:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},f:function(){return c}});var r=n(23870),i=n(181674),a=n(181921),l=n(33100),s=n(499979),o=n(727833),d=n(224066);function u(e){let{projectId:t,project:n,projectData:r,from:a,limit:u}=e,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{isReady:m,team:p}=(0,d.t7)();return(0,i.ZP)(()=>{let e=t||n.id||r.project.id;return m?`${s.sL}${(0,o.c)({projectId:e,teamId:null==p?void 0:p.id,from:a||null,limit:u})}`:null},e=>(0,l.Io)(e,{throwOnHTTPError:!0}),{refreshInterval:c})}function c(e,t,n){var i;let{projectId:u,project:c,projectData:m,limit:p}=e,{isReady:f,team:h}=(0,d.t7)(void 0,n),v=u||c.id||m.project.id,g=(0,a.ZP)((e,t)=>{if(!f)return null;let n={projectId:v,teamId:null==h?void 0:h.id,limit:p+1};if(!e)return`${s.sL}${(0,o.c)(n)}`;let r=(null==t?void 0:t.aliases.length)>p&&(null==t?void 0:t.pagination.next)||null;return r?`${s.sL}${(0,o.c)({...n,until:r})}`:null},e=>(0,l.Io)(e,{throwOnHTTPError:!0}),t),b=(0,r.useMemo)(()=>g.data?[].concat(...g.data.map(e=>e.aliases.slice(0,p))):[],[g.data,p]),x=!!g.data,y=x&&0===b.length,j=x&&g.size>g.data.length,_=x&&(null===(i=g.data[g.data.length-1])||void 0===i?void 0:i.aliases.length)<=p;return[g,{aliases:b,initialDataLoaded:x,isEmpty:y,loadMore:()=>g.setSize(e=>e+1),isLoadingMore:j,isReachingEnd:_}]}},310109:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(181674),i=n(33100),a=n(499979),l=n(727833),s=n(224066);function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{isReady:n,team:o}=(0,s.t7)();return(0,r.ZP)(()=>n?`${(0,a.HJ)("v6")}/count${(0,l.c)({...e,teamId:e.teamId||(null==o?void 0:o.id)})}`:"",e=>(0,i.Io)(e,{throwOnHTTPError:!0}),t)}},513601:function(e,t,n){"use strict";n.d(t,{B8:function(){return m},C8:function(){return f},Oe:function(){return p},g4:function(){return c}});var r=n(23870),i=n(181674),a=n(181921),l=n(33100),s=n(727833),o=n(499979),d=n(291632),u=n(224066);function c(e,t){let{isReady:n,team:r}=(0,u.t7)();return(0,i.ZP)(e&&n?`${(0,o.z1)("v9")}/${e.projectId}/domains/${e.name}${(0,s.c)({teamId:null==r?void 0:r.id})}`:null,e=>(0,l.Io)(e,{throwOnHTTPError:!0}),t)}function m(e){let{limit:t=10,gitBranch:n,production:r,redirect:a,redirects:d,verified:c,order:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:p,team:f}=(0,u.t7)();return(0,i.ZP)(e&&p?`${(0,o.z1)("v9")}/${e}/domains${(0,s.c)({limit:t,gitBranch:n,production:r,redirects:d,redirect:a,verified:c,order:m,teamId:null==f?void 0:f.id})}`:null,async e=>(await (0,l.Io)(e,{throwOnHTTPError:!0})).domains)}function p(e){var t;let{limit:n=20,gitBranch:i,production:d,redirect:c,redirects:m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0,{isReady:f,team:h}=(0,u.t7)(),v=(0,a.ZP)((t,r)=>{var a;if(!e||!f)return null;let l=`${(0,o.z1)("v9")}/${e}/domains`;if(!t)return`${l}${(0,s.c)({limit:n+1,gitBranch:i,production:d,redirect:c,redirects:m,teamId:null==h?void 0:h.id})}`;let u=((null==r?void 0:null===(a=r.domains)||void 0===a?void 0:a.length)||0)>n?null==r?void 0:r.domains[n-1].createdAt:null;return u?`${l}${(0,s.c)({limit:n+1,gitBranch:i,production:d,redirects:m,teamId:null==h?void 0:h.id,until:u})}`:null},async e=>(0,l.Io)(e,{throwOnHTTPError:!0}),p),g=(0,r.useMemo)(()=>v.data?[].concat(...v.data.map(e=>e.domains.slice(0,n))):[],[v.data,n]),b=!!v.data,x=b&&0===g.length,y=v.data&&v.size>v.data.length,j=v.data&&(null===(t=v.data[v.data.length-1])||void 0===t?void 0:t.domains.length)<=n;return[v,{domains:g,initialDataLoaded:b,isEmpty:x,loadMore:()=>v.setSize(e=>e+1),isLoadingMore:y,isReachingEnd:j,isLoading:v.isLoading}]}function f(e){let{data:t,...n}=m(e,{limit:10,production:"true",redirects:"false",verified:"true",order:"ASC"}),[r=null]=(0,d.c)(t);return{domain:r,loaded:!!(n.error||t),...n}}},826964:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(181674),i=n(33100),a=n(499979),l=n(727833),s=n(224066);function o(e,t,n){let{isReady:o,team:d}=(0,s.t7)(void 0,n);return(0,r.ZP)(()=>e&&o?`${(0,a.HJ)("v4")}/${encodeURIComponent(e)}/integrations${(0,l.c)({teamId:null==d?void 0:d.id})}`:"",e=>(0,i.Io)(e,{throwOnHTTPError:!0}),t)}},91337:function(e,t,n){"use strict";n.d(t,{e:function(){return u},s:function(){return d}});var r=n(181674),i=n(33100),a=n(727833),l=n(499979),s=n(291632),o=n(224066);function d(e){let{config:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:n,team:s}=(0,o.t7)(),{data:d,...u}=(0,r.ZP)(e&&n?`${(0,l.HJ)("v1")}/${e}/production-deployment${(0,a.c)({teamId:null==s?void 0:s.id})}`:null,async e=>{try{return await (0,i.Io)(e,{throwOnHTTPError:!0})}catch(e){return null}},t),c=!!(void 0!==d||u.error);return{deployment:null==d?void 0:d.deployment,domain:null==d?void 0:d.domain,deploymentIsStale:null==d?void 0:d.deploymentIsStale,loaded:c,data:d,...u}}function u(e){if(!e)return{domain:null,deployment:null};let t=(0,s.c)((e.alias||[]).map(e=>({name:e.domain,redirect:e.redirect,raw:e}))).find(e=>e.raw.deployment);return t?{domain:{name:t.name,projectId:e.id},deployment:t.raw.deployment}:{domain:null,deployment:null}}},905206:function(e,t,n){"use strict";n.d(t,{PY:function(){return o},W5:function(){return c},Z0:function(){return u},h7:function(){return d}});var r=n(181674),i=n(33100),a=n(499979),l=n(727833),s=n(224066);function o(e){let{latestDeployments:t=0,activeBranches:n,config:o,apiVersion:d,fetchOptions:u,fetchParams:c={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=arguments.length>2?arguments[2]:void 0,{isReady:p,team:f}=(0,s.t7)();return(0,r.ZP)(p&&e?`${d?(0,a.HJ)(d):a.VE}/${encodeURIComponent(decodeURIComponent(e))}${(0,l.c)({teamId:m||(null==f?void 0:f.id),latestDeployments:t,activeBranches:n?1:void 0,...c})}`:"",e=>(0,i.Io)(e,{throwOnHTTPError:!0,throwOnSAMLError:null==u?void 0:u.throwOnSAMLError}),o)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return o(e,{...t,apiVersion:"v8"},n)}function u(e){let{config:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:n,team:o}=(0,s.t7)();return(0,r.ZP)(n&&Array.isArray(e)?e.map(e=>e?`${(0,a.HJ)("v8")}/${encodeURIComponent(decodeURIComponent(e))}${(0,l.c)({teamId:null==o?void 0:o.id})}`:null).filter(Boolean):[],async e=>0===e.length?[]:await Promise.all(e.map(e=>(0,i.Io)(e,{throwOnHTTPError:!0}))),t)}function c(e,t){return o(e,{latestDeployments:1,config:t})}o.preload=(e,t)=>`${a.VE}/${encodeURIComponent(decodeURIComponent(e))}${(0,l.c)({teamId:t,latestDeployments:0})}`},590770:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var r=n(181674),i=n(33100),a=n(499979),l=n(727833),s=n(713639),o=n(784499),d=n(819430);function u(){let{enabled:e,throwOnHTTPError:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.j)(),{account:u}=(0,o.Z)(),{can:c,isLoading:m}=(0,d.ZP)(),p=c(d.aU.Read,d._z.BillingInvoice),f=(e??!0)&&!!u&&!m&&p;return(0,r.ZP)(()=>{var e;return f&&(null==u?void 0:null===(e=u.billing)||void 0===e?void 0:e.plan)!=="hobby"?`${a.Qi}${(0,l.c)({slug:n})}`:null},e=>(0,i.Io)(e,{throwOnHTTPError:t??!0}),{shouldRetryOnError:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1})}},659914:function(e,t,n){"use strict";n.d(t,{ZW:function(){return s},a:function(){return a},ac:function(){return l},fu:function(){return i},go:function(){return u},hw:function(){return d}});var r=n(250081);function i(e){let t=[];for(let[n,r]of Object.entries(e)){let e=o.indexOf(n);e>-1&&(t[e]=r)}return t.join(",")}function a(e){let t={};return e.split(",").forEach((e,n)=>{let r=o[n];void 0!==r&&(t[r]=e)}),t}function l(e){let t=[];for(let[n,r]of Object.entries(e)){let e=o.indexOf(n);e>-1&&(t[e]=r)}return t.join(",")}function s(e){let t={};return e.split(",").forEach((e,n)=>{let r=o[n];void 0!==r&&(t[r]=e)}),t}let o=Object.keys(r.t);function d(e){let t=[];for(let[n,i]of Object.entries(e)){let e=o.indexOf(n);if(e<0)throw Error(`Experiment '${n}' is not defined in experiments.ts.`);let a=Object.entries(i);if(a.length<1)throw Error("No parameters were provided.");let l=[`${e}`];a.forEach((e,t)=>{let[i,a]=e,s=r.t[n];if(!s)throw Error(`Received an experiment '${n}' that is not contained in experiments.ts.`);let o=s.params[i];if(!o)throw Error(`Received a parameter '${i}' that does not exist for experiment '${n}' in experiments.ts.`);let d=o.indexOf(a);if(d<0)throw Error(`Received a value ${JSON.stringify(a)} for parameter '${i}' for experiment '${n}' that does not exist in experiments.ts.`);l.push(`${t}v${d}`)}),t.push(l.join("p"))}return t.join("e")}function u(e){let t=Array.isArray(e)?e[0]:e;if(!t||0===t.length)throw Error("Encoded experiment string is empty.");let n=t.split("e");if(0===n.length)throw Error("No experiments are encoded.");let i={},a=Object.keys(r.t);for(let e of n){let t={},n=e.split("p");if(n.length<2||void 0===n[0]||void 0===n[1])throw Error("Invalid experiment encoding.");let l=parseInt(n[0]);if(Number.isNaN(l))throw Error(`Experiment index ${l} is NaN.`);let s=a[l];if(!s)throw Error(`Experiment provided with index ${l} is not a valid index.`);for(let e of(n.splice(0,1),n)){let[n,i]=e.split("v");if(!n)throw Error(`No parameter index was provided for experiment ${s}.`);if(!i)throw Error(`No parameter value index was provided for experiment ${s}.`);let a=parseInt(n),l=parseInt(i);if(Number.isNaN(a))throw Error(`Received invalid parameter index '${n}' for experiment '${s}'.`);if(Number.isNaN(l))throw Error(`Received invalid parameter value index '${i}' for experiment '${s}'.`);let o=r.t[s];if(!o)throw Error(`Experiment '${s}' does not exist in experiments definition.`);let d=Object.entries(o.params)[a];if(!d)continue;let u=d[0],c=d[1][l];if(void 0===c)throw Error(`Parameter value at index ${l} for parameter at index ${a} for experiment '${s}' does not exist.`);t[u]=c}i[s]=t}return i}},450126:function(e,t,n){"use strict";n.d(t,{l1:function(){return u},Zl:function(){return w},Ng:function(){return _},m$:function(){return E},mZ:function(){return j},qA:function(){return g},xh:function(){return m},lP:function(){return v},cw:function(){return c},ky:function(){return f},NY:function(){return h},ru:function(){return p},ro:function(){return x},Hf:function(){return T},gE:function(){return y}});var r=n(180498),i=n(511196),a=n(250081),l=n(531058),s=n(659914),o=n(945790);function d(e){let t=JSON.stringify(e??a.t);return String((0,o.q)(t))}let u="/api/exp",c=`${i.CA}_exp`,m=`${c}_${d()}`,p=`${c}_rules_${d()}`,f=`${c}_groups_${d()}`,h=`${i.CA}_ovrw`,v="30d";(0,r.Z)("30d");let g="production"!==l.$,b=Object.entries(a.t),x=function(){let e={};for(let[t,n]of b){let r={};for(let[e,t]of Object.entries(n.params)){let n=t[0];void 0!==n&&(r[e]=n)}e[t]=r}return e}(),y=(0,s.hw)(x),j=()=>{let e={};for(let[t,n]of b)e[t]="allocation";return e},_=(0,s.ac)(j()),E=()=>{let e={};for(let[t,n]of b)e[t]="Control";return e},w=(0,s.fu)({});function S(e){let t=[];for(let n of Object.values(a.t)){let r=n.paths[e];r&&t.push(...r)}return t}S("com"),S("org"),function(e){let t=[];for(let e of Object.values(a.t)){if(!Object.prototype.hasOwnProperty.call(e,"appFuture"))continue;let n=e.paths.com;n&&t.push(...n)}}(0);let T=6e5},250081:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});let r={monorepo_import:{params:{monorepo_import_enabled:[!1,!0]},paths:{com:["/new/import/monorepo"],org:[]}},pro_trial_onboarding:{params:{show:[!1,!0]},paths:{com:["/onboarding"],org:[]}},gro_621:{params:{on:[!1,!0]},paths:{com:[],org:[]}},gro_1685_cc_gate_trial:{params:{gated:[!1,!0]},paths:{com:[],org:[]}},web_analytics_pro_modal:{params:{showUpgradeModal:[!1,!0]},paths:{com:[],org:[]}},gro_1851_enterprise_personalization_banner:{params:{showToast:[!1,!0]},paths:{com:[],org:[]}},storage_postgres_aa:{params:{enabled:[!1,!0]},paths:{com:["/storage/postgres"],org:[]}},homepage_get_a_demo_language:{appFuture:!0,params:{label:["Get a Demo","Contact Sales","Schedule a Demo"]},paths:{com:["/home","/"],org:[]}}}},945790:function(e,t,n){"use strict";function r(e){let t=2166136261n;for(let n=0;n<e.length;n++)t^=BigInt(e.charCodeAt(n)),t=BigInt.asUintN(32,16777619n*t);return Number(t)}n.d(t,{q:function(){return r}})},511196:function(e,t,n){"use strict";n.d(t,{CA:function(){return l},K4:function(){return d},Lt:function(){return u},QI:function(){return s},ai:function(){return o},rB:function(){return c}});var r=n(180498),i=n(531058),a=n(712399);i.$;let l="grw",s=`${l}_i_${(0,a.J7)()}`,o="36Weeks";(0,r.Z)("36Weeks"),"production"!==i.$&&i.$;let d=["layerAssignment","holdout","notStarted","targetingGate","allocation","abandoned","prestart","launchedGroup"],u=["isVercelian","uid"],c={isVercelian:"passthrough",uid:e=>({value:!!e,property:"isPossiblyLoggedIn"})}},712399:function(e,t,n){"use strict";n.d(t,{$m:function(){return s},D9:function(){return l},J7:function(){return o},nk:function(){return a}});var r=n(152801),i=n(945790);let a="v_";function l(){return(0,r.x0)()}function s(e){return`${a}${e}`}function o(){return String((0,i.q)("1.0"))}},104582:function(e,t,n){"use strict";n.d(t,{Lb:function(){return l},sq:function(){return s}});var r=n(454626),i=n(511196),a=n(712399);function l(e){return e?(0,a.$m)(e):(0,a.D9)()}function s(e){let t=(0,r.ej)(i.QI);return t&&"undefined"!==t&&(!e||t.startsWith(a.nk))?t:null}},531058:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});let r="production"},156582:function(e,t,n){"use strict";n.d(t,{_:function(){return r}});let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=1!==t?`${e}s`:e;return n&&(r=`${t} ${r}`),r}},281654:function(e,t,n){"use strict";n.d(t,{zo:function(){return l},zt:function(){return a}});var r=n(23870);let i=r.createContext(null);i.displayName="CollapseContext";let a=i.Provider;i.Consumer;let l=()=>(0,r.useContext)(i)},704648:function(e,t,n){"use strict";var r=n(203713),i=n(23870),a=n(281654),l=n(556320),s=n.n(l);t.default=function(e){let{children:t,...n}=e,[l,o]=(0,i.useState)(""),d=(0,i.useCallback)(e=>{o(e)},[]);return(0,r.jsx)("div",{className:s().collapseGroup,"data-version":"v1",...n,children:(0,r.jsx)(a.zt,{value:{selected:l,onChange:d},children:t})})}},349841:function(e,t,n){"use strict";var r=n(203713),i=n(23870),a=n(173392),l=n(880302),s=n(765067),o=n(566029),d=n(615066),u=n(330826),c=n(281654),m=n(556320),p=n.n(m);let f=e=>{let{defaultExpanded:t,title:n,subtitle:m,id:f,onToggle:h,onExpand:v,card:g,size:b,children:x,className:y,titleSuffix:j,alignChevronLeft:_=!1,...E}=e,[w,S]=(0,i.useState)(t),T=(0,c.zo)(),I=(0,o.M)("collapse-section-"),k=(0,o.M)("collapse-button-"),[C,{height:N}]=(0,l.Z)(),O=(0,i.useCallback)(()=>S(!w),[w]),P=(0,i.useMemo)(()=>T&&T.selected?T.selected===n:w,[T,w,n]),A=(0,i.useCallback)(()=>{(0,d.q)().then(()=>{T?(T.onChange(P?"":n),"function"==typeof h&&h(void 0!==P&&P),P||"function"!=typeof v||v()):O()})},[T,P,n,h,v,O]);return(0,r.jsxs)("div",{className:(0,a.W)(p().collapse,{[String(p().card)]:g,[String(p().context)]:T},y),"data-version":"v1",id:f,...E,children:[(0,r.jsxs)(u.x,{as:"h3",size:"small"===b?16:24,weight:"small"===b?500:600,children:[(0,r.jsxs)("button",{"aria-controls":I,"aria-disabled":P?t:void 0,"aria-expanded":P,className:(0,a.W)("geist-reset",p().button),id:k,onClick:A,type:"button",children:[(0,r.jsxs)("span",{className:(0,a.W)(p().title,{[String(p().alignChevronLeft)]:!!(j||_),[String(p().small)]:"small"===b}),children:[n,(0,r.jsx)("span",{className:(0,a.W)(p().icon,{[String(p().open)]:P}),children:(0,r.jsx)(s.ChevronDownSmall,{})})]}),j?(0,r.jsx)("span",{children:j}):null]}),m?(0,r.jsx)("span",{className:p().subtitle,children:m}):null]}),(0,r.jsx)("div",{"aria-labelledby":k,className:p().collapseContent,id:I,role:"region",style:{height:P&&N?N:0},children:(0,r.jsx)("div",{ref:C,children:x})})]})};f.displayName="Collapse",t.default=(0,i.memo)(f)},410892:function(e,t,n){"use strict";n.d(t,{Kbd:function(){return u}});var r=n(203713),i=n(173392),a=n(309485),l=n(600113),s=n(685557),o=n(504760),d=n.n(o);function u(e){let{meta:t,shift:n,alt:l,ctrl:s,small:o,children:u,className:m,type:p,...f}=e,h=(0,a.o)(p,!0);return(0,r.jsxs)("kbd",{className:(0,i.W)(d().kbd,{[String(d().small)]:o},h,m),...f,"data-geist-kbd":"","data-version":"v1",children:[t?(0,r.jsx)(c,{}):null,n?(0,r.jsx)("span",{children:"⇧"}):null,l?(0,r.jsx)("span",{children:"⌥"}):null,s?(0,r.jsx)("span",{children:"⌃"}):null,u?(0,r.jsx)("span",{children:u}):null]})}let c=function(e){let{displayName:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.displayName=`ClientSideRendered${t??e.displayName}`,(0,s.default)(()=>Promise.resolve(e),{ssr:!1,...n})}(()=>{let e=(0,l.mL)(),t="\xa0";return!0===e&&(t="⌘"),!1===e&&(t="Ctrl"),(0,r.jsx)("span",{children:t})},{displayName:"Meta"})},772849:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});let r=(0,n(99567).H)('<path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/>')},657263:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});let r=(0,n(99567).H)('<rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><path d="M1 10h22"/>')},546118:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});let r=(0,n(99567).H)('<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>')},794784:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});let r=(0,n(99567).H)('<circle cx="12" cy="12" r="10"/><path d="M12 8v8"/><path d="M8 12h8"/>')},71755:function(e,t,n){"use strict";n.r(t),n.d(t,{Check:function(){return r}});let r=(0,n(987427).l)('<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5607 3.99999L15.0303 4.53032L6.23744 13.3232C5.55403 14.0066 4.44599 14.0066 3.76257 13.3232L4.2929 12.7929L3.76257 13.3232L0.969676 10.5303L0.439346 9.99999L1.50001 8.93933L2.03034 9.46966L4.82323 12.2626C4.92086 12.3602 5.07915 12.3602 5.17678 12.2626L13.9697 3.46966L14.5 2.93933L15.5607 3.99999Z" fill="currentColor"/>')},765067:function(e,t,n){"use strict";n.r(t),n.d(t,{ChevronDownSmall:function(){return r}});let r=(0,n(987427).l)('<path fill-rule="evenodd" clip-rule="evenodd" d="M12.0607 6.74999L11.5303 7.28032L8.7071 10.1035C8.31657 10.4941 7.68341 10.4941 7.29288 10.1035L4.46966 7.28032L3.93933 6.74999L4.99999 5.68933L5.53032 6.21966L7.99999 8.68933L10.4697 6.21966L11 5.68933L12.0607 6.74999Z" fill="currentColor"/>')},917633:function(e,t,n){"use strict";n.r(t),n.d(t,{ChevronUpDown:function(){return r}});let r=(0,n(987427).l)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.7071 2.39644C8.31658 2.00592 7.68341 2.00592 7.29289 2.39644L4.46966 5.21966L3.93933 5.74999L4.99999 6.81065L5.53032 6.28032L7.99999 3.81065L10.4697 6.28032L11 6.81065L12.0607 5.74999L11.5303 5.21966L8.7071 2.39644ZM5.53032 9.71966L4.99999 9.18933L3.93933 10.25L4.46966 10.7803L7.29289 13.6035C7.68341 13.9941 8.31658 13.9941 8.7071 13.6035L11.5303 10.7803L12.0607 10.25L11 9.18933L10.4697 9.71966L7.99999 12.1893L5.53032 9.71966Z" fill="currentColor"/>')},564170:function(e,t,n){"use strict";n.r(t),n.d(t,{MagnifyingGlass:function(){return r}});let r=(0,n(987427).l)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 6.5C1.5 3.73858 3.73858 1.5 6.5 1.5C9.26142 1.5 11.5 3.73858 11.5 6.5C11.5 9.26142 9.26142 11.5 6.5 11.5C3.73858 11.5 1.5 9.26142 1.5 6.5ZM6.5 0C2.91015 0 0 2.91015 0 6.5C0 10.0899 2.91015 13 6.5 13C8.02469 13 9.42677 12.475 10.5353 11.596L13.9697 15.0303L14.5 15.5607L15.5607 14.5L15.0303 13.9697L11.596 10.5353C12.475 9.42677 13 8.02469 13 6.5C13 2.91015 10.0899 0 6.5 0Z" fill="currentColor"/>')},737248:function(e,t,n){"use strict";n.r(t),n.d(t,{PlusCircle:function(){return r}});let r=(0,n(987427).l)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.75 4.25V5V7.25H11H11.75V8.75H11H8.75V11V11.75L7.25 11.75V11V8.75H5H4.25V7.25H5H7.25V5V4.25H8.75Z" fill="currentColor"/>')},732909:function(e){e.exports={listWrapper:"command_listWrapper__Z0CYA",button:"command_button__GEW7O",disabled:"command_disabled__KnRcs",hidebutton:"command_hidebutton__Jji6_"}},573555:function(e){e.exports={item:"details-table_item__jMSI5",subitem:"details-table_subitem__xmGdX",summary:"details-table_summary__9UA5G",childless:"details-table_childless__B0TcX",content:"details-table_content__mD8m8","no-max-height":"details-table_no-max-height__6mqQ9"}},582289:function(e){e.exports={content:"add-domain-in-use-modal_content__LueVZ",inset:"add-domain-in-use-modal_inset__9urIL",subitem:"add-domain-in-use-modal_subitem__uOVQM",outset:"add-domain-in-use-modal_outset__DVG8c",loadingItem:"add-domain-in-use-modal_loadingItem__PYtwa",favicon:"add-domain-in-use-modal_favicon__DLotA",noteCenterText:"add-domain-in-use-modal_noteCenterText__vGvYG"}},479545:function(e){e.exports={lgltzb:"helpers_lgltzb__JGkBJ"}},819204:function(e){e.exports={option:"selector-option_option__fmOX4",text:"selector-option_text__9xWxn",selected:"selector-option_selected__x_FCS",description:"selector-option_description__dvaM7",monochrome:"selector-option_monochrome__C3b_o"}},442534:function(e){e.exports={selector:"selector_selector__DNa4m"}},755631:function(e){e.exports={"step-indicator":"step-indicator_step-indicator__bdpwv",circle:"step-indicator_circle__psPR3",current:"step-indicator_current__WmVfj"}},671658:function(e){e.exports={input:"add-team-members-input_input__ACcEv","add-member":"add-team-members-input_add-member__E4ErU","member-list":"add-team-members-input_member-list__PVCpu"}},248550:function(e){e.exports={detectAutofill:"billing-address-form_detectAutofill__VKPpH",onAutoFillStart:"billing-address-form_onAutoFillStart__dSPyB"}},718691:function(e){e.exports={button:"member-seats-select_button__BPdgD",entity:"member-seats-select_entity__j1xSI",inactive:"member-seats-select_inactive__UvAES"}},938383:function(e){e.exports={selectorOption:"shared-pricing-step_selectorOption__MGfyv"}},732058:function(e){e.exports={details:"itemized-receipt_details__c3Tti",upgradeTeam:"itemized-receipt_upgradeTeam__W_5SE",urgent:"itemized-receipt_urgent__fdsAV",lineItemWrapper:"itemized-receipt_lineItemWrapper__V7wZU",sublineWrapper:"itemized-receipt_sublineWrapper__oj_K9",lineItem:"itemized-receipt_lineItem__wku55"}},562535:function(e){e.exports={container:"pricing-table_container__GbeCj",table:"pricing-table_table__TGpED","body-row":"pricing-table_body-row__bFT1z",tooltip:"pricing-table_tooltip__7j5_4"}},613244:function(e){e.exports={"team-name":"team-select-combobox_team-name__uKsyE",selected:"team-select-combobox_selected__lNVcD"}},517884:function(e){e.exports={command:"v2_command__u1HG4",notInteractive:"v2_notInteractive__3E5Zl",content:"v2_content__QUCPY",open:"v2_open__vsEd9",input:"v2_input__Y7ovy",kbd:"v2_kbd__oytEm",close:"v2_close__1M4n4"}},462826:function(e){e.exports={"credit-card-card":"pricing-step_credit-card-card__QKyAz"}},692087:function(e){e.exports={pill:"inline-pill_pill__gOvxZ",avatar:"inline-pill_avatar___JLA1",padding:"inline-pill_padding__SYt_4"}},967730:function(e){e.exports={inline:"confirmation_inline__cVWJf",summary:"confirmation_summary__r27iJ",details:"confirmation_details__dNEhV",note:"confirmation_note__QFuei",warnings:"confirmation_warnings__rhjZ0",loadMore:"confirmation_loadMore__EkiCn",detailsTitle:"confirmation_detailsTitle__aocE9",subDetails:"confirmation_subDetails__ZCtDl",container:"confirmation_container__Fq64D"}},107908:function(e){e.exports={rows:"error_rows__svfkC",row:"error_row__TVSO7"}},205978:function(e){e.exports={list:"select-projects_list__40CIC",rowContainer:"select-projects_rowContainer__DXSzi",label:"select-projects_label__78qhM",header:"select-projects_header__pUK0x",row:"select-projects_row__ng1oM",checkbox:"select-projects_checkbox__PjlNN",skeleton:"select-projects_skeleton__AYMxv",checkboxContainer:"select-projects_checkboxContainer__0dZbj"}},30512:function(e){e.exports={child:"transfer-modal-step_child__T__un",padding:"transfer-modal-step_padding__6gu7p",inset:"transfer-modal-step_inset__742Ju"}},568891:function(e){e.exports={option:"checkbox-option_option__5wdaU",input:"checkbox-option_input__Khsdd",hidden:"checkbox-option_hidden__j0nbW",heading:"checkbox-option_heading__ZFzPX",keyboard:"checkbox-option_keyboard__0Gomj","selected-icon":"checkbox-option_selected-icon__peBbP",selected:"checkbox-option_selected__krkmf"}},880806:function(e){e.exports={list:"checkbox-select_list__qqnB9"}},209894:function(e){e.exports={prompt:"survey-prompt-toast_prompt__WqnnC","close-button":"survey-prompt-toast_close-button__vYpY_",description:"survey-prompt-toast_description__7LiDm"}},881855:function(e){e.exports={text:"survey-prompt_text__VaPyd"}},610921:function(e){e.exports={survey:"survey_survey___qD1O","no-padding":"survey_no-padding__uzYoR",modal:"survey_modal__Dpx0S",instructions:"survey_instructions__LO4iD",header:"survey_header__zNWRJ",title:"survey_title__sXZS_",footer:"survey_footer__hfArp",buttons:"survey_buttons__ehsQm",stacked:"survey_stacked__8mnYe","back-button":"survey_back-button__5U9mT",info:"survey_info__gMmNV","align-left":"survey_align-left__r6838",tip:"survey_tip__rzOie",fadeIn:"survey_fadeIn__i0Y9T",hidden:"survey_hidden__T_a0b","step-indicator":"survey_step-indicator__Wo2YU",single:"survey_single__VTV3m","skip-button":"survey_skip-button__gw76J","skip-text":"survey_skip-text__tFdNp","submit-button":"survey_submit-button__emPKt"}},892838:function(e){e.exports={frameworkIcon:"framework-icon_frameworkIcon__1rajk"}},556320:function(e){e.exports={collapse:"collapse_collapse__jnADW",context:"collapse_context__abJXz",card:"collapse_card__Q9Lh1",button:"collapse_button__c5KQX",small:"collapse_small__3xMJB",subtitle:"collapse_subtitle__0Slr4",collapseContent:"collapse_collapseContent__rYKLK",title:"collapse_title__1SBVU",alignChevronLeft:"collapse_alignChevronLeft__lrDlk",icon:"collapse_icon__NfYkN",open:"collapse_open__enk3q",collapseGroup:"collapse_collapseGroup__x3PHh"}},504760:function(e){e.exports={kbd:"kbd_kbd__tWm25",small:"kbd_small__ZiPfe"}}}]);
//# debugId=8d29274b-2221-516a-8200-6e9df843d784
